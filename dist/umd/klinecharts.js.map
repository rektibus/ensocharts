{"version":3,"file":"klinecharts.js","sources":["../../src/common/utils/typeChecks.ts","../../src/common/utils/color.ts","../../src/common/Styles.ts","../../src/common/utils/format.ts","../../src/common/utils/canvas.ts","../../src/common/Coordinate.ts","../../src/common/Eventful.ts","../../src/component/Figure.ts","../../src/extension/figure/arc.ts","../../src/extension/figure/circle.ts","../../src/extension/figure/line.ts","../../src/extension/figure/polygon.ts","../../src/extension/figure/rect.ts","../../src/extension/figure/text.ts","../../src/extension/figure/path.ts","../../src/extension/figure/index.ts","../../src/component/Indicator.ts","../../src/extension/indicator/averagePrice.ts","../../src/extension/indicator/awesomeOscillator.ts","../../src/extension/indicator/bias.ts","../../src/extension/indicator/bollingerBands.ts","../../src/extension/indicator/brar.ts","../../src/extension/indicator/bullAndBearIndex.ts","../../src/extension/indicator/commodityChannelIndex.ts","../../src/extension/indicator/currentRatio.ts","../../src/extension/indicator/differentOfMovingAverage.ts","../../src/extension/indicator/directionalMovementIndex.ts","../../src/extension/indicator/easeOfMovementValue.ts","../../src/extension/indicator/exponentialMovingAverage.ts","../../src/extension/indicator/momentum.ts","../../src/extension/indicator/movingAverage.ts","../../src/extension/indicator/movingAverageConvergenceDivergence.ts","../../src/extension/indicator/onBalanceVolume.ts","../../src/extension/indicator/priceAndVolumeTrend.ts","../../src/extension/indicator/psychologicalLine.ts","../../src/extension/indicator/rateOfChange.ts","../../src/extension/indicator/relativeStrengthIndex.ts","../../src/extension/indicator/simpleMovingAverage.ts","../../src/common/utils/number.ts","../../src/extension/indicator/stoch.ts","../../src/extension/indicator/stopAndReverse.ts","../../src/extension/indicator/tripleExponentiallySmoothedAverage.ts","../../src/extension/indicator/volume.ts","../../src/extension/indicator/volumeRatio.ts","../../src/extension/indicator/williamsR.ts","../../src/extension/indicator/index.ts","../../src/extension/i18n/zh-CN.ts","../../src/extension/i18n/en-US.ts","../../src/extension/i18n/index.ts","../../src/component/Overlay.ts","../../src/common/SymbolInfo.ts","../../src/extension/overlay/fibonacciLine.ts","../../src/extension/overlay/horizontalRayLine.ts","../../src/extension/overlay/horizontalSegment.ts","../../src/extension/overlay/horizontalStraightLine.ts","../../src/extension/overlay/parallelStraightLine.ts","../../src/extension/overlay/priceChannelLine.ts","../../src/extension/overlay/priceLine.ts","../../src/extension/overlay/rayLine.ts","../../src/extension/overlay/segment.ts","../../src/extension/overlay/straightLine.ts","../../src/extension/overlay/verticalRayLine.ts","../../src/extension/overlay/verticalSegment.ts","../../src/extension/overlay/verticalStraightLine.ts","../../src/extension/overlay/simpleAnnotation.ts","../../src/extension/overlay/simpleTag.ts","../../src/extension/overlay/arrow.ts","../../src/extension/overlay/circle.ts","../../src/extension/overlay/rect.ts","../../src/extension/overlay/triangle.ts","../../src/extension/overlay/parallelogram.ts","../../src/extension/overlay/fibonacciCircle.ts","../../src/extension/overlay/fibonacciSegment.ts","../../src/extension/overlay/fibonacciExtension.ts","../../src/extension/overlay/fibonacciSpiral.ts","../../src/extension/overlay/fibonacciSpeedResistanceFan.ts","../../src/extension/overlay/fibonacciDiagonal.ts","../../src/extension/overlay/gannBox.ts","../../src/extension/overlay/waves.ts","../../src/extension/overlay/abcd.ts","../../src/extension/overlay/xabcd.ts","../../src/extension/overlay/elliotTripleComboWaves.ts","../../src/extension/overlay/headAndShoulders.ts","../../src/extension/overlay/measure.ts","../../src/extension/overlay/crossLine.ts","../../src/extension/overlay/flatTopBottom.ts","../../src/extension/overlay/disJointChannel.ts","../../src/extension/overlay/arcOverlay.ts","../../src/extension/overlay/tradingPlan.ts","../../src/extension/overlay/index.ts","../../src/extension/styles/light.ts","../../src/extension/styles/dark.ts","../../src/extension/styles/index.ts","../../src/component/Axis.ts","../../src/common/Period.ts","../../src/component/XAxis.ts","../../src/extension/x-axis/normal.ts","../../src/extension/x-axis/index.ts","../../src/pane/types.ts","../../src/component/YAxis.ts","../../src/extension/y-axis/normal.ts","../../src/extension/y-axis/percentage.ts","../../src/extension/y-axis/logarithm.ts","../../src/extension/y-axis/index.ts","../../src/common/utils/logger.ts","../../src/common/Bounding.ts","../../src/common/utils/compatible.ts","../../src/common/Animation.ts","../../src/common/utils/id.ts","../../src/common/utils/dom.ts","../../src/common/VisibleRange.ts","../../src/common/TaskScheduler.ts","../../src/common/Action.ts","../../src/Store.ts","../../src/widget/types.ts","../../src/common/Canvas.ts","../../src/widget/Widget.ts","../../src/widget/DrawWidget.ts","../../src/view/View.ts","../../src/view/GridView.ts","../../src/view/ChildrenView.ts","../../src/view/CandleBarView.ts","../../src/view/IndicatorView.ts","../../src/view/CrosshairLineView.ts","../../src/view/IndicatorTooltipView.ts","../../src/view/OverlayView.ts","../../src/widget/IndicatorWidget.ts","../../src/view/CandleAreaView.ts","../../src/view/CandleHighLowPriceView.ts","../../src/view/CandleLastPriceLineView.ts","../../src/view/CandleTooltipView.ts","../../src/view/CrosshairFeatureView.ts","../../src/widget/CandleWidget.ts","../../src/view/AxisView.ts","../../src/view/YAxisView.ts","../../src/view/CandleLastPriceLabelView.ts","../../src/view/IndicatorLastValueView.ts","../../src/view/OverlayYAxisView.ts","../../src/view/CrosshairHorizontalLabelView.ts","../../src/widget/YAxisWidget.ts","../../src/pane/Pane.ts","../../src/pane/DrawPane.ts","../../src/pane/IndicatorPane.ts","../../src/pane/CandlePane.ts","../../src/view/XAxisView.ts","../../src/view/OverlayXAxisView.ts","../../src/view/CrosshairVerticalLabelView.ts","../../src/widget/XAxisWidget.ts","../../src/pane/XAxisPane.ts","../../src/common/utils/performance.ts","../../src/widget/SeparatorWidget.ts","../../src/pane/SeparatorPane.ts","../../src/common/utils/platform.ts","../../src/common/EventHandler.ts","../../src/Event.ts","../../src/Chart.ts","../../src/core.ts","../../src/pro/ChartMain.tsx","../../src/pro/extension/utils.ts","../../src/pro/extension/arrow.ts","../../src/pro/extension/circle.ts","../../src/pro/extension/rect.ts","../../src/pro/extension/parallelogram.ts","../../src/pro/extension/triangle.ts","../../src/pro/extension/fibonacciCircle.ts","../../src/pro/extension/fibonacciSegment.ts","../../src/pro/extension/fibonacciSpiral.ts","../../src/pro/extension/fibonacciSpeedResistanceFan.ts","../../src/pro/extension/fibonacciExtension.ts","../../src/pro/extension/gannBox.ts","../../src/pro/extension/threeWaves.ts","../../src/pro/extension/fiveWaves.ts","../../src/pro/extension/eightWaves.ts","../../src/pro/extension/anyWaves.ts","../../src/pro/extension/abcd.ts","../../src/pro/extension/xabcd.ts","../../src/pro/extension/elliotTripleComboWaves.ts","../../src/pro/extension/headAndShoulders.ts","../../src/pro/extension/measure.ts","../../src/pro/extension/crossLine.ts","../../src/pro/extension/faltTopBottom.ts","../../src/pro/extension/disJointChannel.ts","../../src/pro/extension/arc.ts","../../src/pro/extension/tradingPlan.ts","../../src/pro/extension/fibonacciDiagonal.ts","../../src/pro/extension/index.ts","../../src/index.ts"],"sourcesContent":["/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any -- ignore\nexport function merge (target: any, source: any): void {\n  if ((!isObject(target) && !isObject(source))) {\n    return\n  }\n  for (const key in source) {\n    if (Object.prototype.hasOwnProperty.call(source, key) as boolean) {\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment, @typescript-eslint/no-unsafe-member-access -- ignore\n      const targetProp = target[key]\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment, @typescript-eslint/no-unsafe-member-access -- ignore\n      const sourceProp = source[key]\n      if (\n        isObject(sourceProp) &&\n        isObject(targetProp)\n      ) {\n        merge(targetProp, sourceProp)\n      } else {\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment, @typescript-eslint/no-unsafe-member-access -- ignore\n        target[key] = clone(sourceProp)\n      }\n    }\n  }\n}\n\nexport function clone<T> (target: T): T {\n  if (!isObject(target)) {\n    return target\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any -- ignore\n  let copy: any = null\n  if (isArray(target)) {\n    copy = []\n  } else {\n    copy = {}\n  }\n  for (const key in target) {\n    if (Object.prototype.hasOwnProperty.call(target, key) as boolean) {\n      const v = target[key]\n      if (isObject(v)) {\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access -- ignore\n        copy[key] = clone(v)\n      } else {\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access -- ignore\n        copy[key] = v\n      }\n    }\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-return -- ignore\n  return copy\n}\n\nexport function isArray<T = unknown> (value: unknown): value is T[] {\n  return Object.prototype.toString.call(value) === '[object Array]'\n}\n\n// eslint-disable-next-line @typescript-eslint/no-unnecessary-type-parameters -- ignore\nexport function isFunction<T = (...args: unknown[]) => unknown> (value: unknown): value is T {\n  return typeof value === 'function'\n}\n\nexport function isObject (value: unknown): value is object {\n  return (typeof value === 'object') && isValid(value)\n}\n\nexport function isNumber (value: unknown): value is number {\n  return typeof value === 'number' && Number.isFinite(value)\n}\n\nexport function isValid<T> (value: T | null | undefined): value is T {\n  return value !== null && value !== undefined\n}\n\nexport function isBoolean (value: unknown): value is boolean {\n  return typeof value === 'boolean'\n}\n\nexport function isString (value: unknown): value is string {\n  return typeof value === 'string'\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { isValid } from './typeChecks'\n\nconst rgbaRegExp = /^[rR][gG][Bb][Aa]\\(([\\s]*(2[0-4][0-9]|25[0-5]|[01]?[0-9][0-9]?)[\\s]*,){3}[\\s]*(1|1.0|0|0.[0-9])[\\s]*\\){1}$/\n\nexport function isRgba (color: string): boolean {\n  return rgbaRegExp.test(color)\n}\n\nexport function isHsla (color: string): boolean {\n  return (/^[hH][Ss][Ll][Aa]\\(([\\s]*(360｜3[0-5][0-9]|[012]?[0-9][0-9]?)[\\s]*,)([\\s]*((100|[0-9][0-9]?)%|0)[\\s]*,){2}([\\s]*(1|1.0|0|0.[0-9])[\\s]*)\\)$/).test(color)\n}\n\nexport function isTransparent (color: string): boolean {\n  return color === 'transparent' ||\n    color === 'none' ||\n    /^[rR][gG][Bb][Aa]\\(([\\s]*(2[0-4][0-9]|25[0-5]|[01]?[0-9][0-9]?)[\\s]*,){3}[\\s]*0[\\s]*\\)$/.test(color) ||\n    /^[hH][Ss][Ll][Aa]\\(([\\s]*(360｜3[0-5][0-9]|[012]?[0-9][0-9]?)[\\s]*,)([\\s]*((100|[0-9][0-9]?)%|0)[\\s]*,){2}([\\s]*0[\\s]*)\\)$/.test(color)\n}\n\nexport function rgbToHex (rgb: string): string {\n  if (!isRgba(rgb)) {\n    return rgb\n  }\n  const match = rgbaRegExp.exec(rgb)\n  if (!isValid(match)) {\n    throw new Error('Invalid RGB string format')\n  }\n  const r = parseInt(match[1], 10).toString(16)\n  const g = parseInt(match[2], 10).toString(16)\n  const b = parseInt(match[3], 10).toString(16)\n  return `#${r.length === 1 ? `0${r}` : r}${g.length === 1 ? `0${r}` : r}${b.length === 1 ? `0${r}` : r}`\n}\n\nexport function hexToRgb (hex: string, alpha?: number): string {\n  const h = hex.replace(/^#/, '')\n  const i = parseInt(h, 16)\n  const r = (i >> 16) & 255\n  const g = (i >> 8) & 255\n  const b = i & 255\n\n  return `rgba(${r}, ${g}, ${b}, ${alpha ?? 1})`\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type Nullable from './Nullable'\nimport type { KLineData, NeighborData } from './Data'\nimport { hexToRgb } from './utils/color'\n\nexport interface Margin {\n  marginLeft: number\n  marginTop: number\n  marginRight: number\n  marginBottom: number\n}\n\nexport interface Padding {\n  paddingLeft: number\n  paddingTop: number\n  paddingRight: number\n  paddingBottom: number\n}\n\nexport interface Offset {\n  offsetLeft: number\n  offsetTop: number\n  offsetRight: number\n  offsetBottom: number\n}\n\n/**\n * line type\n */\nexport type LineType = 'dashed' | 'solid'\n\nexport interface LineStyle {\n  style: LineType\n  size: number\n  color: string\n  dashedValue: number[]\n}\n\nexport interface SmoothLineStyle extends LineStyle {\n  smooth: boolean | number\n}\n\nexport interface StateLineStyle extends LineStyle {\n  show: boolean\n}\n\nexport type PathType = 'stroke' | 'fill'\n\nexport interface PathStyle {\n  style: PathType\n  color: string\n  lineWidth: number\n}\n\nexport type PolygonType = PathType | 'stroke_fill'\n\nexport interface PolygonStyle {\n  style: PolygonType\n  color: string | CanvasGradient\n  borderColor: string\n  borderSize: number\n  borderStyle: LineType\n  borderDashedValue: number[]\n}\n\nexport interface RectStyle extends PolygonStyle {\n  borderRadius: number | number[]\n}\n\nexport interface TextStyle extends Padding {\n  style: PolygonType\n  color: string\n  size: number\n  family: string\n  weight: number | string\n  borderStyle: LineType\n  borderDashedValue: number[]\n  borderSize: number\n  borderColor: string\n  borderRadius: number | number[]\n  backgroundColor: string | CanvasGradient\n}\n\nexport interface StateTextStyle extends TextStyle {\n  show: boolean\n}\n\nexport type LastValueMarkTextStyle = Omit<StateTextStyle, 'backgroundColor'>\n\nexport type TooltipShowRule = 'always' | 'follow_cross' | 'none'\n\nexport type TooltipShowType = 'standard' | 'rect'\n\nexport interface ChangeColor {\n  upColor: string\n  downColor: string\n  noChangeColor: string\n}\n\nexport interface GradientColor {\n  offset: number\n  color: string\n}\n\nexport type FeatureType = 'path' | 'icon_font'\n\nexport interface FeaturePathStyle extends Omit<PathStyle, 'color'> {\n  path: string\n}\n\nexport interface FeatureIconFontStyle {\n  family: string\n  code: string\n}\n\nexport interface FeatureStyle extends Padding, Margin {\n  id: string\n  backgroundColor: string\n  activeBackgroundColor: string\n  size: number\n  color: string\n  activeColor: string\n  borderRadius: number | number[]\n  type: FeatureType\n  content: FeaturePathStyle | FeatureIconFontStyle\n}\n\nexport interface GridStyle {\n  show: boolean\n  horizontal: StateLineStyle\n  vertical: StateLineStyle\n}\n\nexport type TooltipTextStyle = Pick<TextStyle, 'color' | 'size' | 'family' | 'weight'> & Margin\n\nexport type TooltipTitleStyle = TooltipTextStyle & { show: boolean }\n\nexport type TooltipLegendStyle = TooltipTextStyle & { defaultValue: string }\n\nexport interface TooltipLegendChild {\n  text: string\n  color: string\n}\n\nexport interface TooltipLegend {\n  title: string | TooltipLegendChild\n  value: string | TooltipLegendChild\n}\n\nexport type TooltipFeaturePosition = 'left' | 'middle' | 'right'\n\nexport interface TooltipFeatureStyle extends FeatureStyle {\n  position: TooltipFeaturePosition\n}\n\nexport interface TooltipStyle extends Offset {\n  showRule: TooltipShowRule\n  showType: TooltipShowType\n  features: TooltipFeatureStyle[]\n}\n\nexport interface CandleAreaPointStyle {\n  show: boolean\n  color: string\n  radius: number\n  rippleColor: string\n  rippleRadius: number\n  animation: boolean\n  animationDuration: number\n}\n\nexport interface CandleAreaStyle {\n  lineSize: number\n  lineColor: string\n  value: string\n  smooth: boolean\n  backgroundColor: string | GradientColor[]\n  point: CandleAreaPointStyle\n}\n\nexport interface CandleHighLowPriceMarkStyle {\n  show: boolean\n  color: string\n  textOffset: number\n  textSize: number\n  textFamily: string\n  textWeight: string\n}\n\nexport type CandleLastPriceMarkLineStyle = Omit<StateLineStyle, 'color'>\n\nexport type CandleLastPriceMarkExtendTextPosition = 'above_price' | 'below_price'\n\nexport type CandleLastPriceMarkExtendTextStyle = LastValueMarkTextStyle & {\n  position: CandleLastPriceMarkExtendTextPosition\n  updateInterval: number\n}\nexport interface CandleLastPriceMarkStyle extends ChangeColor {\n  show: boolean\n  compareRule: CandleColorCompareRule\n  line: CandleLastPriceMarkLineStyle\n  text: LastValueMarkTextStyle\n  extendTexts: CandleLastPriceMarkExtendTextStyle[]\n}\n\nexport interface CandlePriceMarkStyle {\n  show: boolean\n  high: CandleHighLowPriceMarkStyle\n  low: CandleHighLowPriceMarkStyle\n  last: CandleLastPriceMarkStyle\n}\n\nexport type CandleTooltipRectPosition = 'fixed' | 'pointer'\n\nexport interface CandleTooltipRectStyle extends Omit<RectStyle, 'style' | 'borderDashedValue' | 'borderStyle'>, Padding, Offset {\n  position: CandleTooltipRectPosition\n}\n\nexport type CandleTooltipLegendsCustomCallback = (data: NeighborData<Nullable<KLineData>>, styles: CandleStyle) => TooltipLegend[]\n\nexport interface CandleTooltipStyle extends TooltipStyle {\n  title: TooltipTitleStyle & { template: string }\n  legend: TooltipLegendStyle & { template: CandleTooltipLegendsCustomCallback | TooltipLegend[] }\n  rect: CandleTooltipRectStyle\n}\n\nexport type CandleType = 'candle_solid' | 'candle_stroke' | 'candle_up_stroke' | 'candle_down_stroke' | 'ohlc' | 'area' | 'line' | 'line_mark' | 'step_line' | 'heikin_ashi' | 'candle_high_low' | 'candle_high_low_area'\n\nexport const CandleType = {\n  CandleSolid: 'candle_solid',\n  CandleStroke: 'candle_stroke',\n  CandleUpStroke: 'candle_up_stroke',\n  CandleDownStroke: 'candle_down_stroke',\n  Ohlc: 'ohlc',\n  Area: 'area',\n  Line: 'line',\n  LineMark: 'line_mark',\n  StepLine: 'step_line',\n  HeikinAshi: 'heikin_ashi',\n  CandleHighLow: 'candle_high_low',\n  CandleHighLowArea: 'candle_high_low_area'\n} as const\n\nexport type CandleColorCompareRule = 'current_open' | 'previous_close'\n\nexport interface CandleBarColor extends ChangeColor {\n  compareRule: CandleColorCompareRule\n  upBorderColor: string\n  downBorderColor: string\n  noChangeBorderColor: string\n  upWickColor: string\n  downWickColor: string\n  noChangeWickColor: string\n}\n\nexport interface CandleStyle {\n  type: CandleType\n  bar: CandleBarColor\n  area: CandleAreaStyle\n  priceMark: CandlePriceMarkStyle\n  tooltip: CandleTooltipStyle\n}\n\nexport type IndicatorPolygonStyle = Omit<PolygonStyle, 'color' | 'borderColor'> & ChangeColor\n\nexport interface IndicatorLastValueMarkStyle {\n  show: boolean\n  text: LastValueMarkTextStyle\n}\n\nexport interface IndicatorTooltipStyle extends TooltipStyle {\n  title: TooltipTitleStyle & { showName: boolean; showParams: boolean }\n  legend: TooltipLegendStyle\n}\n\nexport interface IndicatorStyle {\n  ohlc: Pick<CandleBarColor, 'compareRule' | 'upColor' | 'downColor' | 'noChangeColor'>\n  bars: IndicatorPolygonStyle[]\n  lines: SmoothLineStyle[]\n  circles: IndicatorPolygonStyle[]\n  lastValueMark: IndicatorLastValueMarkStyle\n  tooltip: IndicatorTooltipStyle\n  [key: string]: unknown\n}\n\nexport type AxisLineStyle = Omit<StateLineStyle, 'style' | 'dashedValue'>\n\nexport interface AxisTickLineStyle extends AxisLineStyle {\n  length: number\n}\n\nexport interface AxisTickTextStyle extends Pick<StateTextStyle, 'show' | 'color' | 'weight' | 'family' | 'size'> {\n  marginStart: number\n  marginEnd: number\n}\n\nexport type YAxisType = 'normal' | 'log' | 'percentage'\n\nexport const YAxisType = {\n  Normal: 'normal',\n  Log: 'log',\n  Percentage: 'percentage'\n} as const\n\nexport interface AxisStyle {\n  show: boolean\n  size: number | 'auto'\n  type?: YAxisType\n  axisLine: AxisLineStyle\n  tickLine: AxisTickLineStyle\n  tickText: AxisTickTextStyle\n}\n\nexport interface CrosshairDirectionStyle {\n  show: boolean\n  line: StateLineStyle\n  text: StateTextStyle\n}\n\nexport interface CrosshairStyle {\n  show: boolean\n  horizontal: CrosshairDirectionStyle & { features: TooltipFeatureStyle[] }\n  vertical: CrosshairDirectionStyle\n}\n\nexport interface OverlayPointStyle {\n  color: string\n  borderColor: string\n  borderSize: number\n  radius: number\n  activeColor: string\n  activeBorderColor: string\n  activeBorderSize: number\n  activeRadius: number\n}\n\nexport interface OverlayStyle {\n  point: OverlayPointStyle\n  line: SmoothLineStyle\n  rect: RectStyle\n  polygon: PolygonStyle\n  circle: PolygonStyle\n  arc: LineStyle\n  text: TextStyle\n  [key: string]: unknown\n}\n\nexport interface SeparatorStyle {\n  size: number\n  color: string\n  fill: boolean\n  activeBackgroundColor: string\n}\n\nexport interface Styles {\n  grid: GridStyle\n  candle: CandleStyle\n  indicator: IndicatorStyle\n  xAxis: AxisStyle\n  yAxis: AxisStyle\n  separator: SeparatorStyle\n  crosshair: CrosshairStyle\n  overlay: OverlayStyle\n}\n\nconst Color = {\n  RED: '#F92855',\n  GREEN: '#2DC08E',\n  WHITE: '#FFFFFF',\n  GREY: '#76808F',\n  BLUE: '#1677FF'\n}\n\nfunction getDefaultGridStyle(): GridStyle {\n  return {\n    show: true,\n    horizontal: {\n      show: true,\n      size: 1,\n      color: '#EDEDED',\n      style: 'dashed',\n      dashedValue: [2, 2]\n    },\n    vertical: {\n      show: true,\n      size: 1,\n      color: '#EDEDED',\n      style: 'dashed',\n      dashedValue: [2, 2]\n    }\n  }\n}\n\n/**\n * Get default candle style\n * @type {{area: {backgroundColor: [{offset: number, color: string}, {offset: number, color: string}], lineColor: string, lineSize: number, value: string}, bar: {noChangeColor: string, upColor: string, downColor: string}, tooltip: {rect: {offsetTop: number, fillColor: string, borderColor: string, paddingBottom: number, borderRadius: number, paddingRight: number, borderSize: number, offsetLeft: number, paddingTop: number, paddingLeft: number, offsetRight: number}, showRule: string, values: null, showType: string, text: {marginRight: number, size: number, color: string, weight: string, marginBottom: number, family: string, marginTop: number, marginLeft: number}, labels: string[]}, type: string, priceMark: {high: {textMargin: number, textSize: number, color: string, textFamily: string, show: boolean, textWeight: string}, last: {noChangeColor: string, upColor: string, line: {dashValue: number[], size: number, show: boolean, style: string}, show: boolean, text: {paddingBottom: number, size: number, color: string, paddingRight: number, show: boolean, weight: string, paddingTop: number, family: string, paddingLeft: number}, downColor: string}, low: {textMargin: number, textSize: number, color: string, textFamily: string, show: boolean, textWeight: string}, show: boolean}}}\n */\nfunction getDefaultCandleStyle(): CandleStyle {\n  const highLow = {\n    show: true,\n    color: Color.GREY,\n    textOffset: 5,\n    textSize: 10,\n    textFamily: 'Helvetica Neue',\n    textWeight: 'normal'\n  }\n  return {\n    type: 'candle_solid',\n    bar: {\n      compareRule: 'current_open',\n      upColor: Color.GREEN,\n      downColor: Color.RED,\n      noChangeColor: Color.GREY,\n      upBorderColor: Color.GREEN,\n      downBorderColor: Color.RED,\n      noChangeBorderColor: Color.GREY,\n      upWickColor: Color.GREEN,\n      downWickColor: Color.RED,\n      noChangeWickColor: Color.GREY\n    },\n    area: {\n      lineSize: 2,\n      lineColor: Color.BLUE,\n      smooth: false,\n      value: 'close',\n      backgroundColor: [{\n        offset: 0,\n        color: hexToRgb(Color.BLUE, 0.01)\n      }, {\n        offset: 1,\n        color: hexToRgb(Color.BLUE, 0.2)\n      }],\n      point: {\n        show: true,\n        color: Color.BLUE,\n        radius: 4,\n        rippleColor: hexToRgb(Color.BLUE, 0.3),\n        rippleRadius: 8,\n        animation: true,\n        animationDuration: 1000\n      }\n    },\n    priceMark: {\n      show: true,\n      high: { ...highLow },\n      low: { ...highLow },\n      last: {\n        show: true,\n        compareRule: 'current_open',\n        upColor: Color.GREEN,\n        downColor: Color.RED,\n        noChangeColor: Color.GREY,\n        line: {\n          show: true,\n          style: 'dashed',\n          dashedValue: [4, 4],\n          size: 1\n        },\n        text: {\n          show: true,\n          style: 'fill',\n          size: 12,\n          paddingLeft: 4,\n          paddingTop: 4,\n          paddingRight: 4,\n          paddingBottom: 4,\n          borderColor: 'transparent',\n          borderStyle: 'solid',\n          borderSize: 0,\n          borderDashedValue: [2, 2],\n          color: Color.WHITE,\n          family: 'Helvetica Neue',\n          weight: 'normal',\n          borderRadius: 2\n        },\n        extendTexts: []\n      }\n    },\n    tooltip: {\n      offsetLeft: 4,\n      offsetTop: 6,\n      offsetRight: 4,\n      offsetBottom: 6,\n      showRule: 'always',\n      showType: 'standard',\n      rect: {\n        position: 'fixed',\n        paddingLeft: 4,\n        paddingRight: 4,\n        paddingTop: 4,\n        paddingBottom: 4,\n        offsetLeft: 4,\n        offsetTop: 4,\n        offsetRight: 4,\n        offsetBottom: 4,\n        borderRadius: 4,\n        borderSize: 1,\n        borderColor: '#F2F3F5',\n        color: '#FEFEFE'\n      },\n      title: {\n        show: true,\n        size: 14,\n        family: 'Helvetica Neue',\n        weight: 'normal',\n        color: Color.GREY,\n        marginLeft: 8,\n        marginTop: 4,\n        marginRight: 8,\n        marginBottom: 4,\n        template: '{ticker} · {period}'\n      },\n      legend: {\n        size: 12,\n        family: 'Helvetica Neue',\n        weight: 'normal',\n        color: Color.GREY,\n        marginLeft: 8,\n        marginTop: 4,\n        marginRight: 8,\n        marginBottom: 4,\n        defaultValue: 'n/a',\n        template: [\n          { title: 'time', value: '{time}' },\n          { title: 'open', value: '{open}' },\n          { title: 'high', value: '{high}' },\n          { title: 'low', value: '{low}' },\n          { title: 'close', value: '{close}' },\n          { title: 'volume', value: '{volume}' }\n        ]\n      },\n      features: []\n    }\n  }\n}\n\n/**\n * Get default indicator style\n */\nfunction getDefaultIndicatorStyle(): IndicatorStyle {\n  const alphaGreen = hexToRgb(Color.GREEN, 0.7)\n  const alphaRed = hexToRgb(Color.RED, 0.7)\n  return {\n    ohlc: {\n      compareRule: 'current_open',\n      upColor: alphaGreen,\n      downColor: alphaRed,\n      noChangeColor: Color.GREY\n    },\n    bars: [{\n      style: 'fill',\n      borderStyle: 'solid',\n      borderSize: 1,\n      borderDashedValue: [2, 2],\n      upColor: alphaGreen,\n      downColor: alphaRed,\n      noChangeColor: Color.GREY\n    }],\n    lines: ['#FF9600', '#935EBD', Color.BLUE, '#E11D74', '#01C5C4'].map(color => ({\n      style: 'solid',\n      smooth: false,\n      size: 1,\n      dashedValue: [2, 2],\n      color\n    })),\n    circles: [{\n      style: 'fill',\n      borderStyle: 'solid',\n      borderSize: 1,\n      borderDashedValue: [2, 2],\n      upColor: alphaGreen,\n      downColor: alphaRed,\n      noChangeColor: Color.GREY\n    }],\n    lastValueMark: {\n      show: false,\n      text: {\n        show: false,\n        style: 'fill',\n        color: Color.WHITE,\n        size: 12,\n        family: 'Helvetica Neue',\n        weight: 'normal',\n        borderStyle: 'solid',\n        borderColor: 'transparent',\n        borderSize: 0,\n        borderDashedValue: [2, 2],\n        paddingLeft: 4,\n        paddingTop: 4,\n        paddingRight: 4,\n        paddingBottom: 4,\n        borderRadius: 2\n      }\n    },\n    tooltip: {\n      offsetLeft: 4,\n      offsetTop: 6,\n      offsetRight: 4,\n      offsetBottom: 6,\n      showRule: 'always',\n      showType: 'standard',\n      title: {\n        show: true,\n        showName: true,\n        showParams: true,\n        size: 12,\n        family: 'Helvetica Neue',\n        weight: 'normal',\n        color: Color.GREY,\n        marginLeft: 8,\n        marginTop: 4,\n        marginRight: 8,\n        marginBottom: 4\n      },\n      legend: {\n        size: 12,\n        family: 'Helvetica Neue',\n        weight: 'normal',\n        color: Color.GREY,\n        marginLeft: 8,\n        marginTop: 4,\n        marginRight: 8,\n        marginBottom: 4,\n        defaultValue: 'n/a'\n      },\n      features: []\n    }\n  }\n}\n\nfunction getDefaultAxisStyle(): AxisStyle {\n  return {\n    show: true,\n    size: 'auto',\n    axisLine: {\n      show: true,\n      color: '#DDDDDD',\n      size: 1\n    },\n    tickText: {\n      show: true,\n      color: Color.GREY,\n      size: 12,\n      family: 'Helvetica Neue',\n      weight: 'normal',\n      marginStart: 4,\n      marginEnd: 6\n    },\n    tickLine: {\n      show: true,\n      size: 1,\n      length: 3,\n      color: '#DDDDDD'\n    }\n  }\n}\n\nfunction getDefaultCrosshairStyle(): CrosshairStyle {\n  return {\n    show: true,\n    horizontal: {\n      show: true,\n      line: {\n        show: true,\n        style: 'dashed',\n        dashedValue: [4, 2],\n        size: 1,\n        color: Color.GREY\n      },\n      text: {\n        show: true,\n        style: 'fill',\n        color: Color.WHITE,\n        size: 12,\n        family: 'Helvetica Neue',\n        weight: 'normal',\n        borderStyle: 'solid',\n        borderDashedValue: [2, 2],\n        borderSize: 1,\n        borderColor: Color.GREY,\n        borderRadius: 2,\n        paddingLeft: 4,\n        paddingRight: 4,\n        paddingTop: 4,\n        paddingBottom: 4,\n        backgroundColor: Color.GREY\n      },\n      features: []\n    },\n    vertical: {\n      show: true,\n      line: {\n        show: true,\n        style: 'dashed',\n        dashedValue: [4, 2],\n        size: 1,\n        color: Color.GREY\n      },\n      text: {\n        show: true,\n        style: 'fill',\n        color: Color.WHITE,\n        size: 12,\n        family: 'Helvetica Neue',\n        weight: 'normal',\n        borderStyle: 'solid',\n        borderDashedValue: [2, 2],\n        borderSize: 1,\n        borderColor: Color.GREY,\n        borderRadius: 2,\n        paddingLeft: 4,\n        paddingRight: 4,\n        paddingTop: 4,\n        paddingBottom: 4,\n        backgroundColor: Color.GREY\n      }\n    }\n  }\n}\n\nfunction getDefaultOverlayStyle(): OverlayStyle {\n  const pointBorderColor = hexToRgb(Color.BLUE, 0.35)\n  const alphaBg = hexToRgb(Color.BLUE, 0.25)\n  function text(): TextStyle {\n    return {\n      style: 'fill',\n      color: Color.WHITE,\n      size: 12,\n      family: 'Helvetica Neue',\n      weight: 'normal',\n      borderStyle: 'solid',\n      borderDashedValue: [2, 2],\n      borderSize: 1,\n      borderRadius: 2,\n      borderColor: Color.BLUE,\n      paddingLeft: 4,\n      paddingRight: 4,\n      paddingTop: 4,\n      paddingBottom: 4,\n      backgroundColor: Color.BLUE\n    }\n  }\n  return {\n    point: {\n      color: Color.BLUE,\n      borderColor: pointBorderColor,\n      borderSize: 1,\n      radius: 5,\n      activeColor: Color.BLUE,\n      activeBorderColor: pointBorderColor,\n      activeBorderSize: 3,\n      activeRadius: 5\n    },\n    line: {\n      style: 'solid',\n      smooth: false,\n      color: Color.BLUE,\n      size: 1,\n      dashedValue: [2, 2]\n    },\n    rect: {\n      style: 'fill',\n      color: alphaBg,\n      borderColor: Color.BLUE,\n      borderSize: 1,\n      borderRadius: 0,\n      borderStyle: 'solid',\n      borderDashedValue: [2, 2]\n    },\n    polygon: {\n      style: 'fill',\n      color: Color.BLUE,\n      borderColor: Color.BLUE,\n      borderSize: 1,\n      borderStyle: 'solid',\n      borderDashedValue: [2, 2]\n    },\n    circle: {\n      style: 'fill',\n      color: alphaBg,\n      borderColor: Color.BLUE,\n      borderSize: 1,\n      borderStyle: 'solid',\n      borderDashedValue: [2, 2]\n    },\n    arc: {\n      style: 'solid',\n      color: Color.BLUE,\n      size: 1,\n      dashedValue: [2, 2]\n    },\n    text: text()\n  }\n}\n\nfunction getDefaultSeparatorStyle(): SeparatorStyle {\n  return {\n    size: 1,\n    color: '#DDDDDD',\n    fill: true,\n    activeBackgroundColor: hexToRgb(Color.BLUE, 0.08)\n  }\n}\n\nexport function getDefaultStyles(): Styles {\n  return {\n    grid: getDefaultGridStyle(),\n    candle: getDefaultCandleStyle(),\n    indicator: getDefaultIndicatorStyle(),\n    xAxis: getDefaultAxisStyle(),\n    yAxis: getDefaultAxisStyle(),\n    separator: getDefaultSeparatorStyle(),\n    crosshair: getDefaultCrosshairStyle(),\n    overlay: getDefaultOverlayStyle()\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { isNumber, isValid } from './typeChecks'\n\nexport interface DateTime {\n  YYYY: string\n  MM: string\n  DD: string\n  HH: string\n  mm: string\n  ss: string\n}\n\nconst reEscapeChar = /\\\\(\\\\)?/g\nconst rePropName = RegExp(\n  '[^.[\\\\]]+' + '|' +\n  '\\\\[(?:' +\n    '([^\"\\'][^[]*)' + '|' +\n    '([\"\\'])((?:(?!\\\\2)[^\\\\\\\\]|\\\\\\\\.)*?)\\\\2' +\n  ')\\\\]' + '|' +\n  '(?=(?:\\\\.|\\\\[\\\\])(?:\\\\.|\\\\[\\\\]|$))'\n  , 'g')\n\nexport function formatValue (data: unknown, key: string, defaultValue?: unknown): unknown {\n  if (isValid(data)) {\n    const path: string[] = []\n    key.replace(rePropName, (subString: string, ...args: unknown[]) => {\n      let k = subString\n      if (isValid(args[1])) {\n        k = (args[2] as string).replace(reEscapeChar, '$1')\n      } else if (isValid(args[0])) {\n        k = (args[0] as string).trim()\n      }\n      path.push(k)\n      return ''\n    })\n    let value = data\n    let index = 0\n    const length = path.length\n    while (isValid(value) && index < length) {\n      value = value?.[path[index++]]\n    }\n    return isValid(value) ? value : (defaultValue ?? '--')\n  }\n  return defaultValue ?? '--'\n}\n\nexport function formatTimestampToDateTime (dateTimeFormat: Intl.DateTimeFormat, timestamp: number): DateTime {\n  const date: Record<string, string> = {}\n  dateTimeFormat.formatToParts(new Date(timestamp)).forEach(({ type, value }) => {\n    switch (type) {\n      case 'year': {\n        date.YYYY = value\n        break\n      }\n      case 'month': {\n        date.MM = value\n        break\n      }\n      case 'day': {\n        date.DD = value\n        break\n      }\n      case 'hour': {\n        date.HH = value === '24' ? '00' : value\n        break\n      }\n      case 'minute': {\n        date.mm = value\n        break\n      }\n      case 'second': {\n        date.ss = value\n        break\n      }\n      default: { break }\n    }\n  })\n  return date as unknown as DateTime\n}\n\nexport function formatTimestampByTemplate (dateTimeFormat: Intl.DateTimeFormat, timestamp: number, template: string): string {\n  const date = formatTimestampToDateTime(dateTimeFormat, timestamp)\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-return -- ignore\n  return template.replace(/YYYY|MM|DD|HH|mm|ss/g, key => date[key])\n}\n\nexport function formatPrecision (value: string | number, precision?: number): string {\n  const v = +value\n  if (isNumber(v)) {\n    return v.toFixed(precision ?? 2)\n  }\n  return `${value}`\n}\n\nexport function formatBigNumber (value: string | number): string {\n  const v = +value\n  if (isNumber(v)) {\n    if (v > 1000000000) {\n      return `${+((v / 1000000000).toFixed(3))}B`\n    }\n    if (v > 1000000) {\n      return `${+((v / 1000000).toFixed(3))}M`\n    }\n    if (v > 1000) {\n      return `${+((v / 1000).toFixed(3))}K`\n    }\n  }\n  return `${value}`\n}\n\nexport function formatThousands (value: string | number, sign: string): string {\n  const vl = `${value}`\n  if (sign.length === 0) {\n    return vl\n  }\n  if (vl.includes('.')) {\n    const arr = vl.split('.')\n    return `${arr[0].replace(/(\\d)(?=(\\d{3})+$)/g, $1 => `${$1}${sign}`)}.${arr[1]}`\n  }\n  return vl.replace(/(\\d)(?=(\\d{3})+$)/g, $1 => `${$1}${sign}`)\n}\n\nexport function formatFoldDecimal (value: string | number, threshold: number): string {\n  const vl = `${value}`\n  const reg = new RegExp('\\\\.0{' + threshold + ',}[1-9][0-9]*$')\n  if (reg.test(vl)) {\n    const result = vl.split('.')\n    const lastIndex = result.length - 1\n    const v = result[lastIndex]\n    const match = /0*/.exec(v)\n    if (isValid(match)) {\n      const count = match[0].length\n      result[lastIndex] = v.replace(/0*/, `0{${count}}`)\n      return result.join('.')\n    }\n  }\n  return vl\n}\n\nexport function formatTemplateString (template: string, params: Record<string, unknown>): string {\n  return template.replace(/\\{(\\w+)\\}/g, (_, key) => {\n    const value = params[key as string]\n    if (isValid(value)) {\n      return value as string\n    }\n    return `{${key}}`\n  })\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type Nullable from '../Nullable'\nimport { isValid } from './typeChecks'\n\nlet measureCtx: Nullable<CanvasRenderingContext2D> = null\n\n/**\n * Get pixel ratio\n * @param canvas\n * @returns {number}\n */\nexport function getPixelRatio (canvas: HTMLCanvasElement): number {\n  return canvas.ownerDocument.defaultView?.devicePixelRatio ?? 1\n}\n\nexport function createFont (size?: number, weight?: string | number, family?: string): string {\n  return `${weight ?? 'normal'} ${size ?? 12}px ${family ?? 'Helvetica Neue'}`\n}\n\n/**\n * Measure the width of text\n * @param text\n * @returns {number}\n */\nexport function calcTextWidth (text: string, size?: number, weight?: string | number, family?: string): number {\n  if (!isValid(measureCtx)) {\n    const canvas = document.createElement('canvas')\n    const pixelRatio = getPixelRatio(canvas)\n    measureCtx = canvas.getContext('2d')!\n    measureCtx.scale(pixelRatio, pixelRatio)\n  }\n  measureCtx.font = createFont(size, weight, family)\n  return Math.round(measureCtx.measureText(text).width)\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport default interface Coordinate {\n  x: number\n  y: number\n}\n\nexport function getDistance (coordinate1: Coordinate, coordinate2: Coordinate): number {\n  const xDif = coordinate1.x - coordinate2.x\n  const yDif = coordinate1.y - coordinate2.y\n  return Math.sqrt(xDif * xDif + yDif * yDif)\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { isValid } from './utils/typeChecks'\n\nimport type { EventName, MouseTouchEvent, MouseTouchEventCallback } from './EventHandler'\n\nexport interface EventDispatcher {\n  dispatchEvent: (name: EventName, event: MouseTouchEvent) => boolean\n}\n\nexport default abstract class Eventful implements EventDispatcher {\n  private _children: Eventful[] = []\n\n  private readonly _callbacks = new Map<EventName, MouseTouchEventCallback>()\n\n  registerEvent (name: EventName, callback: MouseTouchEventCallback): this {\n    this._callbacks.set(name, callback)\n    return this\n  }\n\n  onEvent (name: EventName, event: MouseTouchEvent): boolean {\n    const callback = this._callbacks.get(name)\n    if (isValid(callback) && this.checkEventOn(event)) {\n      return callback(event)\n    }\n    return false\n  }\n\n  abstract checkEventOn (event: MouseTouchEvent): boolean\n\n  protected dispatchEventToChildren (name: EventName, event: MouseTouchEvent): boolean {\n    const start = this._children.length - 1\n    if (start > -1) {\n      for (let i = start; i > -1; i--) {\n        if (this._children[i].dispatchEvent(name, event)) {\n          return true\n        }\n      }\n    }\n    return false\n  }\n\n  dispatchEvent (name: EventName, event: MouseTouchEvent): boolean {\n    if (this.dispatchEventToChildren(name, event)) {\n      return true\n    }\n    return this.onEvent(name, event)\n  }\n\n  addChild (eventful: Eventful): this {\n    this._children.push(eventful)\n    return this\n  }\n\n  clear (): void {\n    this._children = []\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type Coordinate from '../common/Coordinate'\n\nimport Eventful from '../common/Eventful'\nimport type { MouseTouchEvent } from '../common/EventHandler'\n\nexport const DEVIATION = 2\n\nexport interface Figure<A = unknown, S = unknown> {\n  name: string\n  attrs: A\n  styles: S\n  draw: (ctx: CanvasRenderingContext2D, attrs: A, styles: S) => void\n  checkEventOn: (coordinate: Coordinate, attrs: A, styles: S) => boolean\n}\n\nexport type FigureTemplate<A = unknown, S = unknown> = Pick<Figure<A, S>, 'name' | 'draw' | 'checkEventOn'>\n\nexport type FigureCreate<A = unknown, S = unknown> = Pick<Figure<A, S>, 'name' | 'attrs' | 'styles'>\n\nexport type FigureConstructor<A = unknown, S = unknown> = new (figure: FigureCreate<A, S>) => ({ draw: (ctx: CanvasRenderingContext2D) => void })\nexport type FigureInnerConstructor<A = unknown, S = unknown> = new (figure: FigureCreate<A, S>) => FigureImp<A, S>\nexport default abstract class FigureImp<A = unknown, S = unknown> extends Eventful implements Omit<Figure<A, S>, 'name' | 'draw' | 'checkEventOn'> {\n  attrs: A\n  styles: S\n\n  constructor (figure: FigureCreate<A, S>) {\n    super()\n    this.attrs = figure.attrs\n    this.styles = figure.styles\n  }\n\n  checkEventOn (event: MouseTouchEvent): boolean {\n    return this.checkEventOnImp(event, this.attrs, this.styles)\n  }\n\n  setAttrs (attrs: A): this {\n    this.attrs = attrs\n    return this\n  }\n\n  setStyles (styles: S): this {\n    this.styles = styles\n    return this\n  }\n\n  draw (ctx: CanvasRenderingContext2D): void {\n    this.drawImp(ctx, this.attrs, this.styles)\n  }\n\n  abstract checkEventOnImp (event: MouseTouchEvent, attrs: A, styles: S): boolean\n\n  abstract drawImp (ctx: CanvasRenderingContext2D, attrs: A, styles: S): void\n\n  static extend<A, S> (figure: FigureTemplate<A, S>): new (figure: FigureCreate) => FigureImp<A, S> {\n    class Custom extends FigureImp<A, S> {\n      checkEventOnImp (coordinate: Coordinate, attrs: A, styles: S): boolean {\n        return figure.checkEventOn(coordinate, attrs, styles)\n      }\n\n      drawImp (ctx: CanvasRenderingContext2D, attrs: A, styles: S): void {\n        figure.draw(ctx, attrs, styles)\n      }\n    }\n    return Custom\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type Coordinate from '../../common/Coordinate'\nimport { getDistance } from '../../common/Coordinate'\nimport type { LineStyle } from '../../common/Styles'\n\nimport { type FigureTemplate, DEVIATION } from '../../component/Figure'\n\nimport type { CircleAttrs } from './circle'\n\nexport function checkCoordinateOnArc (coordinate: Coordinate, attrs: ArcAttrs | ArcAttrs[]): boolean {\n  let arcs: ArcAttrs[] = []\n  arcs = arcs.concat(attrs)\n  for (const arc of arcs) {\n    if (Math.abs(getDistance(coordinate, arc) - arc.r) < DEVIATION) {\n      const { r, startAngle, endAngle } = arc\n      const startCoordinateX = r * Math.cos(startAngle) + arc.x\n      const startCoordinateY = r * Math.sin(startAngle) + arc.y\n      const endCoordinateX = r * Math.cos(endAngle) + arc.x\n      const endCoordinateY = r * Math.sin(endAngle) + arc.y\n      if (\n        coordinate.x <= Math.max(startCoordinateX, endCoordinateX) + DEVIATION &&\n        coordinate.x >= Math.min(startCoordinateX, endCoordinateX) - DEVIATION &&\n        coordinate.y <= Math.max(startCoordinateY, endCoordinateY) + DEVIATION &&\n        coordinate.y >= Math.min(startCoordinateY, endCoordinateY) - DEVIATION\n      ) {\n        return true\n      }\n    }\n  }\n\n  return false\n}\n\nexport function drawArc (ctx: CanvasRenderingContext2D, attrs: ArcAttrs | ArcAttrs[], styles: Partial<LineStyle>): void {\n  let arcs: ArcAttrs[] = []\n  arcs = arcs.concat(attrs)\n  const { style = 'solid', size = 1, color = 'currentColor', dashedValue = [2, 2] } = styles\n  ctx.lineWidth = size\n  ctx.strokeStyle = color\n  if (style === 'dashed') {\n    ctx.setLineDash(dashedValue)\n  } else {\n    ctx.setLineDash([])\n  }\n  arcs.forEach(({ x, y, r, startAngle, endAngle }) => {\n    ctx.beginPath()\n    ctx.arc(x, y, r, startAngle, endAngle)\n    ctx.stroke()\n    ctx.closePath()\n  })\n}\n\nexport interface ArcAttrs extends CircleAttrs {\n  startAngle: number\n  endAngle: number\n}\n\nconst arc: FigureTemplate<ArcAttrs | ArcAttrs[], Partial<LineStyle>> = {\n  name: 'arc',\n  checkEventOn: checkCoordinateOnArc,\n  draw: (ctx: CanvasRenderingContext2D, attrs: ArcAttrs | ArcAttrs[], styles: Partial<LineStyle>) => {\n    drawArc(ctx, attrs, styles)\n  }\n}\n\nexport default arc\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type Coordinate from '../../common/Coordinate'\nimport type { PolygonStyle } from '../../common/Styles'\nimport { isString } from '../../common/utils/typeChecks'\nimport { isTransparent } from '../../common/utils/color'\n\nimport type { FigureTemplate } from '../../component/Figure'\n\nexport function checkCoordinateOnCircle (coordinate: Coordinate, attrs: CircleAttrs | CircleAttrs[]): boolean {\n  let circles: CircleAttrs[] = []\n  circles = circles.concat(attrs)\n\n  for (const circle of circles) {\n    const { x, y, r } = circle\n    const difX = coordinate.x - x\n    const difY = coordinate.y - y\n    if (!(difX * difX + difY * difY > r * r)) {\n      return true\n    }\n  }\n  return false\n}\n\nexport function drawCircle (ctx: CanvasRenderingContext2D, attrs: CircleAttrs | CircleAttrs[], styles: Partial<PolygonStyle>): void {\n  let circles: CircleAttrs[] = []\n  circles = circles.concat(attrs)\n\n  const {\n    style = 'fill',\n    color = 'currentColor',\n    borderSize = 1,\n    borderColor = 'currentColor',\n    borderStyle = 'solid',\n    borderDashedValue = [2, 2]\n  } = styles\n\n  const solid = (style === 'fill' || styles.style === 'stroke_fill') && (!isString(color) || !isTransparent(color))\n  if (solid) {\n    ctx.fillStyle = color\n    circles.forEach(({ x, y, r }) => {\n      ctx.beginPath()\n      ctx.arc(x, y, r, 0, Math.PI * 2)\n      ctx.closePath()\n      ctx.fill()\n    })\n  }\n  if ((style === 'stroke' || styles.style === 'stroke_fill') && borderSize > 0 && !isTransparent(borderColor)) {\n    ctx.strokeStyle = borderColor\n    ctx.lineWidth = borderSize\n    if (borderStyle === 'dashed') {\n      ctx.setLineDash(borderDashedValue)\n    } else {\n      ctx.setLineDash([])\n    }\n    circles.forEach(({ x, y, r }) => {\n      if (!solid || r > borderSize) {\n        ctx.beginPath()\n        ctx.arc(x, y, r, 0, Math.PI * 2)\n        ctx.closePath()\n        ctx.stroke()\n      }\n    })\n  }\n}\n\nexport interface CircleAttrs {\n  x: number\n  y: number\n  r: number\n}\n\nconst circle: FigureTemplate<CircleAttrs | CircleAttrs[], Partial<PolygonStyle>> = {\n  name: 'circle',\n  checkEventOn: checkCoordinateOnCircle,\n  draw: (ctx: CanvasRenderingContext2D, attrs: CircleAttrs | CircleAttrs[], styles: Partial<PolygonStyle>) => {\n    drawCircle(ctx, attrs, styles)\n  }\n}\n\nexport default circle\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type Nullable from '../../common/Nullable'\nimport type Coordinate from '../../common/Coordinate'\nimport type { SmoothLineStyle } from '../../common/Styles'\n\nimport { type FigureTemplate, DEVIATION } from '../../component/Figure'\nimport { isNumber } from '../../common/utils/typeChecks'\n\nexport function checkCoordinateOnLine (coordinate: Coordinate, attrs: LineAttrs | LineAttrs[]): boolean {\n  let lines: LineAttrs[] = []\n  lines = lines.concat(attrs)\n\n  for (const line of lines) {\n    const { coordinates } = line\n    if (coordinates.length > 1) {\n      for (let i = 1; i < coordinates.length; i++) {\n        const prevCoordinate = coordinates[i - 1]\n        const currentCoordinate = coordinates[i]\n        if (prevCoordinate.x === currentCoordinate.x) {\n          if (\n            Math.abs(prevCoordinate.y - coordinate.y) + Math.abs(currentCoordinate.y - coordinate.y) - Math.abs(prevCoordinate.y - currentCoordinate.y) < DEVIATION + DEVIATION &&\n            Math.abs(coordinate.x - prevCoordinate.x) < DEVIATION\n          ) {\n            return true\n          }\n        } else {\n          const kb = getLinearSlopeIntercept(prevCoordinate, currentCoordinate)!\n          const y = getLinearYFromSlopeIntercept(kb, coordinate)\n          const yDif = Math.abs(y - coordinate.y)\n          if (\n            Math.abs(prevCoordinate.x - coordinate.x) + Math.abs(currentCoordinate.x - coordinate.x) - Math.abs(prevCoordinate.x - currentCoordinate.x) < DEVIATION + DEVIATION &&\n            yDif * yDif / (kb[0] * kb[0] + 1) < DEVIATION * DEVIATION\n          ) {\n            return true\n          }\n        }\n      }\n    }\n  }\n  return false\n}\n\nexport function getLinearYFromSlopeIntercept (kb: Nullable<number[]>, coordinate: Coordinate): number {\n  if (kb !== null) {\n    return coordinate.x * kb[0] + kb[1]\n  }\n  return coordinate.y\n}\n\n/**\n * 获取点在两点决定的一次函数上的y值\n * @param coordinate1\n * @param coordinate2\n * @param targetCoordinate\n */\nexport function getLinearYFromCoordinates (coordinate1: Coordinate, coordinate2: Coordinate, targetCoordinate: Coordinate): number {\n  const kb = getLinearSlopeIntercept(coordinate1, coordinate2)\n  return getLinearYFromSlopeIntercept(kb, targetCoordinate)\n}\n\nexport function getLinearSlopeIntercept (coordinate1: Coordinate, coordinate2: Coordinate): Nullable<number[]> {\n  const difX = coordinate1.x - coordinate2.x\n  if (difX !== 0) {\n    const k = (coordinate1.y - coordinate2.y) / difX\n    const b = coordinate1.y - k * coordinate1.x\n    return [k, b]\n  }\n  return null\n}\n\nexport function lineTo (ctx: CanvasRenderingContext2D, coordinates: Coordinate[], smooth: number | boolean): void {\n  const length = coordinates.length\n  const smoothParam = isNumber(smooth) ? (smooth > 0 && smooth < 1 ? smooth : 0) : (smooth ? 0.5 : 0)\n  if ((smoothParam > 0) && length > 2) {\n    let cpx0 = coordinates[0].x\n    let cpy0 = coordinates[0].y\n    for (let i = 1; i < length - 1; i++) {\n      const prevCoordinate = coordinates[i - 1]\n      const coordinate = coordinates[i]\n      const nextCoordinate = coordinates[i + 1]\n      const dx01 = coordinate.x - prevCoordinate.x\n      const dy01 = coordinate.y - prevCoordinate.y\n      const dx12 = nextCoordinate.x - coordinate.x\n      const dy12 = nextCoordinate.y - coordinate.y\n      let dx02 = nextCoordinate.x - prevCoordinate.x\n      let dy02 = nextCoordinate.y - prevCoordinate.y\n      const prevSegmentLength = Math.sqrt(dx01 * dx01 + dy01 * dy01)\n      const nextSegmentLength = Math.sqrt(dx12 * dx12 + dy12 * dy12)\n      const segmentLengthRatio = nextSegmentLength / (nextSegmentLength + prevSegmentLength)\n\n      let nextCpx = coordinate.x + dx02 * smoothParam * segmentLengthRatio\n      let nextCpy = coordinate.y + dy02 * smoothParam * segmentLengthRatio\n      nextCpx = Math.min(nextCpx, Math.max(nextCoordinate.x, coordinate.x))\n      nextCpy = Math.min(nextCpy, Math.max(nextCoordinate.y, coordinate.y))\n      nextCpx = Math.max(nextCpx, Math.min(nextCoordinate.x, coordinate.x))\n      nextCpy = Math.max(nextCpy, Math.min(nextCoordinate.y, coordinate.y))\n\n      dx02 = nextCpx - coordinate.x\n      dy02 = nextCpy - coordinate.y\n\n      let cpx1 = coordinate.x - dx02 * prevSegmentLength / nextSegmentLength\n      let cpy1 = coordinate.y - dy02 * prevSegmentLength / nextSegmentLength\n\n      cpx1 = Math.min(cpx1, Math.max(prevCoordinate.x, coordinate.x))\n      cpy1 = Math.min(cpy1, Math.max(prevCoordinate.y, coordinate.y))\n      cpx1 = Math.max(cpx1, Math.min(prevCoordinate.x, coordinate.x))\n      cpy1 = Math.max(cpy1, Math.min(prevCoordinate.y, coordinate.y))\n\n      dx02 = coordinate.x - cpx1\n      dy02 = coordinate.y - cpy1\n      nextCpx = coordinate.x + dx02 * nextSegmentLength / prevSegmentLength\n      nextCpy = coordinate.y + dy02 * nextSegmentLength / prevSegmentLength\n\n      ctx.bezierCurveTo(cpx0, cpy0, cpx1, cpy1, coordinate.x, coordinate.y)\n\n      cpx0 = nextCpx\n      cpy0 = nextCpy\n    }\n    const lastCoordinate = coordinates[length - 1]\n    ctx.bezierCurveTo(cpx0, cpy0, lastCoordinate.x, lastCoordinate.y, lastCoordinate.x, lastCoordinate.y)\n  } else {\n    for (let i = 1; i < length; i++) {\n      ctx.lineTo(coordinates[i].x, coordinates[i].y)\n    }\n  }\n}\n\nexport function drawLine (ctx: CanvasRenderingContext2D, attrs: LineAttrs | LineAttrs[], styles: Partial<SmoothLineStyle>): void {\n  let lines: LineAttrs[] = []\n  lines = lines.concat(attrs)\n  const { style = 'solid', smooth = false, size = 1, color = 'currentColor', dashedValue = [2, 2] } = styles\n  ctx.lineWidth = size\n  ctx.strokeStyle = color\n  if (style === 'dashed') {\n    ctx.setLineDash(dashedValue)\n  } else {\n    ctx.setLineDash([])\n  }\n  const correction = size % 2 === 1 ? 0.5 : 0\n  lines.forEach(({ coordinates }) => {\n    if (coordinates.length > 1) {\n      if (\n        coordinates.length === 2 &&\n        (\n          coordinates[0].x === coordinates[1].x ||\n          coordinates[0].y === coordinates[1].y\n        )\n      ) {\n        ctx.beginPath()\n        if (coordinates[0].x === coordinates[1].x) {\n          ctx.moveTo(coordinates[0].x + correction, coordinates[0].y)\n          ctx.lineTo(coordinates[1].x + correction, coordinates[1].y)\n        } else {\n          ctx.moveTo(coordinates[0].x, coordinates[0].y + correction)\n          ctx.lineTo(coordinates[1].x, coordinates[1].y + correction)\n        }\n        ctx.stroke()\n        ctx.closePath()\n      } else {\n        ctx.save()\n        if (size % 2 === 1) {\n          ctx.translate(0.5, 0.5)\n        }\n        ctx.beginPath()\n        ctx.moveTo(coordinates[0].x, coordinates[0].y)\n        lineTo(ctx, coordinates, smooth)\n        ctx.stroke()\n        ctx.closePath()\n        ctx.restore()\n      }\n    }\n  })\n}\n\nexport interface LineAttrs {\n  coordinates: Coordinate[]\n}\n\nconst line: FigureTemplate<LineAttrs | LineAttrs[], Partial<SmoothLineStyle>> = {\n  name: 'line',\n  checkEventOn: checkCoordinateOnLine,\n  draw: (ctx: CanvasRenderingContext2D, attrs: LineAttrs | LineAttrs[], styles: Partial<SmoothLineStyle>) => {\n    drawLine(ctx, attrs, styles)\n  }\n}\n\nexport default line\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type Coordinate from '../../common/Coordinate'\nimport type { PolygonStyle } from '../../common/Styles'\nimport { isString } from '../../common/utils/typeChecks'\nimport { isTransparent } from '../../common/utils/color'\n\nimport type { FigureTemplate } from '../../component/Figure'\n\nexport function checkCoordinateOnPolygon (coordinate: Coordinate, attrs: PolygonAttrs | PolygonAttrs[]): boolean {\n  let polygons: PolygonAttrs[] = []\n  polygons = polygons.concat(attrs)\n  for (const polygon of polygons) {\n    let on = false\n    const { coordinates } = polygon\n    for (let i = 0, j = coordinates.length - 1; i < coordinates.length; j = i++) {\n      if (\n        (coordinates[i].y > coordinate.y) !== (coordinates[j].y > coordinate.y) &&\n        (coordinate.x < (coordinates[j].x - coordinates[i].x) * (coordinate.y - coordinates[i].y) / (coordinates[j].y - coordinates[i].y) + coordinates[i].x)\n      ) {\n        on = !on\n      }\n    }\n    if (on) {\n      return true\n    }\n  }\n  return false\n}\n\nexport function drawPolygon (ctx: CanvasRenderingContext2D, attrs: PolygonAttrs | PolygonAttrs[], styles: Partial<PolygonStyle>): void {\n  let polygons: PolygonAttrs[] = []\n  polygons = polygons.concat(attrs)\n  const {\n    style = 'fill',\n    color = 'currentColor',\n    borderSize = 1,\n    borderColor = 'currentColor',\n    borderStyle = 'solid',\n    borderDashedValue = [2, 2]\n  } = styles\n  if (\n    (style === 'fill' || styles.style === 'stroke_fill') &&\n    (!isString(color) || !isTransparent(color))) {\n    ctx.fillStyle = color\n    polygons.forEach(({ coordinates }) => {\n      ctx.beginPath()\n      ctx.moveTo(coordinates[0].x, coordinates[0].y)\n      for (let i = 1; i < coordinates.length; i++) {\n        ctx.lineTo(coordinates[i].x, coordinates[i].y)\n      }\n      ctx.closePath()\n      ctx.fill()\n    })\n  }\n  if ((style === 'stroke' || styles.style === 'stroke_fill') && borderSize > 0 && !isTransparent(borderColor)) {\n    ctx.strokeStyle = borderColor\n    ctx.lineWidth = borderSize\n    if (borderStyle === 'dashed') {\n      ctx.setLineDash(borderDashedValue)\n    } else {\n      ctx.setLineDash([])\n    }\n    polygons.forEach(({ coordinates }) => {\n      ctx.beginPath()\n      ctx.moveTo(coordinates[0].x, coordinates[0].y)\n      for (let i = 1; i < coordinates.length; i++) {\n        ctx.lineTo(coordinates[i].x, coordinates[i].y)\n      }\n      ctx.closePath()\n      ctx.stroke()\n    })\n  }\n}\n\nexport interface PolygonAttrs {\n  coordinates: Coordinate[]\n}\n\nconst polygon: FigureTemplate<PolygonAttrs | PolygonAttrs[], Partial<PolygonStyle>> = {\n  name: 'polygon',\n  checkEventOn: checkCoordinateOnPolygon,\n  draw: (ctx: CanvasRenderingContext2D, attrs: PolygonAttrs | PolygonAttrs[], styles: Partial<PolygonStyle>) => {\n    drawPolygon(ctx, attrs, styles)\n  }\n}\n\nexport default polygon\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type Coordinate from '../../common/Coordinate'\nimport type { RectStyle } from '../../common/Styles'\nimport { isTransparent } from '../../common/utils/color'\nimport { isString } from '../../common/utils/typeChecks'\n\nimport { type FigureTemplate, DEVIATION } from '../../component/Figure'\n\nexport function checkCoordinateOnRect (coordinate: Coordinate, attrs: RectAttrs | RectAttrs[]): boolean {\n  let rects: RectAttrs[] = []\n  rects = rects.concat(attrs)\n  for (const rect of rects) {\n    let x = rect.x\n    let width = rect.width\n    if (width < DEVIATION * 2) {\n      x -= DEVIATION\n      width = DEVIATION * 2\n    }\n    let y = rect.y\n    let height = rect.height\n    if (height < DEVIATION * 2) {\n      y -= DEVIATION\n      height = DEVIATION * 2\n    }\n    if (\n      coordinate.x >= x &&\n      coordinate.x <= x + width &&\n      coordinate.y >= y &&\n      coordinate.y <= y + height\n    ) {\n      return true\n    }\n  }\n  return false\n}\n\nexport function drawRect (ctx: CanvasRenderingContext2D, attrs: RectAttrs | RectAttrs[], styles: Partial<RectStyle>): void {\n  let rects: RectAttrs[] = []\n  rects = rects.concat(attrs)\n  const {\n    style = 'fill',\n    color = 'transparent',\n    borderSize = 1,\n    borderColor = 'transparent',\n    borderStyle = 'solid',\n    borderRadius: r = 0,\n    borderDashedValue = [2, 2]\n  } = styles\n  // eslint-disable-next-line @typescript-eslint/unbound-method, @typescript-eslint/no-unnecessary-condition -- ignore\n  const draw = ctx.roundRect ?? ctx.rect\n  const solid = (style === 'fill' || styles.style === 'stroke_fill') && (!isString(color) || !isTransparent(color))\n  if (solid) {\n    ctx.fillStyle = color\n    rects.forEach(({ x, y, width: w, height: h }) => {\n      ctx.beginPath()\n      draw.call(ctx, x, y, w, h, r)\n      ctx.closePath()\n      ctx.fill()\n    })\n  }\n  if ((style === 'stroke' || styles.style === 'stroke_fill') && borderSize > 0 && !isTransparent(borderColor)) {\n    ctx.strokeStyle = borderColor\n    ctx.fillStyle = borderColor\n    ctx.lineWidth = borderSize\n    if (borderStyle === 'dashed') {\n      ctx.setLineDash(borderDashedValue)\n    } else {\n      ctx.setLineDash([])\n    }\n    const correction = borderSize % 2 === 1 ? 0.5 : 0\n    const doubleCorrection = Math.round(correction * 2)\n    rects.forEach(({ x, y, width: w, height: h }) => {\n      if (w > borderSize * 2 && h > borderSize * 2) {\n        ctx.beginPath()\n        draw.call(ctx, x + correction, y + correction, w - doubleCorrection, h - doubleCorrection, r)\n        ctx.closePath()\n        ctx.stroke()\n      } else {\n        if (!solid) {\n          ctx.fillRect(x, y, w, h)\n        }\n      }\n    })\n  }\n}\n\nexport interface RectAttrs {\n  x: number\n  y: number\n  width: number\n  height: number\n}\n\nconst rect: FigureTemplate<RectAttrs | RectAttrs[], Partial<RectStyle>> = {\n  name: 'rect',\n  checkEventOn: checkCoordinateOnRect,\n  draw: (ctx: CanvasRenderingContext2D, attrs: RectAttrs | RectAttrs[], styles: Partial<RectStyle>) => {\n    drawRect(ctx, attrs, styles)\n  }\n}\n\nexport default rect\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type Coordinate from '../../common/Coordinate'\nimport type { TextStyle } from '../../common/Styles'\n\nimport { createFont, calcTextWidth } from '../../common/utils/canvas'\n\nimport type { FigureTemplate } from '../../component/Figure'\n\nimport { type RectAttrs, drawRect } from './rect'\n\nexport function getTextRect (attrs: TextAttrs, styles: Partial<TextStyle>): RectAttrs {\n  const { size = 12, paddingLeft = 0, paddingTop = 0, paddingRight = 0, paddingBottom = 0, weight = 'normal', family } = styles\n  const { x, y, text, align = 'left', baseline = 'top', width: w, height: h } = attrs\n  const width = w ?? (paddingLeft + calcTextWidth(text, size, weight, family) + paddingRight)\n  const height = h ?? (paddingTop + size + paddingBottom)\n  let startX = 0\n  switch (align) {\n    case 'left':\n    case 'start': {\n      startX = x\n      break\n    }\n    case 'right':\n    case 'end': {\n      startX = x - width\n      break\n    }\n    default: {\n      startX = x - width / 2\n      break\n    }\n  }\n  let startY = 0\n  switch (baseline) {\n    case 'top':\n    case 'hanging': {\n      startY = y\n      break\n    }\n    case 'bottom':\n    case 'ideographic':\n    case 'alphabetic': {\n      startY = y - height\n      break\n    }\n    default: {\n      startY = y - height / 2\n      break\n    }\n  }\n  return { x: startX, y: startY, width, height }\n}\n\nexport function checkCoordinateOnText (coordinate: Coordinate, attrs: TextAttrs | TextAttrs[], styles: Partial<TextStyle>): boolean {\n  let texts: TextAttrs[] = []\n  texts = texts.concat(attrs)\n  for (const text of texts) {\n    const { x, y, width, height } = getTextRect(text, styles)\n    if (\n      coordinate.x >= x &&\n      coordinate.x <= x + width &&\n      coordinate.y >= y &&\n      coordinate.y <= y + height\n    ) {\n      return true\n    }\n  }\n  return false\n}\n\nexport function drawText (ctx: CanvasRenderingContext2D, attrs: TextAttrs | TextAttrs[], styles: Partial<TextStyle>): void {\n  let texts: TextAttrs[] = []\n  texts = texts.concat(attrs)\n  const {\n    color = 'currentColor',\n    size = 12,\n    family,\n    weight,\n    paddingLeft = 0,\n    paddingTop = 0,\n    paddingRight = 0\n  } = styles\n  const rects = texts.map(text => getTextRect(text, styles))\n  drawRect(ctx, rects, { ...styles, color: styles.backgroundColor })\n\n  ctx.textAlign = 'left'\n  ctx.textBaseline = 'top'\n  ctx.font = createFont(size, weight, family)\n  ctx.fillStyle = color\n\n  texts.forEach((text, index) => {\n    const rect = rects[index]\n    ctx.fillText(text.text, rect.x + paddingLeft, rect.y + paddingTop, rect.width - paddingLeft - paddingRight)\n  })\n}\n\nexport interface TextAttrs {\n  x: number\n  y: number\n  text: string\n  width?: number\n  height?: number\n  align?: CanvasTextAlign\n  baseline?: CanvasTextBaseline\n}\n\nconst text: FigureTemplate<TextAttrs | TextAttrs[], Partial<TextStyle>> = {\n  name: 'text',\n  checkEventOn: checkCoordinateOnText,\n  draw: (ctx: CanvasRenderingContext2D, attrs: TextAttrs | TextAttrs[], styles: Partial<TextStyle>) => {\n    drawText(ctx, attrs, styles)\n  }\n}\n\nexport default text\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { PathStyle } from '../../common/Styles'\nimport { isValid } from '../../common/utils/typeChecks'\n\nimport type { FigureTemplate } from '../../component/Figure'\nimport { checkCoordinateOnRect } from './rect'\n\nfunction drawEllipticalArc (ctx: CanvasRenderingContext2D, x1: number, y1: number, args: number[], offsetX: number, offsetY: number, isRelative: boolean): void {\n  const [rx, ry, rotation, largeArcFlag, sweepFlag, x2, y2] = args\n\n  const targetX = isRelative ? x1 + x2 : x2 + offsetX\n  const targetY = isRelative ? y1 + y2 : y2 + offsetY\n\n  const segments = ellipticalArcToBeziers(x1, y1, rx, ry, rotation, largeArcFlag, sweepFlag, targetX, targetY)\n\n  segments.forEach(segment => {\n    ctx.bezierCurveTo(segment[0], segment[1], segment[2], segment[3], segment[4], segment[5])\n  })\n}\n\nfunction ellipticalArcToBeziers (x1: number, y1: number, rx: number, ry: number, rotation: number, largeArcFlag: number, sweepFlag: number, x2: number, y2: number): number[][] {\n  const { cx, cy, startAngle, deltaAngle } = computeEllipticalArcParameters(\n    x1, y1, rx, ry, rotation, largeArcFlag, sweepFlag, x2, y2\n  )\n\n  const segments: number[][] = []\n  const numSegments = Math.ceil(Math.abs(deltaAngle) / (Math.PI / 2))\n  for (let i = 0; i < numSegments; i++) {\n    const start = startAngle + (i * deltaAngle) / numSegments\n    const end = startAngle + ((i + 1) * deltaAngle) / numSegments\n\n    const bezier = ellipticalArcToBezier(cx, cy, rx, ry, rotation, start, end)\n    segments.push(bezier)\n  }\n\n  return segments\n}\n\nfunction computeEllipticalArcParameters (x1: number, y1: number, rx: number, ry: number, rotation: number, largeArcFlag: number, sweepFlag: number, x2: number, y2: number): { cx: number; cy: number; startAngle: number; deltaAngle: number } {\n  const phi = (rotation * Math.PI) / 180\n\n  const dx = (x1 - x2) / 2\n  const dy = (y1 - y2) / 2\n  const x1p = Math.cos(phi) * dx + Math.sin(phi) * dy\n  const y1p = -Math.sin(phi) * dx + Math.cos(phi) * dy\n\n  const lambda = (x1p ** 2) / (rx ** 2) + (y1p ** 2) / (ry ** 2)\n  if (lambda > 1) {\n    rx *= Math.sqrt(lambda)\n    ry *= Math.sqrt(lambda)\n  }\n\n  const sign = largeArcFlag === sweepFlag ? -1 : 1\n  const numerator = (rx ** 2) * (ry ** 2) - (rx ** 2) * (y1p ** 2) - (ry ** 2) * (x1p ** 2)\n  const denominator = (rx ** 2) * (y1p ** 2) + (ry ** 2) * (x1p ** 2)\n  const cxp = sign * Math.sqrt(Math.abs(numerator / denominator)) * (rx * y1p / ry)\n  const cyp = sign * Math.sqrt(Math.abs(numerator / denominator)) * (-ry * x1p / rx)\n\n  const cx = Math.cos(phi) * cxp - Math.sin(phi) * cyp + (x1 + x2) / 2\n  const cy = Math.sin(phi) * cxp + Math.cos(phi) * cyp + (y1 + y2) / 2\n\n  const startAngle = Math.atan2((y1p - cyp) / ry, (x1p - cxp) / rx)\n  let deltaAngle = Math.atan2((-y1p - cyp) / ry, (-x1p - cxp) / rx) - startAngle\n\n  if (deltaAngle < 0 && sweepFlag === 1) {\n    deltaAngle += 2 * Math.PI\n  } else if (deltaAngle > 0 && sweepFlag === 0) {\n    deltaAngle -= 2 * Math.PI\n  }\n\n  return { cx, cy, startAngle, deltaAngle }\n}\n\n/**\n * Ellipse arc segment to Bezier curve\n * @param cx\n * @param cy\n * @param rx\n * @param ry\n * @param rotation\n * @param startAngle\n * @param endAngle\n * @returns\n */\nfunction ellipticalArcToBezier (cx: number, cy: number, rx: number, ry: number, rotation: number, startAngle: number, endAngle: number): number[] {\n  // 计算控制点\n  const alpha = Math.sin(endAngle - startAngle) * (Math.sqrt(4 + 3 * Math.tan((endAngle - startAngle) / 2) ** 2) - 1) / 3\n  const cosPhi = Math.cos(rotation)\n  const sinPhi = Math.sin(rotation)\n\n  const x1 = cx + rx * Math.cos(startAngle) * cosPhi - ry * Math.sin(startAngle) * sinPhi\n  const y1 = cy + rx * Math.cos(startAngle) * sinPhi + ry * Math.sin(startAngle) * cosPhi\n\n  const x2 = cx + rx * Math.cos(endAngle) * cosPhi - ry * Math.sin(endAngle) * sinPhi\n  const y2 = cy + rx * Math.cos(endAngle) * sinPhi + ry * Math.sin(endAngle) * cosPhi\n\n  const cp1x = x1 + alpha * (-rx * Math.sin(startAngle) * cosPhi - ry * Math.cos(startAngle) * sinPhi)\n  const cp1y = y1 + alpha * (-rx * Math.sin(startAngle) * sinPhi + ry * Math.cos(startAngle) * cosPhi)\n\n  const cp2x = x2 - alpha * (-rx * Math.sin(endAngle) * cosPhi - ry * Math.cos(endAngle) * sinPhi)\n  const cp2y = y2 - alpha * (-rx * Math.sin(endAngle) * sinPhi + ry * Math.cos(endAngle) * cosPhi)\n\n  return [cp1x, cp1y, cp2x, cp2y, x2, y2]\n}\n\nexport function drawPath (ctx: CanvasRenderingContext2D, attrs: PathAttrs | PathAttrs[], styles: Partial<PathStyle>): void {\n  let paths: PathAttrs[] = []\n  paths = paths.concat(attrs)\n  const { lineWidth = 1, color = 'currentColor' } = styles\n  ctx.lineWidth = lineWidth\n  ctx.strokeStyle = color\n  ctx.setLineDash([])\n  paths.forEach(({ x, y, path }) => {\n    const commands = path.match(/[MLHVCSQTAZ][^MLHVCSQTAZ]*/gi)\n    if (isValid(commands)) {\n      const offsetX = x\n      const offsetY = y\n      ctx.beginPath()\n      commands.forEach(command => {\n        let currentX = 0\n        let currentY = 0\n        let startX = 0\n        let startY = 0\n        const type = command[0]\n        const args = command.slice(1).trim().split(/[\\s,]+/).map(Number)\n        switch (type) {\n          case 'M':\n            currentX = args[0] + offsetX\n            currentY = args[1] + offsetY\n            ctx.moveTo(currentX, currentY)\n            startX = currentX\n            startY = currentY\n            break\n          case 'm':\n            currentX += args[0]\n            currentY += args[1]\n            ctx.moveTo(currentX, currentY)\n            startX = currentX\n            startY = currentY\n            break\n          case 'L':\n            currentX = args[0] + offsetX\n            currentY = args[1] + offsetY\n            ctx.lineTo(currentX, currentY)\n            break\n          case 'l':\n            currentX += args[0]\n            currentY += args[1]\n            ctx.lineTo(currentX, currentY)\n            break\n          case 'H':\n            currentX = args[0] + offsetX\n            ctx.lineTo(currentX, currentY)\n            break\n          case 'h':\n            currentX += args[0]\n            ctx.lineTo(currentX, currentY)\n            break\n          case 'V':\n            currentY = args[0] + offsetY\n            ctx.lineTo(currentX, currentY)\n            break\n          case 'v':\n            currentY += args[0]\n            ctx.lineTo(currentX, currentY)\n            break\n          case 'C':\n            ctx.bezierCurveTo(\n              args[0] + offsetX, args[1] + offsetY,\n              args[2] + offsetX, args[3] + offsetY,\n              args[4] + offsetX, args[5] + offsetY\n            )\n            currentX = args[4] + offsetX\n            currentY = args[5] + offsetY\n            break\n          case 'c':\n            ctx.bezierCurveTo(\n              currentX + args[0], currentY + args[1],\n              currentX + args[2], currentY + args[3],\n              currentX + args[4], currentY + args[5]\n            )\n            currentX += args[4]\n            currentY += args[5]\n            break\n          case 'S':\n            ctx.bezierCurveTo(\n              currentX, currentY,\n              args[0] + offsetX, args[1] + offsetY,\n              args[2] + offsetX, args[3] + offsetY\n            )\n            currentX = args[2] + offsetX\n            currentY = args[3] + offsetY\n            break\n          case 's':\n            ctx.bezierCurveTo(\n              currentX, currentY,\n              currentX + args[0], currentY + args[1],\n              currentX + args[2], currentY + args[3]\n            )\n            currentX += args[2]\n            currentY += args[3]\n            break\n          case 'Q':\n            ctx.quadraticCurveTo(\n              args[0] + offsetX, args[1] + offsetY,\n              args[2] + offsetX, args[3] + offsetY\n            )\n            currentX = args[2] + offsetX\n            currentY = args[3] + offsetY\n            break\n          case 'q':\n            ctx.quadraticCurveTo(\n              currentX + args[0], currentY + args[1],\n              currentX + args[2], currentY + args[3]\n            )\n            currentX += args[2]\n            currentY += args[3]\n            break\n          case 'T':\n            ctx.quadraticCurveTo(\n              currentX, currentY,\n              args[0] + offsetX, args[1] + offsetY\n            )\n            currentX = args[0] + offsetX\n            currentY = args[1] + offsetY\n            break\n          case 't':\n            ctx.quadraticCurveTo(\n              currentX, currentY,\n              currentX + args[0], currentY + args[1]\n            )\n            currentX += args[0]\n            currentY += args[1]\n            break\n          case 'A':\n            // arc\n            // reference https://www.w3.org/TR/SVG/implnote.html#ArcImplementationNotes\n            drawEllipticalArc(ctx, currentX, currentY, args, offsetX, offsetY, false)\n            currentX = args[5] + offsetX\n            currentY = args[6] + offsetY\n            break\n          case 'a':\n            // arc\n            // reference https://www.w3.org/TR/SVG/implnote.html#ArcImplementationNotes\n            drawEllipticalArc(ctx, currentX, currentY, args, offsetX, offsetY, true)\n            currentX += args[5]\n            currentY += args[6]\n            break\n          case 'Z':\n          case 'z':\n            ctx.closePath()\n            currentX = startX\n            currentY = startY\n            break\n          default: { break }\n        }\n      })\n      if (styles.style === 'fill') {\n        ctx.fill()\n      } else {\n        ctx.stroke()\n      }\n    }\n  })\n}\n\nexport interface PathAttrs {\n  x: number\n  y: number\n  width: number\n  height: number\n  path: string\n}\n\nconst path: FigureTemplate<PathAttrs | PathAttrs[], Partial<PathStyle>> = {\n  name: 'path',\n  checkEventOn: checkCoordinateOnRect,\n  draw: (ctx: CanvasRenderingContext2D, attrs: PathAttrs | PathAttrs[], styles: Partial<PathStyle>) => {\n    drawPath(ctx, attrs, styles)\n  }\n}\n\nexport default path\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type Nullable from '../../common/Nullable'\n\nimport FigureImp, { type FigureTemplate, type FigureConstructor, type FigureInnerConstructor } from '../../component/Figure'\n\nimport circle from './circle'\nimport line from './line'\nimport polygon from './polygon'\nimport rect from './rect'\nimport text from './text'\nimport arc from './arc'\nimport path from './path'\n\nconst figures: Record<string, FigureInnerConstructor> = {}\n\nconst extensions = [circle, line, polygon, rect, text, arc, path]\nextensions.forEach((figure: FigureTemplate) => {\n  figures[figure.name] = FigureImp.extend(figure)\n})\n\nfunction getSupportedFigures (): string[] {\n  return Object.keys(figures)\n}\n\nfunction registerFigure<A = unknown, S = unknown> (figure: FigureTemplate<A, S>): void {\n  figures[figure.name] = FigureImp.extend(figure)\n}\n\nfunction getInnerFigureClass (name: string): Nullable<FigureInnerConstructor> {\n  return figures[name] ?? null\n}\n\nfunction getFigureClass<A = unknown, S = unknown> (name: string): Nullable<FigureConstructor<A, S>> {\n  return figures[name] ?? null\n}\n\nexport { getSupportedFigures, getFigureClass, getInnerFigureClass, registerFigure }\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type Nullable from '../common/Nullable'\nimport type DeepPartial from '../common/DeepPartial'\nimport type ExcludePickPartial from '../common/ExcludePickPartial'\nimport type { KLineData, NeighborData } from '../common/Data'\nimport type Bounding from '../common/Bounding'\nimport type BarSpace from '../common/BarSpace'\nimport type Crosshair from '../common/Crosshair'\nimport type { IndicatorStyle, IndicatorPolygonStyle, SmoothLineStyle, RectStyle, TextStyle, TooltipFeatureStyle, LineStyle, LineType, TooltipLegend } from '../common/Styles'\nimport { isNumber, isValid, merge, isBoolean, isString, clone, isFunction } from '../common/utils/typeChecks'\nimport type { DataLoadType } from '../common/DataLoader'\n\nimport type { XAxis } from './XAxis'\nimport type { YAxis } from './YAxis'\n\nimport { formatValue } from '../common/utils/format'\n\nimport type { ArcAttrs } from '../extension/figure/arc'\nimport type { RectAttrs } from '../extension/figure/rect'\nimport type { TextAttrs } from '../extension/figure/text'\nimport type { Chart } from '../Chart'\n\nexport type IndicatorSeries = 'normal' | 'price' | 'volume'\n\nexport type IndicatorFigureStyle = Partial<Omit<SmoothLineStyle, 'style'>> & Partial<Omit<RectStyle, 'style'>> & Partial<TextStyle> & Partial<{ style: LineType[keyof LineType] }> & Record<string, unknown>\n\nexport type IndicatorFigureAttrs = Partial<ArcAttrs> & Partial<LineStyle> & Partial<RectAttrs> & Partial<TextAttrs> & Record<string, unknown>\n\nexport interface IndicatorFigureAttrsCallbackParams<D> {\n  data: NeighborData<Nullable<D>>\n  coordinate: NeighborData<Record<keyof D, number> & { x: number }>\n  bounding: Bounding\n  barSpace: BarSpace\n  xAxis: XAxis\n  yAxis: YAxis\n}\n\nexport interface IndicatorFigureStylesCallbackParams<D> {\n  data: NeighborData<Nullable<D>>\n  indicator: Indicator<D>\n  defaultStyles?: IndicatorStyle\n}\n\nexport type IndicatorFigureAttrsCallback<D> = (params: IndicatorFigureAttrsCallbackParams<D>) => IndicatorFigureAttrs\nexport type IndicatorFigureStylesCallback<D> = (params: IndicatorFigureStylesCallbackParams<D>) => IndicatorFigureStyle\n\nexport interface IndicatorFigure<D = unknown> {\n  key: string\n  title?: string\n  type?: string\n  baseValue?: number\n  attrs?: IndicatorFigureAttrsCallback<D>\n  styles?: IndicatorFigureStylesCallback<D>\n}\n\nexport type IndicatorRegenerateFiguresCallback<D, C> = (calcParams: C[]) => Array<IndicatorFigure<D>>\n\nexport interface IndicatorTooltipData {\n  name: string\n  calcParamsText: string\n  features: TooltipFeatureStyle[]\n  legends: TooltipLegend[]\n}\n\nexport interface IndicatorCreateTooltipDataSourceParams<D> {\n  chart: Chart\n  indicator: Indicator<D>\n  bounding: Bounding\n  crosshair: Crosshair\n  xAxis: XAxis\n  yAxis: YAxis\n}\n\nexport type IndicatorCreateTooltipDataSourceCallback<D> = (params: IndicatorCreateTooltipDataSourceParams<D>) => IndicatorTooltipData\n\nexport type IndicatorEventTarget = 'feature'\n\nexport interface IndicatorDrawParams<D, C, E> {\n  ctx: CanvasRenderingContext2D\n  chart: Chart\n  indicator: Indicator<D, C, E>\n  bounding: Bounding\n  xAxis: XAxis\n  yAxis: YAxis\n}\n\nexport type IndicatorDrawCallback<D, C, E> = (params: IndicatorDrawParams<D, C, E>) => boolean\n\nexport type IndicatorCalcCallback<D, C, E> = (dataList: KLineData[], indicator: Indicator<D, C, E>) => Promise<D[]> | D[]\n\nexport type IndicatorShouldUpdateCallback<D, C, E> = (prev: Indicator<D, C, E>, current: Indicator<D, C, E>) => (boolean | { calc: boolean, draw: boolean })\n\nexport type IndicatorDataState = 'loading' | 'error' | 'ready'\n\nexport interface IndicatorOnDataStateChangeParams<D> {\n  state: IndicatorDataState\n  type: DataLoadType\n\n  indicator: Indicator<D>\n}\n\nexport interface Indicator<D = unknown, C = unknown, E = unknown> {\n  /**\n   * Unique id\n   */\n  id: string\n\n  /**\n   * Pane id\n   */\n  paneId: string\n\n  /**\n   * Indicator name\n   */\n  name: string\n\n  /**\n   * Short name, for display\n   */\n  shortName: string\n\n  /**\n   * Precision\n   */\n  precision: number\n\n  /**\n   * Calculation parameters\n   */\n  calcParams: C[]\n\n  /**\n   * Whether ohlc column is required\n   */\n  shouldOhlc: boolean\n\n  /**\n   * Whether large data values need to be formatted, starting from 1000, for example, whether 100000 needs to be formatted with 100K\n   */\n  shouldFormatBigNumber: boolean\n\n  /**\n   * Whether the indicator is visible\n   */\n  visible: boolean\n\n  /**\n   * Z index\n   */\n  zLevel: number\n\n  /**\n   * Extend data\n   */\n  extendData: E\n\n  /**\n   * Indicator series\n   */\n  series: IndicatorSeries\n\n  /**\n   * Figure configuration information\n   */\n  figures: Array<IndicatorFigure<D>>\n\n  /**\n   * Specified minimum value\n   */\n  minValue: Nullable<number>\n\n  /**\n   * Specified maximum value\n   */\n  maxValue: Nullable<number>\n\n  /**\n   * Style configuration\n   */\n  styles: Nullable<DeepPartial<IndicatorStyle>>\n\n  /**\n   *  Should update, should calc or draw\n   */\n  shouldUpdate: Nullable<IndicatorShouldUpdateCallback<D, C, E>>\n\n  /**\n   * Indicator calculation\n   */\n  calc: IndicatorCalcCallback<D, C, E>\n\n  /**\n   * Regenerate figure configuration\n   */\n  regenerateFigures: Nullable<IndicatorRegenerateFiguresCallback<D, C>>\n\n  /**\n   * Create custom tooltip text\n   */\n  createTooltipDataSource: Nullable<IndicatorCreateTooltipDataSourceCallback<D>>\n\n  /**\n   * Custom draw\n   */\n  draw: Nullable<IndicatorDrawCallback<D, C, E>>\n\n  /**\n   * Calculation result\n   */\n  result: D[]\n}\n\nexport type IndicatorTemplate<D = unknown, C = unknown, E = unknown> = ExcludePickPartial<Omit<Indicator<D, C, E>, 'result' | 'paneId'>, 'name' | 'calc'>\n\nexport type IndicatorCreate<D = unknown, C = unknown, E = unknown> = ExcludePickPartial<Omit<Indicator<D, C, E>, 'result'>, 'name'>\n\nexport type IndicatorOverride<D = unknown, C = unknown, E = unknown> = Partial<Omit<Indicator<D, C, E>, 'result'>>\n\nexport type IndicatorFilter = Partial<Pick<Indicator, 'id' | 'paneId' | 'name'>>\n\nexport type IndicatorConstructor<D = unknown, C = unknown, E = unknown> = new () => IndicatorImp<D, C, E>\n\nexport type EachFigureCallback<D> = (figure: IndicatorFigure<D>, figureStyles: IndicatorFigureStyle, index: number) => void\n\nexport function eachFigures<D = unknown> (\n  indicator: Indicator,\n  dataIndex: number,\n  defaultStyles: IndicatorStyle,\n  eachFigureCallback: EachFigureCallback<D>\n): void {\n  const result = indicator.result\n  const figures = indicator.figures\n  const styles = indicator.styles\n\n  const circleStyles = formatValue(styles, 'circles', defaultStyles.circles) as IndicatorPolygonStyle[]\n  const circleStyleCount = circleStyles.length\n\n  const barStyles = formatValue(styles, 'bars', defaultStyles.bars) as IndicatorPolygonStyle[]\n  const barStyleCount = barStyles.length\n\n  const lineStyles = formatValue(styles, 'lines', defaultStyles.lines) as SmoothLineStyle[]\n  const lineStyleCount = lineStyles.length\n\n  let circleCount = 0\n  let barCount = 0\n  let lineCount = 0\n\n  // eslint-disable-next-line @typescript-eslint/init-declarations  -- ignore\n  let defaultFigureStyles\n  let figureIndex = 0\n  figures.forEach(figure => {\n    switch (figure.type) {\n      case 'circle': {\n        figureIndex = circleCount\n        const styles = circleStyles[circleCount % circleStyleCount]\n        defaultFigureStyles = { ...styles, color: styles.noChangeColor }\n        circleCount++\n        break\n      }\n      case 'bar': {\n        figureIndex = barCount\n        const styles = barStyles[barCount % barStyleCount]\n        defaultFigureStyles = { ...styles, color: styles.noChangeColor }\n        barCount++\n        break\n      }\n      case 'line': {\n        figureIndex = lineCount\n        defaultFigureStyles = lineStyles[lineCount % lineStyleCount]\n        lineCount++\n        break\n      }\n      default: { break }\n    }\n    if (isValid(figure.type)) {\n      const ss = figure.styles?.({\n        data: {\n          prev: result[dataIndex - 1],\n          current: result[dataIndex],\n          next: result[dataIndex + 1]\n        },\n        indicator,\n        defaultStyles\n      })\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-argument -- ignore\n      eachFigureCallback(figure, { ...defaultFigureStyles, ...ss }, figureIndex)\n    }\n  })\n}\n\nexport default class IndicatorImp<D = unknown, C = unknown, E = unknown> implements Indicator<D, C, E> {\n  id: string\n  paneId: string\n  name: string\n  shortName: string\n  precision = 4\n  calcParams: C[] = []\n  shouldOhlc = false\n  shouldFormatBigNumber = false\n  visible = true\n  zLevel = 0\n  extendData: E\n  series: IndicatorSeries = 'normal'\n  figures: Array<IndicatorFigure<D>> = []\n  minValue: Nullable<number> = null\n  maxValue: Nullable<number> = null\n  styles: Nullable<Partial<IndicatorStyle>> = null\n  shouldUpdate: IndicatorShouldUpdateCallback<D, C, E> = (prev, current) => {\n    const calc = JSON.stringify(prev.calcParams) !== JSON.stringify(current.calcParams) ||\n      prev.figures !== current.figures ||\n      prev.calc !== current.calc\n    const draw = calc ||\n      prev.shortName !== current.shortName ||\n      prev.series !== current.series ||\n      prev.minValue !== current.minValue ||\n      prev.maxValue !== current.maxValue ||\n      prev.precision !== current.precision ||\n      prev.shouldOhlc !== current.shouldOhlc ||\n      prev.shouldFormatBigNumber !== current.shouldFormatBigNumber ||\n      prev.visible !== current.visible ||\n      prev.zLevel !== current.zLevel ||\n      prev.extendData !== current.extendData ||\n      prev.regenerateFigures !== current.regenerateFigures ||\n      prev.createTooltipDataSource !== current.createTooltipDataSource ||\n      prev.draw !== current.draw\n\n    return { calc, draw }\n  }\n\n  calc: IndicatorCalcCallback<D, C, E> = () => []\n  regenerateFigures: Nullable<IndicatorRegenerateFiguresCallback<D, C>> = null\n  createTooltipDataSource: Nullable<IndicatorCreateTooltipDataSourceCallback<D>> = null\n  draw: Nullable<IndicatorDrawCallback<D, C, E>> = null\n\n  result: D[] = []\n\n  private _prevIndicator: Indicator<D, C, E>\n  private _lockSeriesPrecision = false\n\n  constructor (indicator: IndicatorTemplate<D, C, E>) {\n    this.override(indicator)\n    this._lockSeriesPrecision = false\n  }\n\n  override (indicator: Partial<Indicator<D, C, E>>): void {\n    const { result, ...currentOthers } = this\n    this._prevIndicator = { ...clone(currentOthers), result }\n    const {\n      id,\n      name,\n      shortName,\n      precision,\n      styles,\n      figures,\n      calcParams,\n      ...others\n    } = indicator\n    if (!isString(this.id) && isString(id)) {\n      this.id = id\n    }\n    if (!isString(this.name)) {\n      this.name = name ?? ''\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition  -- ignore\n    this.shortName = shortName ?? this.shortName ?? this.name\n    if (isNumber(precision)) {\n      this.precision = precision\n      this._lockSeriesPrecision = true\n    }\n\n    if (isValid(styles)) {\n      this.styles ??= {}\n      merge(this.styles, styles)\n    }\n    merge(this, others)\n    if (isValid(calcParams)) {\n      this.calcParams = calcParams\n      if (isFunction(this.regenerateFigures)) {\n        this.figures = this.regenerateFigures(this.calcParams)\n      }\n    }\n    this.figures = figures ?? this.figures\n  }\n\n  setSeriesPrecision (precision: number): void {\n    if (!this._lockSeriesPrecision) {\n      this.precision = precision\n    }\n  }\n\n  shouldUpdateImp (): ({ calc: boolean, draw: boolean, sort: boolean }) {\n    const sort = this._prevIndicator.zLevel !== this.zLevel\n    const result = this.shouldUpdate(this._prevIndicator, this)\n    if (isBoolean(result)) {\n      return { calc: result, draw: result, sort }\n    }\n    return { ...result, sort }\n  }\n\n  async calcImp (dataList: KLineData[]): Promise<boolean> {\n    try {\n      const result = await this.calc(dataList, this)\n      this.result = result\n      return true\n    } catch (e) {\n      return false\n    }\n  }\n\n  static extend<D = unknown> (template: IndicatorTemplate<D>): IndicatorConstructor<D> {\n    class Custom extends IndicatorImp<D> {\n      constructor () {\n        super(template)\n      }\n    }\n    return Custom\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { IndicatorTemplate } from '../../component/Indicator'\n\ninterface Avp {\n  avp?: number\n}\n\n/**\n * average price\n */\nconst averagePrice: IndicatorTemplate<Avp> = {\n  name: 'AVP',\n  shortName: 'AVP',\n  series: 'price',\n  precision: 2,\n  figures: [\n    { key: 'avp', title: 'AVP: ', type: 'line' }\n  ],\n  calc: (dataList) => {\n    let totalTurnover = 0\n    let totalVolume = 0\n    return dataList.map((kLineData) => {\n      const avp: Avp = {}\n      const turnover = kLineData.turnover ?? 0\n      const volume = kLineData.volume ?? 0\n      totalTurnover += turnover\n      totalVolume += volume\n      if (totalVolume !== 0) {\n        avp.avp = totalTurnover / totalVolume\n      }\n      return avp\n    })\n  }\n}\n\nexport default averagePrice\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { formatValue } from '../../common/utils/format'\n\nimport type { IndicatorTemplate } from '../../component/Indicator'\n\ninterface Ao {\n  ao?: number\n}\n\nconst awesomeOscillator: IndicatorTemplate<Ao, number> = {\n  name: 'AO',\n  shortName: 'AO',\n  calcParams: [5, 34],\n  figures: [{\n    key: 'ao',\n    title: 'AO: ',\n    type: 'bar',\n    baseValue: 0,\n    styles: ({ data, indicator, defaultStyles }) => {\n      const { prev, current } = data\n      const prevAo = prev?.ao ?? Number.MIN_SAFE_INTEGER\n      const currentAo = current?.ao ?? Number.MIN_SAFE_INTEGER\n      let color = ''\n      if (currentAo > prevAo) {\n        color = formatValue(indicator.styles, 'bars[0].upColor', (defaultStyles!.bars)[0].upColor) as string\n      } else {\n        color = formatValue(indicator.styles, 'bars[0].downColor', (defaultStyles!.bars)[0].downColor) as string\n      }\n      const style = currentAo > prevAo ? 'stroke' : 'fill'\n      return { color, style, borderColor: color }\n    }\n  }],\n  calc: (dataList, indicator) => {\n    const params = indicator.calcParams\n    const maxPeriod = Math.max(params[0], params[1])\n    let shortSum = 0\n    let longSum = 0\n    let short = 0\n    let long = 0\n    return dataList.map((kLineData, i) => {\n      const ao: Ao = {}\n      const middle = (kLineData.low + kLineData.high) / 2\n      shortSum += middle\n      longSum += middle\n      if (i >= params[0] - 1) {\n        short = shortSum / params[0]\n        const agoKLineData = dataList[i - (params[0] - 1)]\n        shortSum -= ((agoKLineData.low + agoKLineData.high) / 2)\n      }\n      if (i >= params[1] - 1) {\n        long = longSum / params[1]\n        const agoKLineData = dataList[i - (params[1] - 1)]\n        longSum -= ((agoKLineData.low + agoKLineData.high) / 2)\n      }\n      if (i >= maxPeriod - 1) {\n        ao.ao = short - long\n      }\n      return ao\n    })\n  }\n}\n\nexport default awesomeOscillator\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { IndicatorTemplate } from '../../component/Indicator'\n\ninterface Bias {\n  bias1?: number\n  bias2?: number\n  bias3?: number\n}\n\n/**\n * BIAS\n * 乖离率=[(当日收盘价-N日平均价)/N日平均价]*100%\n */\nconst bias: IndicatorTemplate<Bias, number> = {\n  name: 'BIAS',\n  shortName: 'BIAS',\n  calcParams: [6, 12, 24],\n  figures: [\n    { key: 'bias1', title: 'BIAS6: ', type: 'line' },\n    { key: 'bias2', title: 'BIAS12: ', type: 'line' },\n    { key: 'bias3', title: 'BIAS24: ', type: 'line' }\n  ],\n  regenerateFigures: (params) => params.map((p, i) => ({ key: `bias${i + 1}`, title: `BIAS${p}: `, type: 'line' })),\n  calc: (dataList, indicator) => {\n    const { calcParams: params, figures } = indicator\n    const closeSums: number[] = []\n    return dataList.map((kLineData, i) => {\n      const bias: Bias = {}\n      const close = kLineData.close\n      params.forEach((p, index) => {\n        closeSums[index] = (closeSums[index] ?? 0) + close\n        if (i >= p - 1) {\n          const mean = closeSums[index] / params[index]\n          bias[figures[index].key] = (close - mean) / mean * 100\n\n          closeSums[index] -= dataList[i - (p - 1)].close\n        }\n      })\n      return bias\n    })\n  }\n}\n\nexport default bias\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { KLineData } from '../../common/Data'\nimport type { IndicatorTemplate } from '../../component/Indicator'\n\ninterface Boll {\n  up?: number\n  mid?: number\n  dn?: number\n}\n\n/**\n * 计算布林指标中的标准差\n * @param dataList\n * @param ma\n * @return {number}\n */\nfunction getBollMd (dataList: KLineData[], ma: number): number {\n  const dataSize = dataList.length\n  let sum = 0\n  dataList.forEach(data => {\n    const closeMa = data.close - ma\n    sum += closeMa * closeMa\n  })\n  sum = Math.abs(sum)\n  return Math.sqrt(sum / dataSize)\n}\n\n/**\n * BOLL\n */\nconst bollingerBands: IndicatorTemplate<Boll, number> = {\n  name: 'BOLL',\n  shortName: 'BOLL',\n  series: 'price',\n  calcParams: [20, 2],\n  precision: 2,\n  shouldOhlc: true,\n  figures: [\n    { key: 'up', title: 'UP: ', type: 'line' },\n    { key: 'mid', title: 'MID: ', type: 'line' },\n    { key: 'dn', title: 'DN: ', type: 'line' }\n  ],\n  calc: (dataList, indicator) => {\n    const params = indicator.calcParams\n    const p = params[0] - 1\n    let closeSum = 0\n    return dataList.map((kLineData, i) => {\n      const close = kLineData.close\n      const boll: Boll = {}\n      closeSum += close\n      if (i >= p) {\n        boll.mid = closeSum / params[0]\n        const md = getBollMd(dataList.slice(i - p, i + 1), boll.mid)\n        boll.up = boll.mid + params[1] * md\n        boll.dn = boll.mid - params[1] * md\n        closeSum -= dataList[i - p].close\n      }\n      return boll\n    })\n  }\n}\n\nexport default bollingerBands\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { IndicatorTemplate } from '../../component/Indicator'\n\ninterface Brar {\n  br?: number\n  ar?: number\n}\n\n/**\n * BRAR\n * 默认参数是26。\n * 公式N日BR=N日内（H－CY）之和除以N日内（CY－L）之和*100，\n * 其中，H为当日最高价，L为当日最低价，CY为前一交易日的收盘价，N为设定的时间参数。\n * N日AR=(N日内（H－O）之和除以N日内（O－L）之和)*100，\n * 其中，H为当日最高价，L为当日最低价，O为当日开盘价，N为设定的时间参数\n *\n */\nconst brar: IndicatorTemplate<Brar, number> = {\n  name: 'BRAR',\n  shortName: 'BRAR',\n  calcParams: [26],\n  figures: [\n    { key: 'br', title: 'BR: ', type: 'line' },\n    { key: 'ar', title: 'AR: ', type: 'line' }\n  ],\n  calc: (dataList, indicator) => {\n    const params = indicator.calcParams\n    let hcy = 0\n    let cyl = 0\n    let ho = 0\n    let ol = 0\n    return dataList.map((kLineData, i) => {\n      const brar: Brar = {}\n      const high = kLineData.high\n      const low = kLineData.low\n      const open = kLineData.open\n      const prevClose = (dataList[i - 1] ?? kLineData).close\n      ho += (high - open)\n      ol += (open - low)\n      hcy += (high - prevClose)\n      cyl += (prevClose - low)\n      if (i >= params[0] - 1) {\n        if (ol !== 0) {\n          brar.ar = ho / ol * 100\n        } else {\n          brar.ar = 0\n        }\n        if (cyl !== 0) {\n          brar.br = hcy / cyl * 100\n        } else {\n          brar.br = 0\n        }\n        const agoKLineData = dataList[i - (params[0] - 1)]\n        const agoHigh = agoKLineData.high\n        const agoLow = agoKLineData.low\n        const agoOpen = agoKLineData.open\n        const agoPreClose = (dataList[i - params[0]] ?? dataList[i - (params[0] - 1)]).close\n        hcy -= (agoHigh - agoPreClose)\n        cyl -= (agoPreClose - agoLow)\n        ho -= (agoHigh - agoOpen)\n        ol -= (agoOpen - agoLow)\n      }\n      return brar\n    })\n  }\n}\n\nexport default brar\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport type { IndicatorTemplate } from '../../component/Indicator'\n\ninterface Bbi {\n  bbi?: number\n}\n\n/**\n * 多空指标\n * 公式: BBI = (MA(CLOSE, M) + MA(CLOSE, N) + MA(CLOSE, O) + MA(CLOSE, P)) / 4\n *\n */\nconst bullAndBearIndex: IndicatorTemplate<Bbi, number> = {\n  name: 'BBI',\n  shortName: 'BBI',\n  series: 'price',\n  precision: 2,\n  calcParams: [3, 6, 12, 24],\n  shouldOhlc: true,\n  figures: [\n    { key: 'bbi', title: 'BBI: ', type: 'line' }\n  ],\n  calc: (dataList, indicator) => {\n    const params = indicator.calcParams\n    const maxPeriod = Math.max(...params)\n    const closeSums: number[] = []\n    const mas: number[] = []\n    return dataList.map((kLineData, i) => {\n      const bbi: Bbi = {}\n      const close = kLineData.close\n      params.forEach((p, index) => {\n        closeSums[index] = (closeSums[index] ?? 0) + close\n        if (i >= p - 1) {\n          mas[index] = closeSums[index] / p\n          closeSums[index] -= dataList[i - (p - 1)].close\n        }\n      })\n      if (i >= maxPeriod - 1) {\n        let maSum = 0\n        mas.forEach(ma => {\n          maSum += ma\n        })\n        bbi.bbi = maSum / 4\n      }\n      return bbi\n    })\n  }\n}\n\nexport default bullAndBearIndex\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { IndicatorTemplate } from '../../component/Indicator'\n\ninterface Cci {\n  cci?: number\n}\n\n/**\n * CCI\n * CCI（N日）=（TP－MA）÷MD÷0.015\n * 其中，TP=（最高价+最低价+收盘价）÷3\n * MA=近N日TP价的累计之和÷N\n * MD=近N日TP - 当前MA绝对值的累计之和÷N\n *\n */\nconst commodityChannelIndex: IndicatorTemplate<Cci, number> = {\n  name: 'CCI',\n  shortName: 'CCI',\n  calcParams: [20],\n  figures: [\n    { key: 'cci', title: 'CCI: ', type: 'line' }\n  ],\n  calc: (dataList, indicator) => {\n    const params = indicator.calcParams\n    const p = params[0] - 1\n    let tpSum = 0\n    const tpList: number[] = []\n    return dataList.map((kLineData, i) => {\n      const cci: Cci = {}\n      const tp = (kLineData.high + kLineData.low + kLineData.close) / 3\n      tpSum += tp\n      tpList.push(tp)\n      if (i >= p) {\n        const maTp = tpSum / params[0]\n        const sliceTpList = tpList.slice(i - p, i + 1)\n        let sum = 0\n        sliceTpList.forEach(tp => {\n          sum += Math.abs(tp - maTp)\n        })\n        const md = sum / params[0]\n        cci.cci = md !== 0 ? (tp - maTp) / md / 0.015 : 0\n        const agoTp = (dataList[i - p].high + dataList[i - p].low + dataList[i - p].close) / 3\n        tpSum -= agoTp\n      }\n      return cci\n    })\n  }\n}\n\nexport default commodityChannelIndex\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http:*www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { IndicatorTemplate } from '../../component/Indicator'\n\ninterface Cr {\n  cr?: number\n  ma1?: number\n  ma2?: number\n  ma3?: number\n  ma4?: number\n}\n\n/**\n * MID:=REF(HIGH+LOW,1)/2;\n * CR:SUM(MAX(0,HIGH-MID),N)/SUM(MAX(0,MID-LOW),N)*100;\n * MA1:REF(MA(CR,M1),M1/2.5+1);\n * MA2:REF(MA(CR,M2),M2/2.5+1);\n * MA3:REF(MA(CR,M3),M3/2.5+1);\n * MA4:REF(MA(CR,M4),M4/2.5+1);\n * MID赋值:(昨日最高价+昨日最低价)/2\n * 输出带状能量线:0和最高价-MID的较大值的N日累和/0和MID-最低价的较大值的N日累和*100\n * 输出MA1:M1(5)/2.5+1日前的CR的M1(5)日简单移动平均\n * 输出MA2:M2(10)/2.5+1日前的CR的M2(10)日简单移动平均\n * 输出MA3:M3(20)/2.5+1日前的CR的M3(20)日简单移动平均\n * 输出MA4:M4/2.5+1日前的CR的M4日简单移动平均\n *\n */\nconst currentRatio: IndicatorTemplate<Cr, number> = {\n  name: 'CR',\n  shortName: 'CR',\n  calcParams: [26, 10, 20, 40, 60],\n  figures: [\n    { key: 'cr', title: 'CR: ', type: 'line' },\n    { key: 'ma1', title: 'MA1: ', type: 'line' },\n    { key: 'ma2', title: 'MA2: ', type: 'line' },\n    { key: 'ma3', title: 'MA3: ', type: 'line' },\n    { key: 'ma4', title: 'MA4: ', type: 'line' }\n  ],\n  calc: (dataList, indicator) => {\n    const params = indicator.calcParams\n\n    const ma1ForwardPeriod = Math.ceil(params[1] / 2.5 + 1)\n    const ma2ForwardPeriod = Math.ceil(params[2] / 2.5 + 1)\n    const ma3ForwardPeriod = Math.ceil(params[3] / 2.5 + 1)\n    const ma4ForwardPeriod = Math.ceil(params[4] / 2.5 + 1)\n    let ma1Sum = 0\n    const ma1List: number[] = []\n    let ma2Sum = 0\n    const ma2List: number[] = []\n    let ma3Sum = 0\n    const ma3List: number[] = []\n    let ma4Sum = 0\n    const ma4List: number[] = []\n    const result: Cr[] = []\n    dataList.forEach((kLineData, i) => {\n      const cr: Cr = {}\n      const prevData = dataList[i - 1] ?? kLineData\n      const prevMid = (prevData.high + prevData.close + prevData.low + prevData.open) / 4\n\n      const highSubPreMid = Math.max(0, kLineData.high - prevMid)\n\n      const preMidSubLow = Math.max(0, prevMid - kLineData.low)\n\n      if (i >= params[0] - 1) {\n        if (preMidSubLow !== 0) {\n          cr.cr = highSubPreMid / preMidSubLow * 100\n        } else {\n          cr.cr = 0\n        }\n        ma1Sum += cr.cr\n        ma2Sum += cr.cr\n        ma3Sum += cr.cr\n        ma4Sum += cr.cr\n        if (i >= params[0] + params[1] - 2) {\n          ma1List.push(ma1Sum / params[1])\n          if (i >= params[0] + params[1] + ma1ForwardPeriod - 3) {\n            cr.ma1 = ma1List[ma1List.length - 1 - ma1ForwardPeriod]\n          }\n          ma1Sum -= (result[i - (params[1] - 1)].cr ?? 0)\n        }\n        if (i >= params[0] + params[2] - 2) {\n          ma2List.push(ma2Sum / params[2])\n          if (i >= params[0] + params[2] + ma2ForwardPeriod - 3) {\n            cr.ma2 = ma2List[ma2List.length - 1 - ma2ForwardPeriod]\n          }\n          ma2Sum -= (result[i - (params[2] - 1)].cr ?? 0)\n        }\n        if (i >= params[0] + params[3] - 2) {\n          ma3List.push(ma3Sum / params[3])\n          if (i >= params[0] + params[3] + ma3ForwardPeriod - 3) {\n            cr.ma3 = ma3List[ma3List.length - 1 - ma3ForwardPeriod]\n          }\n          ma3Sum -= (result[i - (params[3] - 1)].cr ?? 0)\n        }\n        if (i >= params[0] + params[4] - 2) {\n          ma4List.push(ma4Sum / params[4])\n          if (i >= params[0] + params[4] + ma4ForwardPeriod - 3) {\n            cr.ma4 = ma4List[ma4List.length - 1 - ma4ForwardPeriod]\n          }\n          ma4Sum -= (result[i - (params[4] - 1)].cr ?? 0)\n        }\n      }\n      result.push(cr)\n    })\n    return result\n  }\n}\nexport default currentRatio\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { IndicatorTemplate } from '../../component/Indicator'\n\ninterface Dma {\n  dma?: number\n  ama?: number\n}\n\n/**\n * DMA\n * 公式：DIF:MA(CLOSE,N1)-MA(CLOSE,N2);DIFMA:MA(DIF,M)\n */\nconst differentOfMovingAverage: IndicatorTemplate<Dma, number> = {\n  name: 'DMA',\n  shortName: 'DMA',\n  calcParams: [10, 50, 10],\n  figures: [\n    { key: 'dma', title: 'DMA: ', type: 'line' },\n    { key: 'ama', title: 'AMA: ', type: 'line' }\n  ],\n  calc: (dataList, indicator) => {\n    const params = indicator.calcParams\n    const maxPeriod = Math.max(params[0], params[1])\n    let closeSum1 = 0\n    let closeSum2 = 0\n    let dmaSum = 0\n    const result: Dma[] = []\n    dataList.forEach((kLineData, i) => {\n      const dma: Dma = {}\n      const close = kLineData.close\n      closeSum1 += close\n      closeSum2 += close\n      let ma1 = 0\n      let ma2 = 0\n      if (i >= params[0] - 1) {\n        ma1 = closeSum1 / params[0]\n        closeSum1 -= dataList[i - (params[0] - 1)].close\n      }\n      if (i >= params[1] - 1) {\n        ma2 = closeSum2 / params[1]\n        closeSum2 -= dataList[i - (params[1] - 1)].close\n      }\n\n      if (i >= maxPeriod - 1) {\n        const dif = ma1 - ma2\n        dma.dma = dif\n        dmaSum += dif\n        if (i >= maxPeriod + params[2] - 2) {\n          dma.ama = dmaSum / params[2]\n          dmaSum -= (result[i - (params[2] - 1)].dma ?? 0)\n        }\n      }\n      result.push(dma)\n    })\n    return result\n  }\n}\n\nexport default differentOfMovingAverage\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { IndicatorTemplate } from '../../component/Indicator'\n\ninterface Dmi {\n  pdi?: number\n  mdi?: number\n  adx?: number\n  adxr?: number\n}\n\n/**\n * DMI\n *\n * MTR:=EXPMEMA(MAX(MAX(HIGH-LOW,ABS(HIGH-REF(CLOSE,1))),ABS(REF(CLOSE,1)-LOW)),N)\n * HD :=HIGH-REF(HIGH,1);\n * LD :=REF(LOW,1)-LOW;\n * DMP:=EXPMEMA(IF(HD>0&&HD>LD,HD,0),N);\n * DMM:=EXPMEMA(IF(LD>0&&LD>HD,LD,0),N);\n *\n * PDI: DMP*100/MTR;\n * MDI: DMM*100/MTR;\n * ADX: EXPMEMA(ABS(MDI-PDI)/(MDI+PDI)*100,MM);\n * ADXR:EXPMEMA(ADX,MM);\n * 公式含义：\n * MTR赋值:最高价-最低价和最高价-昨收的绝对值的较大值和昨收-最低价的绝对值的较大值的N日指数平滑移动平均\n * HD赋值:最高价-昨日最高价\n * LD赋值:昨日最低价-最低价\n * DMP赋值:如果HD>0并且HD>LD,返回HD,否则返回0的N日指数平滑移动平均\n * DMM赋值:如果LD>0并且LD>HD,返回LD,否则返回0的N日指数平滑移动平均\n * 输出PDI:DMP*100/MTR\n * 输出MDI:DMM*100/MTR\n * 输出ADX:MDI-PDI的绝对值/(MDI+PDI)*100的MM日指数平滑移动平均\n * 输出ADXR:ADX的MM日指数平滑移动平均\n *\n */\nconst directionalMovementIndex: IndicatorTemplate<Dmi, number> = {\n  name: 'DMI',\n  shortName: 'DMI',\n  calcParams: [14, 6],\n  figures: [\n    { key: 'pdi', title: 'PDI: ', type: 'line' },\n    { key: 'mdi', title: 'MDI: ', type: 'line' },\n    { key: 'adx', title: 'ADX: ', type: 'line' },\n    { key: 'adxr', title: 'ADXR: ', type: 'line' }\n  ],\n  calc: (dataList, indicator) => {\n    const params = indicator.calcParams\n    let trSum = 0\n    let hSum = 0\n    let lSum = 0\n    let mtr = 0\n    let dmp = 0\n    let dmm = 0\n    let dxSum = 0\n    let adx = 0\n    const result: Dmi[] = []\n    dataList.forEach((kLineData, i) => {\n      const dmi: Dmi = {}\n      const prevKLineData = dataList[i - 1] ?? kLineData\n      const preClose = prevKLineData.close\n      const high = kLineData.high\n      const low = kLineData.low\n      const hl = high - low\n      const hcy = Math.abs(high - preClose)\n      const lcy = Math.abs(preClose - low)\n      const hhy = high - prevKLineData.high\n      const lyl = prevKLineData.low - low\n      const tr = Math.max(Math.max(hl, hcy), lcy)\n      const h = (hhy > 0 && hhy > lyl) ? hhy : 0\n      const l = (lyl > 0 && lyl > hhy) ? lyl : 0\n      trSum += tr\n      hSum += h\n      lSum += l\n      if (i >= params[0] - 1) {\n        if (i > params[0] - 1) {\n          mtr = mtr - mtr / params[0] + tr\n          dmp = dmp - dmp / params[0] + h\n          dmm = dmm - dmm / params[0] + l\n        } else {\n          mtr = trSum\n          dmp = hSum\n          dmm = lSum\n        }\n        let pdi = 0\n        let mdi = 0\n        if (mtr !== 0) {\n          pdi = dmp * 100 / mtr\n          mdi = dmm * 100 / mtr\n        }\n        dmi.pdi = pdi\n        dmi.mdi = mdi\n        let dx = 0\n        if (mdi + pdi !== 0) {\n          dx = Math.abs((mdi - pdi)) / (mdi + pdi) * 100\n        }\n        dxSum += dx\n        if (i >= params[0] * 2 - 2) {\n          if (i > params[0] * 2 - 2) {\n            adx = (adx * (params[0] - 1) + dx) / params[0]\n          } else {\n            adx = dxSum / params[0]\n          }\n          dmi.adx = adx\n          if (i >= params[0] * 2 + params[1] - 3) {\n            dmi.adxr = ((result[i - (params[1] - 1)].adx ?? 0) + adx) / 2\n          }\n        }\n      }\n      result.push(dmi)\n    })\n    return result\n  }\n}\n\nexport default directionalMovementIndex\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { IndicatorTemplate } from '../../component/Indicator'\n\ninterface Emv {\n  emv?: number\n  maEmv?: number\n}\n\n/**\n *\n * EMV 简易波动指标\n * 公式：\n * A=（今日最高+今日最低）/2\n * B=（前日最高+前日最低）/2\n * C=今日最高-今日最低\n * EM=（A-B）*C/今日成交额\n * EMV=N日内EM的累和\n * MAEMV=EMV的M日的简单移动平均\n *\n */\nconst easeOfMovementValue: IndicatorTemplate<Emv, number> = {\n  name: 'EMV',\n  shortName: 'EMV',\n  calcParams: [14, 9],\n  figures: [\n    { key: 'emv', title: 'EMV: ', type: 'line' },\n    { key: 'maEmv', title: 'MAEMV: ', type: 'line' }\n  ],\n  calc: (dataList, indicator) => {\n    const params = indicator.calcParams\n    let emvValueSum = 0\n    const emvValueList: number[] = []\n    return dataList.map((kLineData, i) => {\n      const emv: Emv = {}\n      if (i > 0) {\n        const prevKLineData = dataList[i - 1]\n        const high = kLineData.high\n        const low = kLineData.low\n        const volume = kLineData.volume ?? 0\n        const distanceMoved = (high + low) / 2 - (prevKLineData.high + prevKLineData.low) / 2\n\n        if (volume === 0 || high - low === 0) {\n          emv.emv = 0\n        } else {\n          const ratio = volume / 100000000 / (high - low)\n          emv.emv = distanceMoved / ratio\n        }\n        emvValueSum += emv.emv\n        emvValueList.push(emv.emv)\n        if (i >= params[0]) {\n          emv.maEmv = emvValueSum / params[0]\n          emvValueSum -= emvValueList[i - params[0]]\n        }\n      }\n      return emv\n    })\n  }\n}\n\nexport default easeOfMovementValue\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { IndicatorTemplate } from '../../component/Indicator'\n\ninterface Ema {\n  ema1?: number\n  ema2?: number\n  ema3?: number\n}\n\n/**\n * EMA 指数移动平均\n */\nconst exponentialMovingAverage: IndicatorTemplate<Ema, number> = {\n  name: 'EMA',\n  shortName: 'EMA',\n  series: 'price',\n  calcParams: [6, 12, 20],\n  precision: 2,\n  shouldOhlc: true,\n  figures: [\n    { key: 'ema1', title: 'EMA6: ', type: 'line' },\n    { key: 'ema2', title: 'EMA12: ', type: 'line' },\n    { key: 'ema3', title: 'EMA20: ', type: 'line' }\n  ],\n  regenerateFigures: (params) => params.map((p, i) => ({ key: `ema${i + 1}`, title: `EMA${p}: `, type: 'line' })),\n  calc: (dataList, indicator) => {\n    const { calcParams: params, figures } = indicator\n    let closeSum = 0\n    const emaValues: number[] = []\n    return dataList.map((kLineData, i) => {\n      const ema = {}\n      const close = kLineData.close\n      closeSum += close\n      params.forEach((p, index) => {\n        if (i >= p - 1) {\n          if (i > p - 1) {\n            emaValues[index] = (2 * close + (p - 1) * emaValues[index]) / (p + 1)\n          } else {\n            emaValues[index] = closeSum / p\n          }\n          ema[figures[index].key] = emaValues[index]\n        }\n      })\n      return ema\n    })\n  }\n}\n\nexport default exponentialMovingAverage\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { IndicatorTemplate } from '../../component/Indicator'\n\ninterface Mtm {\n  mtm?: number\n  maMtm?: number\n}\n\n/**\n * mtm\n * 公式 MTM（N日）=C－CN\n */\nconst momentum: IndicatorTemplate<Mtm, number> = {\n  name: 'MTM',\n  shortName: 'MTM',\n  calcParams: [12, 6],\n  figures: [\n    { key: 'mtm', title: 'MTM: ', type: 'line' },\n    { key: 'maMtm', title: 'MAMTM: ', type: 'line' }\n  ],\n  calc: (dataList, indicator) => {\n    const params = indicator.calcParams\n    let mtmSum = 0\n    const result: Mtm[] = []\n    dataList.forEach((kLineData, i) => {\n      const mtm: Mtm = {}\n      if (i >= params[0]) {\n        const close = kLineData.close\n        const agoClose = dataList[i - params[0]].close\n        mtm.mtm = close - agoClose\n        mtmSum += mtm.mtm\n        if (i >= params[0] + params[1] - 1) {\n          mtm.maMtm = mtmSum / params[1]\n          mtmSum -= (result[i - (params[1] - 1)].mtm ?? 0)\n        }\n      }\n      result.push(mtm)\n    })\n    return result\n  }\n}\n\nexport default momentum\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { IndicatorTemplate } from '../../component/Indicator'\n\ninterface Ma {\n  ma1?: number\n  ma2?: number\n  ma3?: number\n  ma4?: number\n}\n\n/**\n * MA 移动平均\n */\nconst movingAverage: IndicatorTemplate<Ma, number> = {\n  name: 'MA',\n  shortName: 'MA',\n  series: 'price',\n  calcParams: [5, 10, 30, 60],\n  precision: 2,\n  shouldOhlc: true,\n  figures: [\n    { key: 'ma1', title: 'MA5: ', type: 'line' },\n    { key: 'ma2', title: 'MA10: ', type: 'line' },\n    { key: 'ma3', title: 'MA30: ', type: 'line' },\n    { key: 'ma4', title: 'MA60: ', type: 'line' }\n  ],\n  regenerateFigures: (params) => params.map((p, i) => ({ key: `ma${i + 1}`, title: `MA${p}: `, type: 'line' })),\n  calc: (dataList, indicator) => {\n    const { calcParams: params, figures } = indicator\n    const closeSums: number[] = []\n    return dataList.map((kLineData, i) => {\n      const ma = {}\n      const close = kLineData.close\n      params.forEach((p, index) => {\n        closeSums[index] = (closeSums[index] ?? 0) + close\n        if (i >= p - 1) {\n          ma[figures[index].key] = closeSums[index] / p\n          closeSums[index] -= dataList[i - (p - 1)].close\n        }\n      })\n      return ma\n    })\n  }\n}\n\nexport default movingAverage\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { formatValue } from '../../common/utils/format'\n\nimport type { IndicatorTemplate } from '../../component/Indicator'\n\ninterface Macd {\n  dif?: number\n  dea?: number\n  macd?: number\n}\n\n/**\n * MACD：参数快线移动平均、慢线移动平均、移动平均，\n * 默认参数值12、26、9。\n * 公式：⒈首先分别计算出收盘价12日指数平滑移动平均线与26日指数平滑移动平均线，分别记为EMA(12）与EMA(26）。\n * ⒉求这两条指数平滑移动平均线的差，即：DIFF = EMA(SHORT) － EMA(LONG)。\n * ⒊再计算DIFF的M日的平均的指数平滑移动平均线，记为DEA。\n * ⒋最后用DIFF减DEA，得MACD。MACD通常绘制成围绕零轴线波动的柱形图。MACD柱状大于0涨颜色，小于0跌颜色。\n */\nconst movingAverageConvergenceDivergence: IndicatorTemplate<Macd, number> = {\n  name: 'MACD',\n  shortName: 'MACD',\n  calcParams: [12, 26, 9],\n  figures: [\n    { key: 'dif', title: 'DIF: ', type: 'line' },\n    { key: 'dea', title: 'DEA: ', type: 'line' },\n    {\n      key: 'macd',\n      title: 'MACD: ',\n      type: 'bar',\n      baseValue: 0,\n      styles: ({ data, indicator, defaultStyles }) => {\n        const { prev, current } = data\n        const prevMacd = prev?.macd ?? Number.MIN_SAFE_INTEGER\n        const currentMacd = current?.macd ?? Number.MIN_SAFE_INTEGER\n        let color = ''\n        if (currentMacd > 0) {\n          color = formatValue(indicator.styles, 'bars[0].upColor', (defaultStyles!.bars)[0].upColor) as string\n        } else if (currentMacd < 0) {\n          color = formatValue(indicator.styles, 'bars[0].downColor', (defaultStyles!.bars)[0].downColor) as string\n        } else {\n          color = formatValue(indicator.styles, 'bars[0].noChangeColor', (defaultStyles!.bars)[0].noChangeColor) as string\n        }\n        const style = prevMacd < currentMacd ? 'stroke' : 'fill'\n        return { style, color, borderColor: color }\n      }\n    }\n  ],\n  calc: (dataList, indicator) => {\n    const params = indicator.calcParams\n    let closeSum = 0\n    let emaShort = 0\n    let emaLong = 0\n    let dif = 0\n    let difSum = 0\n    let dea = 0\n    const maxPeriod = Math.max(params[0], params[1])\n    return dataList.map((kLineData, i) => {\n      const macd: Macd = {}\n      const close = kLineData.close\n      closeSum += close\n      if (i >= params[0] - 1) {\n        if (i > params[0] - 1) {\n          emaShort = (2 * close + (params[0] - 1) * emaShort) / (params[0] + 1)\n        } else {\n          emaShort = closeSum / params[0]\n        }\n      }\n      if (i >= params[1] - 1) {\n        if (i > params[1] - 1) {\n          emaLong = (2 * close + (params[1] - 1) * emaLong) / (params[1] + 1)\n        } else {\n          emaLong = closeSum / params[1]\n        }\n      }\n      if (i >= maxPeriod - 1) {\n        dif = emaShort - emaLong\n        macd.dif = dif\n        difSum += dif\n        if (i >= maxPeriod + params[2] - 2) {\n          if (i > maxPeriod + params[2] - 2) {\n            dea = (dif * 2 + dea * (params[2] - 1)) / (params[2] + 1)\n          } else {\n            dea = difSum / params[2]\n          }\n          macd.macd = (dif - dea) * 2\n          macd.dea = dea\n        }\n      }\n      return macd\n    })\n  }\n}\n\nexport default movingAverageConvergenceDivergence\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { IndicatorTemplate } from '../../component/Indicator'\n\ninterface Obv {\n  obv?: number\n  maObv?: number\n}\n\n/**\n * OBV\n * OBV = REF(OBV) + sign * V\n */\nconst onBalanceVolume: IndicatorTemplate<Obv, number> = {\n  name: 'OBV',\n  shortName: 'OBV',\n  calcParams: [30],\n  figures: [\n    { key: 'obv', title: 'OBV: ', type: 'line' },\n    { key: 'maObv', title: 'MAOBV: ', type: 'line' }\n  ],\n  calc: (dataList, indicator) => {\n    const params = indicator.calcParams\n    let obvSum = 0\n    let oldObv = 0\n    const result: Obv[] = []\n    dataList.forEach((kLineData, i) => {\n      const prevKLineData = dataList[i - 1] ?? kLineData\n      if (kLineData.close < prevKLineData.close) {\n        oldObv -= (kLineData.volume ?? 0)\n      } else if (kLineData.close > prevKLineData.close) {\n        oldObv += (kLineData.volume ?? 0)\n      }\n      const obv: Obv = { obv: oldObv }\n      obvSum += oldObv\n      if (i >= params[0] - 1) {\n        obv.maObv = obvSum / params[0]\n        obvSum -= (result[i - (params[0] - 1)].obv ?? 0)\n      }\n      result.push(obv)\n    })\n    return result\n  }\n}\n\nexport default onBalanceVolume\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { IndicatorTemplate } from '../../component/Indicator'\n\ninterface Pvt {\n  pvt?: number\n}\n\n/**\n * 价量趋势指标\n * 公式:\n * X = (CLOSE - REF(CLOSE, 1)) / REF(CLOSE, 1) * VOLUME\n * PVT = SUM(X)\n *\n */\nconst priceAndVolumeTrend: IndicatorTemplate<Pvt> = {\n  name: 'PVT',\n  shortName: 'PVT',\n  figures: [\n    { key: 'pvt', title: 'PVT: ', type: 'line' }\n  ],\n  calc: (dataList) => {\n    let sum = 0\n    return dataList.map((kLineData, i) => {\n      const pvt: Pvt = {}\n      const close = kLineData.close\n      const volume = kLineData.volume ?? 1\n      const prevClose = (dataList[i - 1] ?? kLineData).close\n      let x = 0\n      const total = prevClose * volume\n      if (total !== 0) {\n        x = (close - prevClose) / total\n      }\n      sum += x\n      pvt.pvt = sum\n      return pvt\n    })\n  }\n}\n\nexport default priceAndVolumeTrend\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { IndicatorTemplate } from '../../component/Indicator'\n\ninterface Psy {\n  psy?: number\n  maPsy?: number\n}\n\n/**\n * PSY\n * 公式：PSY=N日内的上涨天数/N×100%。\n */\nconst psychologicalLine: IndicatorTemplate<Psy, number> = {\n  name: 'PSY',\n  shortName: 'PSY',\n  calcParams: [12, 6],\n  figures: [\n    { key: 'psy', title: 'PSY: ', type: 'line' },\n    { key: 'maPsy', title: 'MAPSY: ', type: 'line' }\n  ],\n  calc: (dataList, indicator) => {\n    const params = indicator.calcParams\n    let upCount = 0\n    let psySum = 0\n    const upList: number[] = []\n    const result: Psy[] = []\n    dataList.forEach((kLineData, i) => {\n      const psy: Psy = {}\n      const prevClose = (dataList[i - 1] ?? kLineData).close\n      const upFlag = kLineData.close - prevClose > 0 ? 1 : 0\n      upList.push(upFlag)\n      upCount += upFlag\n      if (i >= params[0] - 1) {\n        psy.psy = upCount / params[0] * 100\n        psySum += psy.psy\n        if (i >= params[0] + params[1] - 2) {\n          psy.maPsy = psySum / params[1]\n          psySum -= (result[i - (params[1] - 1)].psy ?? 0)\n        }\n        upCount -= upList[i - (params[0] - 1)]\n      }\n      result.push(psy)\n    })\n    return result\n  }\n}\n\nexport default psychologicalLine\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { IndicatorTemplate } from '../../component/Indicator'\n\ninterface Roc {\n  roc?: number\n  maRoc?: number\n}\n\n/**\n * 变动率指标\n * 公式：ROC = (CLOSE - REF(CLOSE, N)) / REF(CLOSE, N)\n */\nconst rateOfChange: IndicatorTemplate<Roc, number> = {\n  name: 'ROC',\n  shortName: 'ROC',\n  calcParams: [12, 6],\n  figures: [\n    { key: 'roc', title: 'ROC: ', type: 'line' },\n    { key: 'maRoc', title: 'MAROC: ', type: 'line' }\n  ],\n  calc: (dataList, indicator) => {\n    const params = indicator.calcParams\n    const result: Roc[] = []\n    let rocSum = 0\n    dataList.forEach((kLineData, i) => {\n      const roc: Roc = {}\n      if (i >= params[0] - 1) {\n        const close = kLineData.close\n        const agoClose = (dataList[i - params[0]] ?? dataList[i - (params[0] - 1)]).close\n        if (agoClose !== 0) {\n          roc.roc = (close - agoClose) / agoClose * 100\n        } else {\n          roc.roc = 0\n        }\n        rocSum += roc.roc\n        if (i >= params[0] - 1 + params[1] - 1) {\n          roc.maRoc = rocSum / params[1]\n          rocSum -= (result[i - (params[1] - 1)].roc ?? 0)\n        }\n      }\n      result.push(roc)\n    })\n    return result\n  }\n}\n\nexport default rateOfChange\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { IndicatorTemplate } from '../../component/Indicator'\n\ninterface Rsi {\n  rsi1?: number\n  rsi2?: number\n  rsi3?: number\n}\n\n/**\n * RSI\n * RSI = SUM(MAX(CLOSE - REF(CLOSE,1),0),N) / SUM(ABS(CLOSE - REF(CLOSE,1)),N) × 100\n */\nconst relativeStrengthIndex: IndicatorTemplate<Rsi, number> = {\n  name: 'RSI',\n  shortName: 'RSI',\n  calcParams: [6, 12, 24],\n  figures: [\n    { key: 'rsi1', title: 'RSI1: ', type: 'line' },\n    { key: 'rsi2', title: 'RSI2: ', type: 'line' },\n    { key: 'rsi3', title: 'RSI3: ', type: 'line' }\n  ],\n  regenerateFigures: (params) => params.map((_, index) => {\n    const num = index + 1\n    return { key: `rsi${num}`, title: `RSI${num}: `, type: 'line' }\n  }),\n  calc: (dataList, indicator) => {\n    const { calcParams: params, figures } = indicator\n    const sumCloseAs: number[] = []\n    const sumCloseBs: number[] = []\n    return dataList.map((kLineData, i) => {\n      const rsi = {}\n      const prevClose = (dataList[i - 1] ?? kLineData).close\n      const tmp = kLineData.close - prevClose\n      params.forEach((p, index) => {\n        if (tmp > 0) {\n          sumCloseAs[index] = (sumCloseAs[index] ?? 0) + tmp\n        } else {\n          sumCloseBs[index] = (sumCloseBs[index] ?? 0) + Math.abs(tmp)\n        }\n        if (i >= p - 1) {\n          if (sumCloseBs[index] !== 0) {\n            rsi[figures[index].key] = 100 - (100.0 / (1 + sumCloseAs[index] / sumCloseBs[index]))\n          } else {\n            rsi[figures[index].key] = 0\n          }\n          const agoData = dataList[i - (p - 1)]\n          const agoPreData = dataList[i - p] ?? agoData\n          const agoTmp = agoData.close - agoPreData.close\n          if (agoTmp > 0) {\n            sumCloseAs[index] -= agoTmp\n          } else {\n            sumCloseBs[index] -= Math.abs(agoTmp)\n          }\n        }\n      })\n      return rsi\n    })\n  }\n}\n\nexport default relativeStrengthIndex\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { IndicatorTemplate } from '../../component/Indicator'\n\ninterface Sma {\n  sma?: number\n}\n\n/**\n * sma\n */\nconst simpleMovingAverage: IndicatorTemplate<Sma, number> = {\n  name: 'SMA',\n  shortName: 'SMA',\n  series: 'price',\n  calcParams: [12, 2],\n  precision: 2,\n  figures: [\n    { key: 'sma', title: 'SMA: ', type: 'line' }\n  ],\n  shouldOhlc: true,\n  calc: (dataList, indicator) => {\n    const params = indicator.calcParams\n    let closeSum = 0\n    let smaValue = 0\n    return dataList.map((kLineData, i) => {\n      const sma: Sma = {}\n      const close = kLineData.close\n      closeSum += close\n      if (i >= params[0] - 1) {\n        if (i > params[0] - 1) {\n          smaValue = (close * params[1] + smaValue * (params[0] - params[1] + 1)) / (params[0] + 1)\n        } else {\n          smaValue = closeSum / params[0]\n        }\n        sma.sma = smaValue\n      }\n      return sma\n    })\n  }\n}\n\nexport default simpleMovingAverage\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Binary search for the nearest result\n * @param dataList\n * @param valueKey\n * @param targetValue\n * @return {number}\n */\nexport function binarySearchNearest<T> (dataList: T[], valueKey: keyof T, targetValue: T[keyof T]): number {\n  let left = 0\n  let right = 0\n  for (right = dataList.length - 1; left !== right;) {\n    const midIndex = Math.floor((right + left) / 2)\n    const mid = right - left\n    const midValue = dataList[midIndex][valueKey]\n    if (targetValue === dataList[left][valueKey]) {\n      return left\n    }\n    if (targetValue === dataList[right][valueKey]) {\n      return right\n    }\n    if (targetValue === midValue) {\n      return midIndex\n    }\n\n    if (targetValue > midValue) {\n      left = midIndex\n    } else {\n      right = midIndex\n    }\n\n    if (mid <= 2) {\n      break\n    }\n  }\n  return left\n}\n\n/**\n * 优化数字\n * @param value\n * @return {number|number}\n */\nexport function nice (value: number): number {\n  const exponent = Math.floor(log10(value))\n  const exp10 = index10(exponent)\n  const f = value / exp10 // 1 <= f < 10\n  let nf = 0\n  if (f < 1.5) {\n    nf = 1\n  } else if (f < 2.5) {\n    nf = 2\n  } else if (f < 3.5) {\n    nf = 3\n  } else if (f < 4.5) {\n    nf = 4\n  } else if (f < 5.5) {\n    nf = 5\n  } else if (f < 6.5) {\n    nf = 6\n  } else {\n    nf = 8\n  }\n  value = nf * exp10\n  return +value.toFixed(Math.abs(exponent))\n}\n\n/**\n * Round\n * @param value\n * @param precision\n * @return {number}\n */\nexport function round (value: number, precision?: number): number {\n  precision = Math.max(0, precision ?? 0)\n  const pow = Math.pow(10, precision)\n  return Math.round(value * pow) / pow\n}\n\n/**\n * Get precision\n * @param value\n * @return {number|number}\n */\nexport function getPrecision (value: number): number {\n  const str = value.toString()\n  const eIndex = str.indexOf('e')\n  if (eIndex > 0) {\n    const precision = +str.slice(eIndex + 1)\n    return precision < 0 ? -precision : 0\n  }\n  const dotIndex = str.indexOf('.')\n  return dotIndex < 0 ? 0 : str.length - 1 - dotIndex\n}\n\nexport function getMaxMin<D> (dataList: D[], maxKey: keyof D, minKey: keyof D): number[] {\n  const maxMin = [Number.MIN_SAFE_INTEGER, Number.MAX_SAFE_INTEGER]\n  const dataLength = dataList.length\n  let index = 0\n  while (index < dataLength) {\n    const data = dataList[index]\n    maxMin[0] = Math.max((data[maxKey] ?? Number.MIN_SAFE_INTEGER) as number, maxMin[0])\n    maxMin[1] = Math.min((data[minKey] ?? Number.MAX_SAFE_INTEGER) as number, maxMin[1])\n    ++index\n  }\n  return maxMin\n}\n\n/**\n * log10\n * @param value\n * @return {number}\n */\nexport function log10 (value: number): number {\n  if (value === 0) {\n    return 0\n  }\n  return Math.log10(value)\n}\n\n/**\n * index 10\n * @param value\n * @return {number}\n */\nexport function index10 (value: number): number {\n  return Math.pow(10, value)\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { KLineData } from '../../common/Data'\nimport type { IndicatorTemplate } from '../../component/Indicator'\n\nimport { getMaxMin } from '../../common/utils/number'\n\ninterface Kdj {\n  k?: number\n  d?: number\n  j?: number\n}\n\n/**\n * KDJ\n *\n * 当日K值=2/3×前一日K值+1/3×当日RSV\n * 当日D值=2/3×前一日D值+1/3×当日K值\n * 若无前一日K 值与D值，则可分别用50来代替。\n * J值=3*当日K值-2*当日D值\n */\nconst stoch: IndicatorTemplate<Kdj, number> = {\n  name: 'KDJ',\n  shortName: 'KDJ',\n  calcParams: [9, 3, 3],\n  figures: [\n    { key: 'k', title: 'K: ', type: 'line' },\n    { key: 'd', title: 'D: ', type: 'line' },\n    { key: 'j', title: 'J: ', type: 'line' }\n  ],\n  calc: (dataList, indicator) => {\n    const params = indicator.calcParams\n    const result: Kdj[] = []\n    dataList.forEach((kLineData, i) => {\n      const kdj: Kdj = {}\n      const close = kLineData.close\n      if (i >= params[0] - 1) {\n        const lhn = getMaxMin<KLineData>(dataList.slice(i - (params[0] - 1), i + 1), 'high', 'low')\n        const hn = lhn[0]\n        const ln = lhn[1]\n        const hnSubLn = hn - ln\n        const rsv = (close - ln) / (hnSubLn === 0 ? 1 : hnSubLn) * 100\n        kdj.k = ((params[1] - 1) * (result[i - 1]?.k ?? 50) + rsv) / params[1]\n        kdj.d = ((params[2] - 1) * (result[i - 1]?.d ?? 50) + kdj.k) / params[2]\n        kdj.j = 3.0 * kdj.k - 2.0 * kdj.d\n      }\n      result.push(kdj)\n    })\n    return result\n  }\n}\n\nexport default stoch\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { formatValue } from '../../common/utils/format'\n\nimport type { IndicatorTemplate } from '../../component/Indicator'\n\ninterface Sar {\n  sar?: number\n  high: number\n  low: number\n}\n\nconst stopAndReverse: IndicatorTemplate<Sar, number> = {\n  name: 'SAR',\n  shortName: 'SAR',\n  series: 'price',\n  calcParams: [2, 2, 20],\n  precision: 2,\n  shouldOhlc: true,\n  figures: [\n    {\n      key: 'sar',\n      title: 'SAR: ',\n      type: 'circle',\n      styles: ({ data, indicator, defaultStyles }) => {\n        const { current } = data\n        const sar = current?.sar ?? Number.MIN_SAFE_INTEGER\n        const halfHL = ((current?.high ?? 0) + (current?.low ?? 0)) / 2\n        const color = sar < halfHL\n          ? formatValue(indicator.styles, 'circles[0].upColor', (defaultStyles!.circles)[0].upColor) as string\n          : formatValue(indicator.styles, 'circles[0].downColor', (defaultStyles!.circles)[0].downColor) as string\n        return { color }\n      }\n    }\n  ],\n  calc: (dataList, indicator) => {\n    const params = indicator.calcParams\n    const startAf = params[0] / 100\n    const step = params[1] / 100\n    const maxAf = params[2] / 100\n\n    // 加速因子\n    let af = startAf\n    // 极值\n    let ep = -100\n    // 判断是上涨还是下跌  false：下跌\n    let isIncreasing = false\n    let sar = 0\n    return dataList.map((kLineData, i) => {\n      // 上一个周期的sar\n      const preSar = sar\n      const high = kLineData.high\n      const low = kLineData.low\n      if (isIncreasing) {\n        // 上涨\n        if (ep === -100 || ep < high) {\n          // 重新初始化值\n          ep = high\n          af = Math.min(af + step, maxAf)\n        }\n        sar = preSar + af * (ep - preSar)\n        const lowMin = Math.min(dataList[Math.max(1, i) - 1].low, low)\n        if (sar > kLineData.low) {\n          sar = ep\n          // 重新初始化值\n          af = startAf\n          ep = -100\n          isIncreasing = !isIncreasing\n        } else if (sar > lowMin) {\n          sar = lowMin\n        }\n      } else {\n        if (ep === -100 || ep > low) {\n          // 重新初始化值\n          ep = low\n          af = Math.min(af + step, maxAf)\n        }\n        sar = preSar + af * (ep - preSar)\n        const highMax = Math.max(dataList[Math.max(1, i) - 1].high, high)\n        if (sar < kLineData.high) {\n          sar = ep\n          // 重新初始化值\n          af = 0\n          ep = -100\n          isIncreasing = !isIncreasing\n        } else if (sar < highMax) {\n          sar = highMax\n        }\n      }\n      return { high, low, sar }\n    })\n  }\n}\n\nexport default stopAndReverse\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http:*www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { IndicatorTemplate } from '../../component/Indicator'\n\ninterface Trix {\n  trix?: number\n  maTrix?: number\n}\n\n/**\n * trix\n *\n * TR=收盘价的N日指数移动平均的N日指数移动平均的N日指数移动平均；\n * TRIX=(TR-昨日TR)/昨日TR*100；\n * MATRIX=TRIX的M日简单移动平均；\n * 默认参数N设为12，默认参数M设为9；\n * 默认参数12、9\n * 公式：MTR:=EMA(EMA(EMA(CLOSE,N),N),N)\n * TRIX:(MTR-REF(MTR,1))/REF(MTR,1)*100;\n * TRMA:MA(TRIX,M)\n *\n */\nconst tripleExponentiallySmoothedAverage: IndicatorTemplate<Trix, number> = {\n  name: 'TRIX',\n  shortName: 'TRIX',\n  calcParams: [12, 9],\n  figures: [\n    { key: 'trix', title: 'TRIX: ', type: 'line' },\n    { key: 'maTrix', title: 'MATRIX: ', type: 'line' }\n  ],\n  calc: (dataList, indicator) => {\n    const params = indicator.calcParams\n    let closeSum = 0\n    let ema1 = 0\n    let ema2 = 0\n    let oldTr = 0\n    let ema1Sum = 0\n    let ema2Sum = 0\n    let trixSum = 0\n    const result: Trix[] = []\n    dataList.forEach((kLineData, i) => {\n      const trix: Trix = {}\n      const close = kLineData.close\n      closeSum += close\n      if (i >= params[0] - 1) {\n        if (i > params[0] - 1) {\n          ema1 = (2 * close + (params[0] - 1) * ema1) / (params[0] + 1)\n        } else {\n          ema1 = closeSum / params[0]\n        }\n        ema1Sum += ema1\n        if (i >= params[0] * 2 - 2) {\n          if (i > params[0] * 2 - 2) {\n            ema2 = (2 * ema1 + (params[0] - 1) * ema2) / (params[0] + 1)\n          } else {\n            ema2 = ema1Sum / params[0]\n          }\n          ema2Sum += ema2\n          if (i >= params[0] * 3 - 3) {\n            let tr = 0\n            let trixValue = 0\n            if (i > params[0] * 3 - 3) {\n              tr = (2 * ema2 + (params[0] - 1) * oldTr) / (params[0] + 1)\n              trixValue = (tr - oldTr) / oldTr * 100\n            } else {\n              tr = ema2Sum / params[0]\n            }\n            oldTr = tr\n            trix.trix = trixValue\n            trixSum += trixValue\n            if (i >= params[0] * 3 + params[1] - 4) {\n              trix.maTrix = trixSum / params[1]\n              trixSum -= (result[i - (params[1] - 1)].trix ?? 0)\n            }\n          }\n        }\n      }\n      result.push(trix)\n    })\n    return result\n  }\n}\n\nexport default tripleExponentiallySmoothedAverage\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { formatValue } from '../../common/utils/format'\nimport { isValid } from '../../common/utils/typeChecks'\n\nimport type { IndicatorTemplate, IndicatorFigure } from '../../component/Indicator'\n\ninterface Vol {\n  open: number\n  close: number\n  volume?: number\n  ma1?: number\n  ma2?: number\n  ma3?: number\n}\n\nfunction getVolumeFigure (): IndicatorFigure<Vol> {\n  return {\n    key: 'volume',\n    title: 'VOLUME: ',\n    type: 'bar',\n    baseValue: 0,\n    styles: ({ data, indicator, defaultStyles }) => {\n      const current = data.current\n      let color = formatValue(indicator.styles, 'bars[0].noChangeColor', (defaultStyles!.bars)[0].noChangeColor)\n      if (isValid(current)) {\n        if (current.close > current.open) {\n          color = formatValue(indicator.styles, 'bars[0].upColor', (defaultStyles!.bars)[0].upColor)\n        } else if (current.close < current.open) {\n          color = formatValue(indicator.styles, 'bars[0].downColor', (defaultStyles!.bars)[0].downColor)\n        }\n      }\n      return { color: color as string }\n    }\n  }\n}\n\nconst volume: IndicatorTemplate<Vol, number> = {\n  name: 'VOL',\n  shortName: 'VOL',\n  series: 'volume',\n  calcParams: [5, 10, 20],\n  shouldFormatBigNumber: true,\n  precision: 0,\n  minValue: 0,\n  figures: [\n    { key: 'ma1', title: 'MA5: ', type: 'line' },\n    { key: 'ma2', title: 'MA10: ', type: 'line' },\n    { key: 'ma3', title: 'MA20: ', type: 'line' },\n    getVolumeFigure()\n  ],\n  regenerateFigures: (params) => {\n    const figures: Array<IndicatorFigure<Vol>> = params.map((p, i) => ({ key: `ma${i + 1}`, title: `MA${p}: `, type: 'line' }))\n    figures.push(getVolumeFigure())\n    return figures\n  },\n  calc: (dataList, indicator) => {\n    const { calcParams: params, figures } = indicator\n    const volSums: number[] = []\n    return dataList.map((kLineData, i) => {\n      const volume = kLineData.volume ?? 0\n      const vol: Vol = { volume, open: kLineData.open, close: kLineData.close }\n      params.forEach((p, index) => {\n        volSums[index] = (volSums[index] ?? 0) + volume\n        if (i >= p - 1) {\n          vol[figures[index].key] = volSums[index] / p\n          volSums[index] -= (dataList[i - (p - 1)].volume ?? 0)\n        }\n      })\n      return vol\n    })\n  }\n}\n\nexport default volume\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { IndicatorTemplate } from '../../component/Indicator'\n\ninterface Vr {\n  vr?: number\n  maVr?: number\n}\n\n/**\n * VR\n * VR=（UVS+1/2PVS）/（DVS+1/2PVS）\n * 24天以来凡是股价上涨那一天的成交量都称为AV，将24天内的AV总和相加后称为UVS\n * 24天以来凡是股价下跌那一天的成交量都称为BV，将24天内的BV总和相加后称为DVS\n * 24天以来凡是股价不涨不跌，则那一天的成交量都称为CV，将24天内的CV总和相加后称为PVS\n *\n */\nconst volumeRatio: IndicatorTemplate<Vr, number> = {\n  name: 'VR',\n  shortName: 'VR',\n  calcParams: [26, 6],\n  figures: [\n    { key: 'vr', title: 'VR: ', type: 'line' },\n    { key: 'maVr', title: 'MAVR: ', type: 'line' }\n  ],\n  calc: (dataList, indicator) => {\n    const params = indicator.calcParams\n    let uvs = 0\n    let dvs = 0\n    let pvs = 0\n    let vrSum = 0\n    const result: Vr[] = []\n    dataList.forEach((kLineData, i) => {\n      const vr: Vr = {}\n      const close = kLineData.close\n      const preClose = (dataList[i - 1] ?? kLineData).close\n      const volume = kLineData.volume ?? 0\n      if (close > preClose) {\n        uvs += volume\n      } else if (close < preClose) {\n        dvs += volume\n      } else {\n        pvs += volume\n      }\n      if (i >= params[0] - 1) {\n        const halfPvs = pvs / 2\n        if (dvs + halfPvs === 0) {\n          vr.vr = 0\n        } else {\n          vr.vr = (uvs + halfPvs) / (dvs + halfPvs) * 100\n        }\n        vrSum += vr.vr\n        if (i >= params[0] + params[1] - 2) {\n          vr.maVr = vrSum / params[1]\n          vrSum -= (result[i - (params[1] - 1)].vr ?? 0)\n        }\n\n        const agoData = dataList[i - (params[0] - 1)]\n        const agoPreData = dataList[i - params[0]] ?? agoData\n        const agoClose = agoData.close\n        const agoVolume = agoData.volume ?? 0\n        if (agoClose > agoPreData.close) {\n          uvs -= agoVolume\n        } else if (agoClose < agoPreData.close) {\n          dvs -= agoVolume\n        } else {\n          pvs -= agoVolume\n        }\n      }\n      result.push(vr)\n    })\n    return result\n  }\n}\n\nexport default volumeRatio\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { KLineData } from '../../common/Data'\nimport type { IndicatorTemplate } from '../../component/Indicator'\n\nimport { getMaxMin } from '../../common/utils/number'\n\ninterface Wr {\n  wr1?: number\n  wr2?: number\n  wr3?: number\n}\n\n/**\n * WR\n * 公式 WR(N) = 100 * [ C - HIGH(N) ] / [ HIGH(N)-LOW(N) ]\n */\nconst williamsR: IndicatorTemplate<Wr, number> = {\n  name: 'WR',\n  shortName: 'WR',\n  calcParams: [6, 10, 14],\n  figures: [\n    { key: 'wr1', title: 'WR1: ', type: 'line' },\n    { key: 'wr2', title: 'WR2: ', type: 'line' },\n    { key: 'wr3', title: 'WR3: ', type: 'line' }\n  ],\n  regenerateFigures: (params) => params.map((_, i) => ({ key: `wr${i + 1}`, title: `WR${i + 1}: `, type: 'line' })),\n  calc: (dataList, indicator) => {\n    const { calcParams: params, figures } = indicator\n    return dataList.map((kLineData, i) => {\n      const wr: Wr = {}\n      const close = kLineData.close\n      params.forEach((param, index) => {\n        const p = param - 1\n        if (i >= p) {\n          const hln = getMaxMin<KLineData>(dataList.slice(i - p, i + 1), 'high', 'low')\n          const hn = hln[0]\n          const ln = hln[1]\n          const hnSubLn = hn - ln\n          wr[figures[index].key] = hnSubLn === 0 ? 0 : (close - hn) / hnSubLn * 100\n        }\n      })\n      return wr\n    })\n  }\n}\n\nexport default williamsR\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type Nullable from '../../common/Nullable'\n\nimport IndicatorImp, { type IndicatorTemplate, type IndicatorConstructor } from '../../component/Indicator'\n\nimport averagePrice from './averagePrice'\nimport awesomeOscillator from './awesomeOscillator'\nimport bias from './bias'\nimport bollingerBands from './bollingerBands'\nimport brar from './brar'\nimport bullAndBearIndex from './bullAndBearIndex'\nimport commodityChannelIndex from './commodityChannelIndex'\nimport currentRatio from './currentRatio'\nimport differentOfMovingAverage from './differentOfMovingAverage'\nimport directionalMovementIndex from './directionalMovementIndex'\nimport easeOfMovementValue from './easeOfMovementValue'\nimport exponentialMovingAverage from './exponentialMovingAverage'\nimport momentum from './momentum'\nimport movingAverage from './movingAverage'\nimport movingAverageConvergenceDivergence from './movingAverageConvergenceDivergence'\nimport onBalanceVolume from './onBalanceVolume'\nimport priceAndVolumeTrend from './priceAndVolumeTrend'\nimport psychologicalLine from './psychologicalLine'\nimport rateOfChange from './rateOfChange'\nimport relativeStrengthIndex from './relativeStrengthIndex'\nimport simpleMovingAverage from './simpleMovingAverage'\nimport stoch from './stoch'\nimport stopAndReverse from './stopAndReverse'\nimport tripleExponentiallySmoothedAverage from './tripleExponentiallySmoothedAverage'\nimport volume from './volume'\nimport volumeRatio from './volumeRatio'\nimport williamsR from './williamsR'\n\nconst indicators: Record<string, IndicatorConstructor> = {}\n\nconst extensions = [\n  averagePrice, awesomeOscillator, bias, bollingerBands, brar,\n  bullAndBearIndex, commodityChannelIndex, currentRatio, differentOfMovingAverage,\n  directionalMovementIndex, easeOfMovementValue, exponentialMovingAverage, momentum,\n  movingAverage, movingAverageConvergenceDivergence, onBalanceVolume, priceAndVolumeTrend,\n  psychologicalLine, rateOfChange, relativeStrengthIndex, simpleMovingAverage,\n  stoch, stopAndReverse, tripleExponentiallySmoothedAverage, volume, volumeRatio, williamsR\n]\n\nextensions.forEach((indicator: IndicatorTemplate) => {\n  indicators[indicator.name] = IndicatorImp.extend(indicator)\n})\n\nfunction registerIndicator<D = unknown, C = unknown, E = unknown> (indicator: IndicatorTemplate<D, C, E>): void {\n  indicators[indicator.name] = IndicatorImp.extend(indicator)\n}\n\nfunction getIndicatorClass (name: string): Nullable<IndicatorConstructor> {\n  return indicators[name] ?? null\n}\n\nfunction getSupportedIndicators (): string[] {\n  return Object.keys(indicators)\n}\n\nexport { registerIndicator, getIndicatorClass, getSupportedIndicators }\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { Locales } from '../../Options'\n\nconst zhCN: Locales = {\n  time: '时间：',\n  open: '开：',\n  high: '高：',\n  low: '低：',\n  close: '收：',\n  volume: '成交量：',\n  turnover: '成交额：',\n  change: '涨幅：',\n  second: '秒',\n  minute: '',\n  hour: '小时',\n  day: '天',\n  week: '周',\n  month: '月',\n  year: '年'\n}\n\nexport default zhCN\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { Locales } from '../../Options'\n\nconst enUS: Locales = {\n  time: 'Time: ',\n  open: 'Open: ',\n  high: 'High: ',\n  low: 'Low: ',\n  close: 'Close: ',\n  volume: 'Volume: ',\n  turnover: 'Turnover: ',\n  change: 'Change: ',\n  second: 'S',\n  minute: '',\n  hour: 'H',\n  day: 'D',\n  week: 'W',\n  month: 'M',\n  year: 'Y'\n}\n\nexport default enUS\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { Locales } from '../../Options'\n\nimport zhCN from './zh-CN'\nimport enUS from './en-US'\n\nconst locales: Record<string, Locales> = {\n  'zh-CN': zhCN,\n  'en-US': enUS\n}\n\nfunction registerLocale (locale: string, ls: Locales): void {\n  locales[locale] = { ...locales[locale], ...ls }\n}\n\nfunction getSupportedLocales (): string[] {\n  return Object.keys(locales)\n}\n\nfunction i18n (key: string, locale: string): string {\n  return locales[locale][key] ?? key\n}\n\nexport { i18n, registerLocale, getSupportedLocales }\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type Nullable from '../common/Nullable'\nimport type DeepPartial from '../common/DeepPartial'\nimport type ExcludePickPartial from '../common/ExcludePickPartial'\nimport type Point from '../common/Point'\nimport type Coordinate from '../common/Coordinate'\nimport type Bounding from '../common/Bounding'\nimport type { OverlayStyle } from '../common/Styles'\nimport type { MouseTouchEvent } from '../common/EventHandler'\nimport { clone, isArray, isBoolean, isFunction, isNumber, isString, isValid, merge } from '../common/utils/typeChecks'\n\nimport type { XAxis } from './XAxis'\nimport type { YAxis } from './YAxis'\nimport type ChartStore from '../Store'\nimport type { Chart } from '../Chart'\n\nexport type OverlayMode = 'normal' | 'weak_magnet' | 'strong_magnet'\n\nexport interface OverlayPerformEventParams {\n  currentStep: number\n  mode: OverlayMode\n  points: Array<Partial<Point>>\n  performPointIndex: number\n  performPoint: Partial<Point>\n}\n\nexport interface OverlayEventCollection<E> {\n  onDrawStart: Nullable<OverlayEventCallback<E>>\n  onDrawing: Nullable<OverlayEventCallback<E>>\n  onDrawEnd: Nullable<OverlayEventCallback<E>>\n  onRemoved: Nullable<OverlayEventCallback<E>>\n  onClick: Nullable<OverlayEventCallback<E>>\n  onDoubleClick: Nullable<OverlayEventCallback<E>>\n  onRightClick: Nullable<OverlayEventCallback<E>>\n  onPressedMoveStart: Nullable<OverlayEventCallback<E>>\n  onPressedMoving: Nullable<OverlayEventCallback<E>>\n  onPressedMoveEnd: Nullable<OverlayEventCallback<E>>\n  onMouseMove: Nullable<OverlayEventCallback<E>>\n  onMouseEnter: Nullable<OverlayEventCallback<E>>\n  onMouseLeave: Nullable<OverlayEventCallback<E>>\n  onSelected: Nullable<OverlayEventCallback<E>>\n  onDeselected: Nullable<OverlayEventCallback<E>>\n}\n\nexport function checkOverlayFigureEvent (\n  targetEventType: keyof Omit<OverlayEventCollection<unknown>, 'onDrawStart' | 'onDrawing' | 'onDrawEnd' | 'onRemoved'>,\n  figure: Nullable<OverlayFigure>\n): boolean {\n  const ignoreEvent = figure?.ignoreEvent ?? false\n  if (isBoolean(ignoreEvent)) {\n    return !ignoreEvent\n  }\n  return !ignoreEvent.includes(targetEventType)\n}\n\nexport interface OverlayFigure {\n  key?: string\n  type: string\n  attrs: unknown\n  styles?: unknown\n  ignoreEvent?: boolean | Array<keyof Omit<OverlayEventCollection<unknown>, 'onDrawStart' | 'onDrawing' | 'onDrawEnd' | 'onRemoved'>>\n}\n\nexport interface OverlayCreateFiguresCallbackParams<E> {\n  chart: Chart\n  overlay: Overlay<E>\n  coordinates: Coordinate[]\n  bounding: Bounding\n  xAxis: Nullable<XAxis>\n  yAxis: Nullable<YAxis>\n}\n\nexport interface OverlayEvent<E> extends Partial<MouseTouchEvent> {\n  figure?: OverlayFigure\n  overlay: Overlay<E>\n  chart: Chart\n}\n\nexport type OverlayEventCallback<E> = (event: OverlayEvent<E>) => void\n\nexport type OverlayCreateFiguresCallback<E> = (params: OverlayCreateFiguresCallbackParams<E>) => OverlayFigure | OverlayFigure[]\n\nexport interface Overlay<E = unknown> extends OverlayEventCollection<E> {\n  /**\n   * Unique identification\n   */\n  id: string\n\n  /**\n   * Group id\n   */\n  groupId: string\n\n  /**\n   * Pane id\n   */\n  paneId: string\n\n  /**\n   * Name\n   */\n  name: string\n\n  /**\n   * Total number of steps required to complete mouse operation\n   */\n  totalStep: number\n\n  /**\n   * Current step\n   */\n  currentStep: number\n\n  /**\n   * Whether it is locked. When it is true, it will not respond to events\n   */\n  lock: boolean\n\n  /**\n   * Whether the overlay is visible\n   */\n  visible: boolean\n\n  /**\n   * Draw level\n   */\n  zLevel: number\n\n  /**\n   * Whether the default figure corresponding to the point is required\n   */\n  needDefaultPointFigure: boolean\n\n  /**\n   * Whether the default figure on the Y axis is required\n   */\n  needDefaultXAxisFigure: boolean\n\n  /**\n   * Whether the default figure on the X axis is required\n   */\n  needDefaultYAxisFigure: boolean\n\n  /**\n   * Mode\n   */\n  mode: OverlayMode\n\n  /**\n   * When mode is weak_magnet is the response distance\n   */\n  modeSensitivity: number\n\n  /**\n   * Time and value information\n   */\n  points: Array<Partial<Point>>\n\n  /**\n   * Extended Data\n   */\n  extendData: E\n\n  /**\n   * The style information and format are consistent with the overlay in the unified configuration\n   */\n  styles: Nullable<DeepPartial<OverlayStyle>>\n\n  /**\n   * Create figures corresponding to points\n   */\n  createPointFigures: Nullable<OverlayCreateFiguresCallback<E>>\n\n  /**\n   * Create figures on the Y axis\n   */\n  createXAxisFigures: Nullable<OverlayCreateFiguresCallback<E>>\n\n  /**\n   * Create figures on the X axis\n   */\n  createYAxisFigures: Nullable<OverlayCreateFiguresCallback<E>>\n\n  /**\n   * Special handling callbacks when pressing events\n   */\n  performEventPressedMove: Nullable<(params: OverlayPerformEventParams) => void>\n\n  /**\n   * In drawing, special handling callback when moving events\n   */\n  performEventMoveForDrawing: Nullable<(params: OverlayPerformEventParams) => void>\n}\n\nexport type OverlayTemplate<E = unknown> = ExcludePickPartial<Omit<Overlay<E>, 'id' | 'groupId' | 'paneId' | 'points' | 'currentStep'>, 'name'>\n\nexport type OverlayCreate<E = unknown> = ExcludePickPartial<Omit<Overlay<E>, 'currentStep' | 'totalStep' | 'createPointFigures' | 'createXAxisFigures' | 'createYAxisFigures' | 'performEventPressedMove' | 'performEventMoveForDrawing'>, 'name'>\nexport type OverlayOverride<E = unknown> = Partial<Omit<Overlay<E>, 'currentStep' | 'totalStep' | 'createPointFigures' | 'createXAxisFigures' | 'createYAxisFigures' | 'performEventPressedMove' | 'performEventMoveForDrawing'>>\n\nexport type OverlayFilter<E = unknown> = Partial<Pick<Overlay<E>, 'id' | 'groupId' | 'name' | 'paneId'>>\n\nexport type OverlayInnerConstructor<E = unknown> = new () => OverlayImp<E>\nexport type OverlayConstructor<E = unknown> = new () => Overlay<E>\n\nconst OVERLAY_DRAW_STEP_START = 1\nconst OVERLAY_DRAW_STEP_FINISHED = -1\n\nexport const OVERLAY_ID_PREFIX = 'overlay_'\n\nexport const OVERLAY_FIGURE_KEY_PREFIX = 'overlay_figure_'\n\nexport default class OverlayImp<E = unknown> implements Overlay<E> {\n  id: string\n  groupId = ''\n  paneId: string\n  name: string\n  totalStep = 1\n  currentStep = OVERLAY_DRAW_STEP_START\n  lock = false\n  visible = true\n  zLevel = 0\n  needDefaultPointFigure = false\n  needDefaultXAxisFigure = false\n  needDefaultYAxisFigure = false\n  mode: OverlayMode = 'normal'\n  modeSensitivity = 8\n  points: Array<Partial<Omit<Point, 'dataIndex'>>> = []\n  extendData: E\n  styles: Nullable<DeepPartial<OverlayStyle>> = null\n  createPointFigures: Nullable<OverlayCreateFiguresCallback<E>> = null\n  createXAxisFigures: Nullable<OverlayCreateFiguresCallback<E>> = null\n  createYAxisFigures: Nullable<OverlayCreateFiguresCallback<E>> = null\n  performEventPressedMove: Nullable<(params: OverlayPerformEventParams) => void> = null\n  performEventMoveForDrawing: Nullable<(params: OverlayPerformEventParams) => void> = null\n  onDrawStart: Nullable<OverlayEventCallback<E>> = null\n  onDrawing: Nullable<OverlayEventCallback<E>> = null\n  onDrawEnd: Nullable<OverlayEventCallback<E>> = null\n  onClick: Nullable<OverlayEventCallback<E>> = null\n  onDoubleClick: Nullable<OverlayEventCallback<E>> = null\n  onRightClick: Nullable<OverlayEventCallback<E>> = null\n  onPressedMoveStart: Nullable<OverlayEventCallback<E>> = null\n  onPressedMoving: Nullable<OverlayEventCallback<E>> = null\n  onPressedMoveEnd: Nullable<OverlayEventCallback<E>> = null\n  onMouseMove: Nullable<OverlayEventCallback<E>> = null\n  onMouseEnter: Nullable<OverlayEventCallback<E>> = null\n  onMouseLeave: Nullable<OverlayEventCallback<E>> = null\n  onRemoved: Nullable<OverlayEventCallback<E>> = null\n  onSelected: Nullable<OverlayEventCallback<E>> = null\n  onDeselected: Nullable<OverlayEventCallback<E>> = null\n\n  private _prevZLevel = 0\n\n  private _prevOverlay: Overlay<E>\n\n  private _prevPressedPoint: Nullable<Partial<Point>> = null\n  private _prevPressedPoints: Array<Partial<Point>> = []\n\n  constructor (overlay: OverlayTemplate<E>) {\n    this.override(overlay)\n  }\n\n  override (overlay: Partial<Overlay<E>>): void {\n    this._prevOverlay = clone({\n      ...this,\n      _prevOverlay: null\n    })\n\n    const {\n      id,\n      name,\n      currentStep: _,\n      points,\n      styles,\n      ...others\n    } = overlay\n\n    merge(this, others)\n\n    if (!isString(this.name)) {\n      this.name = name ?? ''\n    }\n\n    if (!isString(this.id) && isString(id)) {\n      this.id = id\n    }\n\n    if (isValid(styles)) {\n      this.styles ??= {}\n      merge(this.styles, styles)\n    }\n\n    if (isArray(points) && points.length > 0) {\n      let repeatTotalStep = 0\n      this.points = [...points]\n      if (points.length >= this.totalStep - 1) {\n        this.currentStep = OVERLAY_DRAW_STEP_FINISHED\n        repeatTotalStep = this.totalStep - 1\n      } else {\n        this.currentStep = points.length + 1\n        repeatTotalStep = points.length\n      }\n      // Prevent wrong drawing due to wrong points\n      if (isFunction(this.performEventMoveForDrawing)) {\n        for (let i = 0; i < repeatTotalStep; i++) {\n          this.performEventMoveForDrawing({\n            currentStep: i + 2,\n            mode: this.mode,\n            points: this.points,\n            performPointIndex: i,\n            performPoint: this.points[i]\n          })\n        }\n      }\n\n      if (this.currentStep === OVERLAY_DRAW_STEP_FINISHED) {\n        this.performEventPressedMove?.({\n          currentStep: this.currentStep,\n          mode: this.mode,\n          points: this.points,\n          performPointIndex: this.points.length - 1,\n          performPoint: this.points[this.points.length - 1]\n        })\n      }\n    }\n  }\n\n  getPrevZLevel (): number { return this._prevZLevel }\n\n  setPrevZLevel (zLevel: number): void { this._prevZLevel = zLevel }\n\n  shouldUpdate (): { draw: boolean, sort: boolean } {\n    const sort = this._prevOverlay.zLevel !== this.zLevel\n    const draw = sort ||\n      JSON.stringify(this._prevOverlay.points) !== JSON.stringify(this.points) ||\n      this._prevOverlay.visible !== this.visible ||\n      this._prevOverlay.extendData !== this.extendData ||\n      this._prevOverlay.styles !== this.styles\n\n    return { sort, draw }\n  }\n\n  nextStep (): void {\n    if (this.currentStep === this.totalStep - 1) {\n      this.currentStep = OVERLAY_DRAW_STEP_FINISHED\n    } else {\n      this.currentStep++\n    }\n  }\n\n  forceComplete (): void {\n    this.currentStep = OVERLAY_DRAW_STEP_FINISHED\n  }\n\n  isDrawing (): boolean {\n    return this.currentStep !== OVERLAY_DRAW_STEP_FINISHED\n  }\n\n  isStart (): boolean {\n    return this.currentStep === OVERLAY_DRAW_STEP_START\n  }\n\n  eventMoveForDrawing (point: Partial<Point>): void {\n    const pointIndex = this.currentStep - 1\n    const newPoint: Partial<Point> = {}\n    if (isNumber(point.timestamp)) {\n      newPoint.timestamp = point.timestamp\n    }\n    if (isNumber(point.dataIndex)) {\n      newPoint.dataIndex = point.dataIndex\n    }\n    if (isNumber(point.value)) {\n      newPoint.value = point.value\n    }\n    this.points[pointIndex] = newPoint\n    this.performEventMoveForDrawing?.({\n      currentStep: this.currentStep,\n      mode: this.mode,\n      points: this.points,\n      performPointIndex: pointIndex,\n      performPoint: newPoint\n    })\n  }\n\n  eventPressedPointMove (point: Partial<Point>, pointIndex: number): void {\n    this.points[pointIndex].timestamp = point.timestamp\n    if (isNumber(point.value)) {\n      this.points[pointIndex].value = point.value\n    }\n    this.performEventPressedMove?.({\n      currentStep: this.currentStep,\n      points: this.points,\n      mode: this.mode,\n      performPointIndex: pointIndex,\n      performPoint: this.points[pointIndex]\n    })\n  }\n\n  startPressedMove (point: Partial<Point>): void {\n    this._prevPressedPoint = { ...point }\n    this._prevPressedPoints = clone(this.points)\n  }\n\n  eventPressedOtherMove (point: Partial<Point>, chartStore: ChartStore): void {\n    if (this._prevPressedPoint !== null) {\n      let difDataIndex: Nullable<number> = null\n      if (isNumber(point.dataIndex) && isNumber(this._prevPressedPoint.dataIndex)) {\n        difDataIndex = point.dataIndex - this._prevPressedPoint.dataIndex\n      }\n      let difValue: Nullable<number> = null\n      if (isNumber(point.value) && isNumber(this._prevPressedPoint.value)) {\n        difValue = point.value - this._prevPressedPoint.value\n      }\n      this.points = this._prevPressedPoints.map(p => {\n        if (isNumber(p.timestamp)) {\n          p.dataIndex = chartStore.timestampToDataIndex(p.timestamp)\n        }\n        const newPoint = { ...p }\n        if (isNumber(difDataIndex) && isNumber(p.dataIndex)) {\n          newPoint.dataIndex = p.dataIndex + difDataIndex\n          newPoint.timestamp = chartStore.dataIndexToTimestamp(newPoint.dataIndex) ?? undefined\n        }\n        if (isNumber(difValue) && isNumber(p.value)) {\n          newPoint.value = p.value + difValue\n        }\n        return newPoint\n      })\n    }\n  }\n\n  static extend<E = unknown> (template: OverlayTemplate<E>): OverlayInnerConstructor<E> {\n    class Custom extends OverlayImp<E> {\n      constructor () {\n        super(template)\n      }\n    }\n    return Custom\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport interface SymbolInfo {\n  ticker: string\n  name?: string\n  shortName?: string\n  exchange?: string\n  market?: string\n  logo?: string\n  priceCurrency?: string\n  type?: string\n  pricePrecision: number\n  volumePrecision: number\n  [key: string]: unknown\n}\n\nexport const SymbolDefaultPrecisionConstants = {\n  PRICE: 2,\n  VOLUME: 0\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { isNumber } from '../../common/utils/typeChecks'\nimport { SymbolDefaultPrecisionConstants } from '../../common/SymbolInfo'\n\nimport type { OverlayTemplate } from '../../component/Overlay'\n\nimport type { LineAttrs } from '../figure/line'\nimport type { TextAttrs } from '../figure/text'\n\nconst fibonacciLine: OverlayTemplate = {\n  name: 'fibonacciLine',\n  totalStep: 3,\n  needDefaultPointFigure: true,\n  needDefaultXAxisFigure: true,\n  needDefaultYAxisFigure: true,\n  createPointFigures: ({ chart, coordinates, bounding, overlay, yAxis }) => {\n    const points = overlay.points\n\n    if (coordinates.length > 0) {\n      let precision = 0\n      if (yAxis?.isInCandle() ?? true) {\n        precision = chart.getSymbol()?.pricePrecision ?? SymbolDefaultPrecisionConstants.PRICE\n      } else {\n        const indicators = chart.getIndicators({ paneId: overlay.paneId })\n        indicators.forEach(indicator => {\n          precision = Math.max(precision, indicator.precision)\n        })\n      }\n      const lines: LineAttrs[] = []\n      const texts: TextAttrs[] = []\n      const startX = 0\n      const endX = bounding.width\n      if (coordinates.length > 1 && isNumber(points[0].value) && isNumber(points[1].value)) {\n        const percents = [1, 0.786, 0.618, 0.5, 0.382, 0.236, 0]\n        const yDif = coordinates[0].y - coordinates[1].y\n        const valueDif = points[0].value - points[1].value\n        percents.forEach(percent => {\n          const y = coordinates[1].y + yDif * percent\n          const value = chart.getDecimalFold().format(chart.getThousandsSeparator().format(((points[1].value ?? 0) + valueDif * percent).toFixed(precision)))\n          lines.push({ coordinates: [{ x: startX, y }, { x: endX, y }] })\n          texts.push({\n            x: startX,\n            y,\n            text: `${value} (${(percent * 100).toFixed(1)}%)`,\n            baseline: 'bottom'\n          })\n        })\n      }\n      return [\n        {\n          type: 'line',\n          attrs: lines\n        }, {\n          type: 'text',\n          isCheckEvent: false,\n          attrs: texts\n        }\n      ]\n    }\n    return []\n  }\n}\n\nexport default fibonacciLine\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { isValid } from '../../common/utils/typeChecks'\nimport type { OverlayTemplate } from '../../component/Overlay'\n\nconst horizontalRayLine: OverlayTemplate = {\n  name: 'horizontalRayLine',\n  totalStep: 3,\n  needDefaultPointFigure: true,\n  needDefaultXAxisFigure: true,\n  needDefaultYAxisFigure: true,\n  createPointFigures: ({ coordinates, bounding }) => {\n    const coordinate = { x: 0, y: coordinates[0].y }\n    if (isValid(coordinates[1]) && coordinates[0].x < coordinates[1].x) {\n      coordinate.x = bounding.width\n    }\n    return [\n      {\n        type: 'line',\n        attrs: { coordinates: [coordinates[0], coordinate] }\n      }\n    ]\n  },\n  performEventPressedMove: ({ points, performPoint }) => {\n    points[0].value = performPoint.value\n    points[1].value = performPoint.value\n  },\n  performEventMoveForDrawing: ({ currentStep, points, performPoint }) => {\n    if (currentStep === 2) {\n      points[0].value = performPoint.value\n    }\n  }\n}\n\nexport default horizontalRayLine\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { OverlayTemplate } from '../../component/Overlay'\n\nimport type { LineAttrs } from '../figure/line'\n\nconst horizontalSegment: OverlayTemplate = {\n  name: 'horizontalSegment',\n  totalStep: 3,\n  needDefaultPointFigure: true,\n  needDefaultXAxisFigure: true,\n  needDefaultYAxisFigure: true,\n  createPointFigures: ({ coordinates }) => {\n    const lines: LineAttrs[] = []\n    if (coordinates.length === 2) {\n      lines.push({ coordinates })\n    }\n    return [\n      {\n        type: 'line',\n        attrs: lines\n      }\n    ]\n  },\n  performEventPressedMove: ({ points, performPoint }) => {\n    points[0].value = performPoint.value\n    points[1].value = performPoint.value\n  },\n  performEventMoveForDrawing: ({ currentStep, points, performPoint }) => {\n    if (currentStep === 2) {\n      points[0].value = performPoint.value\n    }\n  }\n}\n\nexport default horizontalSegment\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { OverlayTemplate } from '../../component/Overlay'\n\nconst horizontalStraightLine: OverlayTemplate = {\n  name: 'horizontalStraightLine',\n  totalStep: 2,\n  needDefaultPointFigure: true,\n  needDefaultXAxisFigure: true,\n  needDefaultYAxisFigure: true,\n  createPointFigures: ({ coordinates, bounding }) => [{\n    type: 'line',\n    attrs: {\n      coordinates: [\n        {\n          x: 0,\n          y: coordinates[0].y\n        }, {\n          x: bounding.width,\n          y: coordinates[0].y\n        }\n      ]\n    }\n  }]\n}\n\nexport default horizontalStraightLine\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type Coordinate from '../../common/Coordinate'\nimport type Bounding from '../../common/Bounding'\n\nimport type { OverlayTemplate } from '../../component/Overlay'\n\nimport { type LineAttrs, getLinearSlopeIntercept } from '../figure/line'\n\n/**\n * 获取平行线\n * @param coordinates\n * @param bounding\n * @param extendParallelLineCount\n * @returns {Array}\n */\nexport function getParallelLines (coordinates: Coordinate[], bounding: Bounding, extendParallelLineCount?: number): LineAttrs[] {\n  const count = extendParallelLineCount ?? 0\n  const lines: LineAttrs[] = []\n  if (coordinates.length > 1) {\n    if (coordinates[0].x === coordinates[1].x) {\n      const startY = 0\n      const endY = bounding.height\n      lines.push({ coordinates: [{ x: coordinates[0].x, y: startY }, { x: coordinates[0].x, y: endY }] })\n      if (coordinates.length > 2) {\n        lines.push({ coordinates: [{ x: coordinates[2].x, y: startY }, { x: coordinates[2].x, y: endY }] })\n        const distance = coordinates[0].x - coordinates[2].x\n        for (let i = 0; i < count; i++) {\n          const d = distance * (i + 1)\n          lines.push({ coordinates: [{ x: coordinates[0].x + d, y: startY }, { x: coordinates[0].x + d, y: endY }] })\n        }\n      }\n    } else {\n      const startX = 0\n      const endX = bounding.width\n      const kb = getLinearSlopeIntercept(coordinates[0], coordinates[1])!\n      const k = kb[0]\n      const b = kb[1]\n      lines.push({ coordinates: [{ x: startX, y: startX * k + b }, { x: endX, y: endX * k + b }] })\n      if (coordinates.length > 2) {\n        const b1 = coordinates[2].y - k * coordinates[2].x\n        lines.push({ coordinates: [{ x: startX, y: startX * k + b1 }, { x: endX, y: endX * k + b1 }] })\n        const distance = b - b1\n        for (let i = 0; i < count; i++) {\n          const b2 = b + distance * (i + 1)\n          lines.push({ coordinates: [{ x: startX, y: startX * k + b2 }, { x: endX, y: endX * k + b2 }] })\n        }\n      }\n    }\n  }\n  return lines\n}\n\nconst parallelStraightLine: OverlayTemplate = {\n  name: 'parallelStraightLine',\n  totalStep: 4,\n  needDefaultPointFigure: true,\n  needDefaultXAxisFigure: true,\n  needDefaultYAxisFigure: true,\n  createPointFigures: ({ coordinates, bounding }) => [\n    {\n      type: 'line',\n      attrs: getParallelLines(coordinates, bounding)\n    }\n  ]\n}\n\nexport default parallelStraightLine\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { OverlayTemplate } from '../../component/Overlay'\n\nimport { getParallelLines } from './parallelStraightLine'\n\nconst priceChannelLine: OverlayTemplate = {\n  name: 'priceChannelLine',\n  totalStep: 4,\n  needDefaultPointFigure: true,\n  needDefaultXAxisFigure: true,\n  needDefaultYAxisFigure: true,\n  createPointFigures: ({ coordinates, bounding }) => [\n    {\n      type: 'line',\n      attrs: getParallelLines(coordinates, bounding, 1)\n    }\n  ]\n}\n\nexport default priceChannelLine\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { SymbolDefaultPrecisionConstants } from '../../common/SymbolInfo'\nimport type { OverlayTemplate } from '../../component/Overlay'\n\nconst priceLine: OverlayTemplate = {\n  name: 'priceLine',\n  totalStep: 2,\n  needDefaultPointFigure: true,\n  needDefaultXAxisFigure: true,\n  needDefaultYAxisFigure: true,\n  createPointFigures: ({ chart, coordinates, bounding, overlay, yAxis }) => {\n    let precision = 0\n    if (yAxis?.isInCandle() ?? true) {\n      precision = chart.getSymbol()?.pricePrecision ?? SymbolDefaultPrecisionConstants.PRICE\n    } else {\n      const indicators = chart.getIndicators({ paneId: overlay.paneId })\n      indicators.forEach(indicator => {\n        precision = Math.max(precision, indicator.precision)\n      })\n    }\n    const { value = 0 } = (overlay.points)[0]\n    return [\n      {\n        type: 'line',\n        attrs: { coordinates: [coordinates[0], { x: bounding.width, y: coordinates[0].y }] }\n      },\n      {\n        type: 'text',\n        ignoreEvent: true,\n        attrs: {\n          x: coordinates[0].x,\n          y: coordinates[0].y,\n          text: chart.getDecimalFold().format(chart.getThousandsSeparator().format(value.toFixed(precision))),\n          baseline: 'bottom'\n        }\n      }\n    ]\n  }\n}\n\nexport default priceLine\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type Coordinate from '../../common/Coordinate'\nimport type Bounding from '../../common/Bounding'\n\nimport type { OverlayTemplate } from '../../component/Overlay'\n\nimport { getLinearYFromCoordinates, type LineAttrs } from '../figure/line'\n\nexport function getRayLine (coordinates: Coordinate[], bounding: Bounding): LineAttrs | LineAttrs[] {\n  if (coordinates.length > 1) {\n    let coordinate = { x: 0, y: 0 }\n    if (coordinates[0].x === coordinates[1].x && coordinates[0].y !== coordinates[1].y) {\n      if (coordinates[0].y < coordinates[1].y) {\n        coordinate = {\n          x: coordinates[0].x,\n          y: bounding.height\n        }\n      } else {\n        coordinate = {\n          x: coordinates[0].x,\n          y: 0\n        }\n      }\n    } else if (coordinates[0].x > coordinates[1].x) {\n      coordinate = {\n        x: 0,\n        y: getLinearYFromCoordinates(coordinates[0], coordinates[1], { x: 0, y: coordinates[0].y })\n      }\n    } else {\n      coordinate = {\n        x: bounding.width,\n        y: getLinearYFromCoordinates(coordinates[0], coordinates[1], { x: bounding.width, y: coordinates[0].y })\n      }\n    }\n    return { coordinates: [coordinates[0], coordinate] }\n  }\n  return []\n}\n\nconst rayLine: OverlayTemplate = {\n  name: 'rayLine',\n  totalStep: 3,\n  needDefaultPointFigure: true,\n  needDefaultXAxisFigure: true,\n  needDefaultYAxisFigure: true,\n  createPointFigures: ({ coordinates, bounding }) => [\n    {\n      type: 'line',\n      attrs: getRayLine(coordinates, bounding)\n    }\n  ]\n}\n\nexport default rayLine\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { OverlayTemplate } from '../../component/Overlay'\n\nconst segment: OverlayTemplate = {\n  name: 'segment',\n  totalStep: 3,\n  needDefaultPointFigure: true,\n  needDefaultXAxisFigure: true,\n  needDefaultYAxisFigure: true,\n  createPointFigures: ({ coordinates }) => {\n    if (coordinates.length === 2) {\n      return [\n        {\n          type: 'line',\n          attrs: { coordinates }\n        }\n      ]\n    }\n    return []\n  }\n}\n\nexport default segment\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { getLinearYFromCoordinates } from '../figure/line'\n\nimport type { OverlayTemplate } from '../../component/Overlay'\n\nconst straightLine: OverlayTemplate = {\n  name: 'straightLine',\n  totalStep: 3,\n  needDefaultPointFigure: true,\n  needDefaultXAxisFigure: true,\n  needDefaultYAxisFigure: true,\n  createPointFigures: ({ coordinates, bounding }) => {\n    if (coordinates.length === 2) {\n      if (coordinates[0].x === coordinates[1].x) {\n        return [\n          {\n            type: 'line',\n            attrs: {\n              coordinates: [\n                {\n                  x: coordinates[0].x,\n                  y: 0\n                }, {\n                  x: coordinates[0].x,\n                  y: bounding.height\n                }\n              ]\n            }\n          }\n        ]\n      }\n      return [\n        {\n          type: 'line',\n          attrs: {\n            coordinates: [\n              {\n                x: 0,\n                y: getLinearYFromCoordinates(coordinates[0], coordinates[1], { x: 0, y: coordinates[0].y })\n              }, {\n                x: bounding.width,\n                y: getLinearYFromCoordinates(coordinates[0], coordinates[1], { x: bounding.width, y: coordinates[0].y })\n              }\n            ]\n          }\n        }\n      ]\n    }\n    return []\n  }\n}\n\nexport default straightLine\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { OverlayTemplate } from '../../component/Overlay'\n\nconst verticalRayLine: OverlayTemplate = {\n  name: 'verticalRayLine',\n  totalStep: 3,\n  needDefaultPointFigure: true,\n  needDefaultXAxisFigure: true,\n  needDefaultYAxisFigure: true,\n  createPointFigures: ({ coordinates, bounding }) => {\n    if (coordinates.length === 2) {\n      const coordinate = { x: coordinates[0].x, y: 0 }\n      if (coordinates[0].y < coordinates[1].y) {\n        coordinate.y = bounding.height\n      }\n      return [\n        {\n          type: 'line',\n          attrs: { coordinates: [coordinates[0], coordinate] }\n        }\n      ]\n    }\n    return []\n  },\n  performEventPressedMove: ({ points, performPoint }) => {\n    points[0].timestamp = performPoint.timestamp\n    points[0].dataIndex = performPoint.dataIndex\n    points[1].timestamp = performPoint.timestamp\n    points[1].dataIndex = performPoint.dataIndex\n  },\n  performEventMoveForDrawing: ({ currentStep, points, performPoint }) => {\n    if (currentStep === 2) {\n      points[0].timestamp = performPoint.timestamp\n      points[0].dataIndex = performPoint.dataIndex\n    }\n  }\n}\n\nexport default verticalRayLine\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { OverlayTemplate } from '../../component/Overlay'\n\nconst verticalSegment: OverlayTemplate = {\n  name: 'verticalSegment',\n  totalStep: 3,\n  needDefaultPointFigure: true,\n  needDefaultXAxisFigure: true,\n  needDefaultYAxisFigure: true,\n  createPointFigures: ({ coordinates }) => {\n    if (coordinates.length === 2) {\n      return [\n        {\n          type: 'line',\n          attrs: { coordinates }\n        }\n      ]\n    }\n    return []\n  },\n  performEventPressedMove: ({ points, performPoint }) => {\n    points[0].timestamp = performPoint.timestamp\n    points[0].dataIndex = performPoint.dataIndex\n    points[1].timestamp = performPoint.timestamp\n    points[1].dataIndex = performPoint.dataIndex\n  },\n  performEventMoveForDrawing: ({ currentStep, points, performPoint }) => {\n    if (currentStep === 2) {\n      points[0].timestamp = performPoint.timestamp\n      points[0].dataIndex = performPoint.dataIndex\n    }\n  }\n}\n\nexport default verticalSegment\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { OverlayTemplate } from '../../component/Overlay'\n\nconst verticalStraightLine: OverlayTemplate = {\n  name: 'verticalStraightLine',\n  totalStep: 2,\n  needDefaultPointFigure: true,\n  needDefaultXAxisFigure: true,\n  needDefaultYAxisFigure: true,\n  createPointFigures: ({ coordinates, bounding }) => [\n    {\n      type: 'line',\n      attrs: {\n        coordinates: [\n          {\n            x: coordinates[0].x,\n            y: 0\n          }, {\n            x: coordinates[0].x,\n            y: bounding.height\n          }\n        ]\n      }\n    }\n  ]\n}\n\nexport default verticalStraightLine\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { OverlayTemplate } from '../../component/Overlay'\nimport { isFunction, isValid } from '../../common/utils/typeChecks'\n\nconst simpleAnnotation: OverlayTemplate = {\n  name: 'simpleAnnotation',\n  totalStep: 2,\n  styles: {\n    line: { style: 'dashed' }\n  },\n  createPointFigures: ({ overlay, coordinates }) => {\n    let text = ''\n    if (isValid(overlay.extendData)) {\n      if (!isFunction(overlay.extendData)) {\n        text = (overlay.extendData ?? '') as string\n      } else {\n        text = (overlay.extendData(overlay)) as string\n      }\n    }\n    const startX = coordinates[0].x\n    const startY = coordinates[0].y - 6\n    const lineEndY = startY - 50\n    const arrowEndY = lineEndY - 5\n    return [\n      {\n        type: 'line',\n        attrs: { coordinates: [{ x: startX, y: startY }, { x: startX, y: lineEndY }] },\n        ignoreEvent: true\n      },\n      {\n        type: 'polygon',\n        attrs: { coordinates: [{ x: startX, y: lineEndY }, { x: startX - 4, y: arrowEndY }, { x: startX + 4, y: arrowEndY }] },\n        ignoreEvent: true\n      },\n      {\n        type: 'text',\n        attrs: { x: startX, y: arrowEndY, text, align: 'center', baseline: 'bottom' },\n        ignoreEvent: true\n      }\n    ]\n  }\n}\n\nexport default simpleAnnotation\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { formatPrecision } from '../../common/utils/format'\nimport { SymbolDefaultPrecisionConstants } from '../../common/SymbolInfo'\nimport { isFunction, isNumber, isValid } from '../../common/utils/typeChecks'\n\nimport type { OverlayTemplate } from '../../component/Overlay'\n\nconst simpleTag: OverlayTemplate = {\n  name: 'simpleTag',\n  totalStep: 2,\n  styles: {\n    line: { style: 'dashed' }\n  },\n  createPointFigures: ({ bounding, coordinates }) => ({\n    type: 'line',\n    attrs: {\n      coordinates: [\n        { x: 0, y: coordinates[0].y },\n        { x: bounding.width, y: coordinates[0].y }\n      ]\n    },\n    ignoreEvent: true\n  }),\n  createYAxisFigures: ({ chart, overlay, coordinates, bounding, yAxis }) => {\n    const isFromZero = yAxis?.isFromZero() ?? false\n    let textAlign: CanvasTextAlign = 'left'\n    let x = 0\n    if (isFromZero) {\n      textAlign = 'left'\n      x = 0\n    } else {\n      textAlign = 'right'\n      x = bounding.width\n    }\n    let text = ''\n    if (isValid(overlay.extendData)) {\n      if (!isFunction(overlay.extendData)) {\n        text = (overlay.extendData ?? '') as string\n      } else {\n        text = overlay.extendData(overlay) as string\n      }\n    }\n    if (!isValid(text) && isNumber(overlay.points[0].value)) {\n      text = formatPrecision(overlay.points[0].value, chart.getSymbol()?.pricePrecision ?? SymbolDefaultPrecisionConstants.PRICE)\n    }\n    return { type: 'text', attrs: { x, y: coordinates[0].y, text, align: textAlign, baseline: 'middle' } }\n  }\n}\n\nexport default simpleTag\n","import { type OverlayTemplate } from '../../component/Overlay'\nimport { getLinearSlopeIntercept } from '../figure/line'\n\nfunction rotatePoint(point: { x: number, y: number }, center: { x: number, y: number }, angle: number): { x: number, y: number } {\n    const x = (point.x - center.x) * Math.cos(angle) - (point.y - center.y) * Math.sin(angle) + center.x\n    const y = (point.x - center.x) * Math.sin(angle) + (point.y - center.y) * Math.cos(angle) + center.y\n    return { x, y }\n}\n\nconst arrow: OverlayTemplate = {\n    name: 'arrow',\n    totalStep: 3,\n    needDefaultPointFigure: true,\n    needDefaultXAxisFigure: true,\n    needDefaultYAxisFigure: true,\n    createPointFigures: ({ coordinates }) => {\n        if (coordinates.length > 1) {\n            const direction = coordinates[1].x > coordinates[0].x ? 0 : 1\n            const slopeIntercept = getLinearSlopeIntercept(coordinates[0], coordinates[1])\n            let angle: number\n            if (slopeIntercept) {\n                angle = Math.atan(slopeIntercept[0]) + Math.PI * direction\n            } else {\n                angle = coordinates[1].y > coordinates[0].y ? Math.PI / 2 : Math.PI / 2 * 3\n            }\n            const arrowLeft = rotatePoint(\n                { x: coordinates[1].x - 8, y: coordinates[1].y + 4 },\n                coordinates[1],\n                angle\n            )\n            const arrowRight = rotatePoint(\n                { x: coordinates[1].x - 8, y: coordinates[1].y - 4 },\n                coordinates[1],\n                angle\n            )\n            return [\n                {\n                    type: 'line',\n                    attrs: { coordinates }\n                },\n                {\n                    type: 'line',\n                    ignoreEvent: true,\n                    attrs: {\n                        coordinates: [arrowLeft, coordinates[1], arrowRight]\n                    }\n                }\n            ]\n        }\n        return []\n    }\n}\n\nexport default arrow\n","import { type OverlayTemplate } from '../../component/Overlay'\n\nfunction distance(p1: { x: number, y: number }, p2: { x: number, y: number }): number {\n    const dx = Math.abs(p1.x - p2.x)\n    const dy = Math.abs(p1.y - p2.y)\n    return Math.sqrt(dx * dx + dy * dy)\n}\n\nconst circle: OverlayTemplate = {\n    name: 'circle',\n    totalStep: 3,\n    needDefaultPointFigure: true,\n    needDefaultXAxisFigure: true,\n    needDefaultYAxisFigure: true,\n    styles: {\n        circle: { color: 'rgba(22, 119, 255, 0.15)' }\n    },\n    createPointFigures: ({ coordinates }) => {\n        if (coordinates.length > 1) {\n            const r = distance(coordinates[0], coordinates[1])\n            return {\n                type: 'circle',\n                attrs: { ...coordinates[0], r },\n                styles: { style: 'stroke_fill' }\n            }\n        }\n        return []\n    }\n}\n\nexport default circle\n","import { type OverlayTemplate } from '../../component/Overlay'\n\nconst rect: OverlayTemplate = {\n    name: 'rect',\n    totalStep: 3,\n    needDefaultPointFigure: true,\n    needDefaultXAxisFigure: true,\n    needDefaultYAxisFigure: true,\n    styles: {\n        polygon: { color: 'rgba(22, 119, 255, 0.15)' }\n    },\n    createPointFigures: ({ coordinates }) =>\n        coordinates.length > 1\n            ? [{\n                type: 'polygon',\n                attrs: {\n                    coordinates: [\n                        coordinates[0],\n                        { x: coordinates[1].x, y: coordinates[0].y },\n                        coordinates[1],\n                        { x: coordinates[0].x, y: coordinates[1].y }\n                    ]\n                },\n                styles: { style: 'stroke_fill' }\n            }]\n            : []\n}\n\nexport default rect\n","import { type OverlayTemplate } from '../../component/Overlay'\n\nconst triangle: OverlayTemplate = {\n    name: 'triangle',\n    totalStep: 4,\n    needDefaultPointFigure: true,\n    needDefaultXAxisFigure: true,\n    needDefaultYAxisFigure: true,\n    styles: {\n        polygon: { color: 'rgba(22, 119, 255, 0.15)' }\n    },\n    createPointFigures: ({ coordinates }) => [{\n        type: 'polygon',\n        attrs: { coordinates },\n        styles: { style: 'stroke_fill' }\n    }]\n}\n\nexport default triangle\n","import { type OverlayTemplate } from '../../component/Overlay'\n\nconst parallelogram: OverlayTemplate = {\n    name: 'parallelogram',\n    totalStep: 4,\n    needDefaultPointFigure: true,\n    needDefaultXAxisFigure: true,\n    needDefaultYAxisFigure: true,\n    styles: {\n        polygon: { color: 'rgba(22, 119, 255, 0.15)' }\n    },\n    createPointFigures: ({ coordinates }) => {\n        if (coordinates.length === 2) {\n            return [{\n                type: 'line',\n                ignoreEvent: true,\n                attrs: { coordinates }\n            }]\n        }\n        if (coordinates.length === 3) {\n            const fourth = {\n                x: coordinates[0].x + coordinates[2].x - coordinates[1].x,\n                y: coordinates[0].y + coordinates[2].y - coordinates[1].y\n            }\n            return [{\n                type: 'polygon',\n                attrs: {\n                    coordinates: [coordinates[0], coordinates[1], coordinates[2], fourth]\n                },\n                styles: { style: 'stroke_fill' }\n            }]\n        }\n        return []\n    },\n    performEventPressedMove: ({ points, performPointIndex, performPoint }) => {\n        if (performPointIndex < 2) {\n            points[0].value = performPoint.value\n            points[1].value = performPoint.value\n        }\n    },\n    performEventMoveForDrawing: ({ currentStep, points, performPoint }) => {\n        if (currentStep === 2) {\n            points[0].value = performPoint.value\n        }\n    }\n}\n\nexport default parallelogram\n","import { type OverlayTemplate } from '../../component/Overlay'\n\nfunction distance(p1: { x: number, y: number }, p2: { x: number, y: number }): number {\n    const dx = Math.abs(p1.x - p2.x)\n    const dy = Math.abs(p1.y - p2.y)\n    return Math.sqrt(dx * dx + dy * dy)\n}\n\nconst fibonacciCircle: OverlayTemplate = {\n    name: 'fibonacciCircle',\n    totalStep: 3,\n    needDefaultPointFigure: true,\n    needDefaultXAxisFigure: true,\n    needDefaultYAxisFigure: true,\n    createPointFigures: ({ coordinates }) => {\n        if (coordinates.length > 1) {\n            const radius = distance(coordinates[0], coordinates[1])\n            const percents = [0.236, 0.382, 0.5, 0.618, 0.786, 1]\n            const circles: Array<{ x: number, y: number, r: number }> = []\n            const texts: Array<{ x: number, y: number, text: string }> = []\n            percents.forEach(p => {\n                const r = radius * p\n                circles.push({ ...coordinates[0], r })\n                texts.push({\n                    x: coordinates[0].x,\n                    y: coordinates[0].y + r + 6,\n                    text: `${(p * 100).toFixed(1)}%`\n                })\n            })\n            return [\n                { type: 'circle', attrs: circles, styles: { style: 'stroke' } },\n                { type: 'text', ignoreEvent: true, attrs: texts }\n            ]\n        }\n        return []\n    }\n}\n\nexport default fibonacciCircle\n","import { type OverlayTemplate } from '../../component/Overlay'\n\nconst fibonacciSegment: OverlayTemplate = {\n    name: 'fibonacciSegment',\n    totalStep: 3,\n    needDefaultPointFigure: true,\n    needDefaultXAxisFigure: true,\n    needDefaultYAxisFigure: true,\n    createPointFigures: ({ coordinates, overlay }) => {\n        const lines: Array<{ coordinates: Array<{ x: number, y: number }> }> = []\n        const texts: Array<{ x: number, y: number, text: string, baseline: string }> = []\n        if (coordinates.length > 1) {\n            const leftX = coordinates[1].x > coordinates[0].x ? coordinates[0].x : coordinates[1].x\n            const percents = [1, 0.786, 0.618, 0.5, 0.382, 0.236, 0]\n            const yDif = coordinates[0].y - coordinates[1].y\n            const points = overlay.points\n            const valueDif = (points[0].value ?? 0) - (points[1].value ?? 0)\n            percents.forEach(p => {\n                const y = coordinates[1].y + yDif * p\n                const value = ((points[1].value ?? 0) + valueDif * p).toFixed(2)\n                lines.push({\n                    coordinates: [{ x: coordinates[0].x, y }, { x: coordinates[1].x, y }]\n                })\n                texts.push({\n                    x: leftX, y,\n                    text: `${value} (${(p * 100).toFixed(1)}%)`,\n                    baseline: 'bottom'\n                })\n            })\n        }\n        return [\n            { type: 'line', attrs: lines },\n            { type: 'text', ignoreEvent: true, attrs: texts }\n        ]\n    }\n}\n\nexport default fibonacciSegment\n","import { type OverlayTemplate } from '../../component/Overlay'\n\nconst fibonacciExtension: OverlayTemplate = {\n    name: 'fibonacciExtension',\n    totalStep: 4,\n    needDefaultPointFigure: true,\n    needDefaultXAxisFigure: true,\n    needDefaultYAxisFigure: true,\n    createPointFigures: ({ coordinates, overlay }) => {\n        const lines: Array<{ coordinates: Array<{ x: number, y: number }> }> = []\n        const texts: Array<{ x: number, y: number, text: string, baseline: string }> = []\n        if (coordinates.length > 2) {\n            const points = overlay.points\n            const valueDif = (points[1].value ?? 0) - (points[0].value ?? 0)\n            const yDif = coordinates[1].y - coordinates[0].y\n            const percents = [0, 0.236, 0.382, 0.5, 0.618, 0.786, 1]\n            const leftX = coordinates[2].x > coordinates[1].x ? coordinates[1].x : coordinates[2].x\n            percents.forEach(p => {\n                const y = coordinates[2].y + yDif * p\n                const value = ((points[2].value ?? 0) + valueDif * p).toFixed(2)\n                lines.push({\n                    coordinates: [{ x: coordinates[1].x, y }, { x: coordinates[2].x, y }]\n                })\n                texts.push({\n                    x: leftX, y,\n                    text: `${value} (${(p * 100).toFixed(1)}%)`,\n                    baseline: 'bottom'\n                })\n            })\n        }\n        return [\n            { type: 'line', attrs: { coordinates }, styles: { style: 'dashed' } },\n            { type: 'line', attrs: lines },\n            { type: 'text', ignoreEvent: true, attrs: texts }\n        ]\n    }\n}\n\nexport default fibonacciExtension\n","import { type OverlayTemplate } from '../../component/Overlay'\nimport { getLinearSlopeIntercept, getLinearYFromCoordinates } from '../figure/line'\n\nfunction distance(p1: { x: number, y: number }, p2: { x: number, y: number }): number {\n    const dx = Math.abs(p1.x - p2.x)\n    const dy = Math.abs(p1.y - p2.y)\n    return Math.sqrt(dx * dx + dy * dy)\n}\n\nfunction rotatePoint(point: { x: number, y: number }, center: { x: number, y: number }, angle: number): { x: number, y: number } {\n    const x = (point.x - center.x) * Math.cos(angle) - (point.y - center.y) * Math.sin(angle) + center.x\n    const y = (point.x - center.x) * Math.sin(angle) + (point.y - center.y) * Math.cos(angle) + center.y\n    return { x, y }\n}\n\nfunction extendLine(coords: Array<{ x: number, y: number }>, bounding: { width: number, height: number }): { coordinates: Array<{ x: number, y: number }> } | [] {\n    if (coords.length > 1) {\n        let end: { x: number, y: number }\n        if (coords[0].x === coords[1].x && coords[0].y !== coords[1].y) {\n            end = coords[0].y < coords[1].y\n                ? { x: coords[0].x, y: bounding.height }\n                : { x: coords[0].x, y: 0 }\n        } else if (coords[0].x > coords[1].x) {\n            end = { x: 0, y: getLinearYFromCoordinates(coords[0], coords[1], { x: 0, y: coords[0].y }) }\n        } else {\n            end = { x: bounding.width, y: getLinearYFromCoordinates(coords[0], coords[1], { x: bounding.width, y: coords[0].y }) }\n        }\n        return { coordinates: [coords[0], end] }\n    }\n    return []\n}\n\nconst fibonacciSpiral: OverlayTemplate = {\n    name: 'fibonacciSpiral',\n    totalStep: 3,\n    needDefaultPointFigure: true,\n    needDefaultXAxisFigure: true,\n    needDefaultYAxisFigure: true,\n    createPointFigures: ({ coordinates, bounding }) => {\n        if (coordinates.length > 1) {\n            const baseRadius = distance(coordinates[0], coordinates[1]) / Math.sqrt(24)\n            const direction = coordinates[1].x > coordinates[0].x ? 0 : 1\n            const slopeIntercept = getLinearSlopeIntercept(coordinates[0], coordinates[1])\n            let angle: number\n            if (slopeIntercept) {\n                angle = Math.atan(slopeIntercept[0]) + Math.PI * direction\n            } else {\n                angle = coordinates[1].y > coordinates[0].y ? Math.PI / 2 : Math.PI / 2 * 3\n            }\n\n            const p1 = rotatePoint({ x: coordinates[0].x - baseRadius, y: coordinates[0].y }, coordinates[0], angle)\n            const p2 = rotatePoint({ x: coordinates[0].x - baseRadius, y: coordinates[0].y - baseRadius }, coordinates[0], angle)\n\n            const arcs: Array<{ x: number, y: number, r: number, startAngle: number, endAngle: number }> = [\n                { ...p1, r: baseRadius, startAngle: angle, endAngle: angle + Math.PI / 2 },\n                { ...p2, r: baseRadius * 2, startAngle: angle + Math.PI / 2, endAngle: angle + Math.PI }\n            ]\n\n            let cx = coordinates[0].x - baseRadius\n            let cy = coordinates[0].y - baseRadius\n\n            for (let i = 2; i < 9; i++) {\n                const r = arcs[i - 2].r + arcs[i - 1].r\n                let startAngle = 0\n                switch (i % 4) {\n                    case 0: startAngle = angle; cx -= arcs[i - 2].r; break\n                    case 1: startAngle = angle + Math.PI / 2; cy -= arcs[i - 2].r; break\n                    case 2: startAngle = angle + Math.PI; cx += arcs[i - 2].r; break\n                    case 3: startAngle = angle + Math.PI / 2 * 3; cy += arcs[i - 2].r; break\n                }\n                const center = rotatePoint({ x: cx, y: cy }, coordinates[0], angle)\n                arcs.push({ ...center, r, startAngle, endAngle: startAngle + Math.PI / 2 })\n            }\n\n            return [\n                { type: 'arc', attrs: arcs },\n                { type: 'line', attrs: extendLine(coordinates, bounding) }\n            ]\n        }\n        return []\n    }\n}\n\nexport default fibonacciSpiral\n","import { type OverlayTemplate } from '../../component/Overlay'\nimport { getLinearYFromCoordinates } from '../figure/line'\n\nfunction extendLine(coords: Array<{ x: number, y: number }>, bounding: { width: number, height: number }): { coordinates: Array<{ x: number, y: number }> } | [] {\n    if (coords.length > 1) {\n        let end: { x: number, y: number }\n        if (coords[0].x === coords[1].x && coords[0].y !== coords[1].y) {\n            end = coords[0].y < coords[1].y\n                ? { x: coords[0].x, y: bounding.height }\n                : { x: coords[0].x, y: 0 }\n        } else if (coords[0].x > coords[1].x) {\n            end = { x: 0, y: getLinearYFromCoordinates(coords[0], coords[1], { x: 0, y: coords[0].y }) }\n        } else {\n            end = { x: bounding.width, y: getLinearYFromCoordinates(coords[0], coords[1], { x: bounding.width, y: coords[0].y }) }\n        }\n        return { coordinates: [coords[0], end] }\n    }\n    return []\n}\n\nconst fibonacciSpeedResistanceFan: OverlayTemplate = {\n    name: 'fibonacciSpeedResistanceFan',\n    totalStep: 3,\n    needDefaultPointFigure: true,\n    needDefaultXAxisFigure: true,\n    needDefaultYAxisFigure: true,\n    createPointFigures: ({ coordinates, bounding }) => {\n        const gridLines: Array<{ coordinates: Array<{ x: number, y: number }> }> = []\n        let fanLines: Array<{ coordinates: Array<{ x: number, y: number }> }> = []\n        const texts: Array<{ x: number, y: number, text: string }> = []\n\n        if (coordinates.length > 1) {\n            const [p0, p1] = coordinates\n            const textOffsetX = p1.x > p0.x ? -38 : 4\n            const textOffsetY = p1.y > p0.y ? -2 : 20\n            const dx = p1.x - p0.x\n            const dy = p1.y - p0.y\n            const percents = [1, 0.75, 0.618, 0.5, 0.382, 0.25, 0]\n\n            percents.forEach(p => {\n                const x = p1.x - dx * p\n                const y = p1.y - dy * p\n                gridLines.push({ coordinates: [{ x, y: p0.y }, { x, y: p1.y }] })\n                gridLines.push({ coordinates: [{ x: p0.x, y }, { x: p1.x, y }] })\n\n                fanLines = fanLines.concat(\n                    extendLine([p0, { x, y: p1.y }], bounding) as any\n                )\n                fanLines = fanLines.concat(\n                    extendLine([p0, { x: p1.x, y }], bounding) as any\n                )\n\n                texts.unshift({ x: p0.x + textOffsetX, y: y + 10, text: `${p.toFixed(3)}` })\n                texts.unshift({ x: x - 18, y: p0.y + textOffsetY, text: `${p.toFixed(3)}` })\n            })\n        }\n\n        return [\n            { type: 'line', attrs: gridLines },\n            { type: 'line', attrs: fanLines },\n            { type: 'text', ignoreEvent: true, attrs: texts }\n        ]\n    }\n}\n\nexport default fibonacciSpeedResistanceFan\n","import { type OverlayTemplate } from '../../component/Overlay'\n\nconst fibonacciDiagonal: OverlayTemplate = {\n    name: 'fibonacciDiagonal',\n    totalStep: 3,\n    needDefaultPointFigure: true,\n    needDefaultXAxisFigure: true,\n    needDefaultYAxisFigure: true,\n    createPointFigures: ({ coordinates, overlay }) => {\n        const points = overlay.points\n        if (coordinates.length > 0) {\n            const lines: Array<{ coordinates: Array<{ x: number, y: number }> }> = []\n            const texts: Array<{ x: number, y: number, text: string, baseline: string }> = []\n            const startX = coordinates[0].x\n            const endX = coordinates[coordinates.length - 1].x\n\n            if (coordinates.length > 1 && points[0].value !== undefined && points[1].value !== undefined) {\n                const percents = [1, 0.786, 0.618, 0.5, 0.382, 0.236, 0]\n                const yDif = coordinates[0].y - coordinates[1].y\n                const valueDif = points[0].value - points[1].value\n\n                percents.forEach(p => {\n                    const y = coordinates[1].y + yDif * p\n                    const value = ((points[1].value ?? 0) + valueDif * p).toFixed(2)\n                    lines.push({ coordinates: [{ x: startX, y }, { x: endX, y }] })\n                    texts.push({\n                        x: startX, y,\n                        text: `${value} (${(p * 100).toFixed(1)}%)`,\n                        baseline: 'bottom'\n                    })\n                })\n\n                // Diagonal line connecting first to last level\n                lines.push({\n                    coordinates: [\n                        { x: lines[0].coordinates[0].x, y: lines[0].coordinates[0].y },\n                        { x: lines[percents.length - 1].coordinates[1].x, y: lines[percents.length - 1].coordinates[1].y }\n                    ]\n                })\n            }\n\n            return [\n                { type: 'line', attrs: lines },\n                { type: 'text', isCheckEvent: false, attrs: texts }\n            ]\n        }\n        return []\n    }\n}\n\nexport default fibonacciDiagonal\n","import { type OverlayTemplate } from '../../component/Overlay'\n\nconst gannBox: OverlayTemplate = {\n    name: 'gannBox',\n    totalStep: 3,\n    needDefaultPointFigure: true,\n    needDefaultXAxisFigure: true,\n    needDefaultYAxisFigure: true,\n    styles: {\n        polygon: { color: 'rgba(22, 119, 255, 0.15)' }\n    },\n    createPointFigures: ({ coordinates }) => {\n        if (coordinates.length > 1) {\n            const [p0, p1] = coordinates\n            const yQuarter = (p1.y - p0.y) / 4\n            const xDif = p1.x - p0.x\n\n            // Dashed internal lines\n            const dashed = [\n                { coordinates: [p0, { x: p1.x, y: p1.y - yQuarter }] },\n                { coordinates: [p0, { x: p1.x, y: p1.y - yQuarter * 2 }] },\n                { coordinates: [{ x: p0.x, y: p1.y }, { x: p1.x, y: p0.y + yQuarter }] },\n                { coordinates: [{ x: p0.x, y: p1.y }, { x: p1.x, y: p0.y + yQuarter * 2 }] },\n                { coordinates: [{ ...p0 }, { x: p0.x + xDif * 0.236, y: p1.y }] },\n                { coordinates: [{ ...p0 }, { x: p0.x + xDif * 0.5, y: p1.y }] },\n                { coordinates: [{ x: p0.x, y: p1.y }, { x: p0.x + xDif * 0.236, y: p0.y }] },\n                { coordinates: [{ x: p0.x, y: p1.y }, { x: p0.x + xDif * 0.5, y: p0.y }] }\n            ]\n\n            // Diagonals\n            const diagonals = [\n                { coordinates: [p0, p1] },\n                { coordinates: [{ x: p0.x, y: p1.y }, { x: p1.x, y: p0.y }] }\n            ]\n\n            return [\n                {\n                    type: 'line',\n                    attrs: [\n                        { coordinates: [p0, { x: p1.x, y: p0.y }] },\n                        { coordinates: [{ x: p1.x, y: p0.y }, p1] },\n                        { coordinates: [p1, { x: p0.x, y: p1.y }] },\n                        { coordinates: [{ x: p0.x, y: p1.y }, p0] }\n                    ]\n                },\n                {\n                    type: 'polygon',\n                    ignoreEvent: true,\n                    attrs: {\n                        coordinates: [p0, { x: p1.x, y: p0.y }, p1, { x: p0.x, y: p1.y }]\n                    },\n                    styles: { style: 'fill' }\n                },\n                { type: 'line', attrs: dashed, styles: { style: 'dashed' } },\n                { type: 'line', attrs: diagonals }\n            ]\n        }\n        return []\n    }\n}\n\nexport default gannBox\n","import { type OverlayTemplate } from '../../component/Overlay'\n\nfunction createWaveOverlay(name: string, totalStep: number): OverlayTemplate {\n    return {\n        name,\n        totalStep,\n        needDefaultPointFigure: true,\n        needDefaultXAxisFigure: true,\n        needDefaultYAxisFigure: true,\n        createPointFigures: ({ coordinates }) => {\n            const texts = coordinates.map((c, i) => ({\n                ...c,\n                text: `(${i})`,\n                baseline: 'bottom'\n            }))\n            return [\n                { type: 'line', attrs: { coordinates } },\n                { type: 'text', ignoreEvent: true, attrs: texts }\n            ]\n        }\n    }\n}\n\nexport const threeWaves = createWaveOverlay('threeWaves', 5)\nexport const fiveWaves = createWaveOverlay('fiveWaves', 7)\nexport const eightWaves = createWaveOverlay('eightWaves', 10)\nexport const anyWaves = createWaveOverlay('anyWaves', Number.MAX_SAFE_INTEGER)\n","import { type OverlayTemplate } from '../../component/Overlay'\n\nconst abcd: OverlayTemplate = {\n    name: 'abcd',\n    totalStep: 5,\n    needDefaultPointFigure: true,\n    needDefaultXAxisFigure: true,\n    needDefaultYAxisFigure: true,\n    createPointFigures: ({ coordinates }) => {\n        const labels = ['A', 'B', 'C', 'D']\n        const texts = coordinates.map((c, i) => ({\n            ...c,\n            baseline: 'bottom',\n            text: `(${labels[i]})`\n        }))\n\n        let acLine: Array<{ x: number, y: number }> = []\n        let bdLine: Array<{ x: number, y: number }> = []\n        if (coordinates.length > 2) {\n            acLine = [coordinates[0], coordinates[2]]\n            if (coordinates.length > 3) {\n                bdLine = [coordinates[1], coordinates[3]]\n            }\n        }\n\n        return [\n            { type: 'line', attrs: { coordinates } },\n            {\n                type: 'line',\n                attrs: [{ coordinates: acLine }, { coordinates: bdLine }],\n                styles: { style: 'dashed' }\n            },\n            { type: 'text', ignoreEvent: true, attrs: texts }\n        ]\n    }\n}\n\nexport default abcd\n","import { type OverlayTemplate } from '../../component/Overlay'\n\nconst xabcd: OverlayTemplate = {\n    name: 'xabcd',\n    totalStep: 6,\n    needDefaultPointFigure: true,\n    needDefaultXAxisFigure: true,\n    needDefaultYAxisFigure: true,\n    styles: {\n        polygon: { color: 'rgba(22, 119, 255, 0.15)' }\n    },\n    createPointFigures: ({ coordinates }) => {\n        const dashed: Array<{ coordinates: Array<{ x: number, y: number }> }> = []\n        const polygons: Array<{ coordinates: Array<{ x: number, y: number }> }> = []\n        const labels = ['X', 'A', 'B', 'C', 'D']\n        const texts = coordinates.map((c, i) => ({\n            ...c,\n            baseline: 'bottom',\n            text: `(${labels[i]})`\n        }))\n\n        if (coordinates.length > 2) {\n            dashed.push({ coordinates: [coordinates[0], coordinates[2]] })\n            polygons.push({ coordinates: [coordinates[0], coordinates[1], coordinates[2]] })\n            if (coordinates.length > 3) {\n                dashed.push({ coordinates: [coordinates[1], coordinates[3]] })\n                if (coordinates.length > 4) {\n                    dashed.push({ coordinates: [coordinates[2], coordinates[4]] })\n                    polygons.push({ coordinates: [coordinates[2], coordinates[3], coordinates[4]] })\n                }\n            }\n        }\n\n        return [\n            { type: 'line', attrs: { coordinates } },\n            { type: 'line', attrs: dashed, styles: { style: 'dashed' } },\n            { type: 'polygon', ignoreEvent: true, attrs: polygons },\n            { type: 'text', ignoreEvent: true, attrs: texts }\n        ]\n    }\n}\n\nexport default xabcd\n","import { type OverlayTemplate } from '../../component/Overlay'\n\nconst elliotTripleComboWaves: OverlayTemplate = {\n    name: 'elliotTripleComboWaves',\n    totalStep: 6,\n    needDefaultPointFigure: true,\n    needDefaultXAxisFigure: true,\n    needDefaultYAxisFigure: true,\n    createPointFigures: ({ coordinates }) => {\n        const labels = ['(0)', '(W)', '(X)', '(Y)', '(Z)']\n        const texts = coordinates.map((c, i) => ({\n            ...c, baseline: 'bottom', text: `(${labels[i]})`\n        }))\n        return [\n            { type: 'line', attrs: { coordinates } },\n            { type: 'line', attrs: [{ coordinates: [] }, { coordinates: [] }], styles: { style: 'dashed' } },\n            { type: 'text', ignoreEvent: true, attrs: texts }\n        ]\n    }\n}\n\nexport default elliotTripleComboWaves\n","import { type OverlayTemplate } from '../../component/Overlay'\n\nconst headAndShoulders: OverlayTemplate = {\n    name: 'headAndShoulders',\n    totalStep: 8,\n    needDefaultPointFigure: true,\n    needDefaultXAxisFigure: true,\n    needDefaultYAxisFigure: true,\n    styles: {\n        polygon: { color: 'rgba(22, 119, 255, 0.15)' }\n    },\n    createPointFigures: ({ coordinates }) => {\n        const dashed: Array<{ coordinates: Array<{ x: number, y: number }> }> = []\n        const polygons: Array<{ coordinates: Array<{ x: number, y: number }> }> = []\n        const labels = ['1', 'Left Shoulder', '2', 'Head', '3', 'Right Shoulder', '4']\n        const texts = coordinates.map((c, i) => ({\n            ...c, baseline: 'bottom', text: `${labels[i]}`\n        }))\n\n        if (coordinates.length > 2) {\n            dashed.push({ coordinates: [coordinates[0], coordinates[2]] })\n            polygons.push({ coordinates: [coordinates[0], coordinates[1], coordinates[2]] })\n            if (coordinates.length > 4) {\n                dashed.push({ coordinates: [coordinates[2], coordinates[4]] })\n                polygons.push({ coordinates: [coordinates[2], coordinates[3], coordinates[4]] })\n                if (coordinates.length > 6) {\n                    dashed.push({ coordinates: [coordinates[4], coordinates[6]] })\n                    polygons.push({ coordinates: [coordinates[4], coordinates[5], coordinates[6]] })\n                }\n            }\n        }\n\n        return [\n            { type: 'line', attrs: { coordinates } },\n            { type: 'line', attrs: dashed, styles: { style: 'dashed' } },\n            { type: 'polygon', ignoreEvent: true, attrs: polygons },\n            { type: 'text', ignoreEvent: true, attrs: texts }\n        ]\n    }\n}\n\nexport default headAndShoulders\n","import { type OverlayTemplate } from '../../component/Overlay'\nimport { calcTextWidth } from '../../common/utils/canvas'\n\nconst measure: OverlayTemplate = {\n    name: 'measure',\n    totalStep: 3,\n    needDefaultPointFigure: true,\n    needDefaultXAxisFigure: true,\n    needDefaultYAxisFigure: true,\n    styles: {\n        backgroundColor: 'rgba(22, 119, 255, 0.25)',\n        tipBackgroundColor: '#1677FF',\n        lineColor: '#1677FF'\n    },\n    createPointFigures: ({ coordinates, overlay, bounding }) => {\n        if (coordinates.length > 1) {\n            const [p0, p1] = coordinates\n            const val1 = overlay.points[1]?.value\n            const val0 = overlay.points[0]?.value\n            let pctChange = 0\n            let priceDiff = 0\n            if (val0 !== undefined && val1 !== undefined) {\n                pctChange = (val1 - val0) / val0 * 100\n                priceDiff = val1 - val0\n            }\n\n            const isRight = p0.x < p1.x\n            const isDown = p0.y < p1.y\n            const center = { x: Math.round((p0.x + p1.x) / 2), y: Math.round((p0.y + p1.y) / 2) }\n            const bgColor = overlay.styles?.backgroundColor ?? 'rgba(22, 119, 255, 0.25)'\n            const tipColor = overlay.styles?.tipBackgroundColor ?? '#1677FF'\n            const lineColor = overlay.styles?.lineColor ?? '#1677FF'\n\n            const label = `${priceDiff.toFixed(2)} (${pctChange.toFixed(2)}%)`\n            const figures: any[] = [\n                // Background rect\n                {\n                    type: 'polygon',\n                    attrs: {\n                        coordinates: [p0, { x: p1.x, y: p0.y }, p1, { x: p0.x, y: p1.y }]\n                    },\n                    styles: { color: bgColor }\n                },\n                // Horizontal midline\n                { type: 'line', attrs: { coordinates: [{ x: p0.x, y: center.y }, { x: p1.x, y: center.y }] }, styles: { color: lineColor } },\n                // Vertical midline\n                { type: 'line', attrs: { coordinates: [{ x: center.x, y: p0.y }, { x: center.x, y: p1.y }] }, styles: { color: lineColor } }\n            ]\n\n            // Horizontal arrow\n            if (isRight) {\n                figures.push({ type: 'line', attrs: { coordinates: [{ x: p1.x - 6, y: center.y - 4 }, { x: p1.x, y: center.y }, { x: p1.x - 6, y: center.y + 4 }] } })\n            } else {\n                figures.push({ type: 'line', attrs: { coordinates: [{ x: p1.x + 6, y: center.y - 4 }, { x: p1.x, y: center.y }, { x: p1.x + 6, y: center.y + 4 }] } })\n            }\n\n            // Vertical arrow\n            if (isDown) {\n                figures.push({ type: 'line', attrs: { coordinates: [{ x: center.x - 4, y: p1.y - 6 }, { x: center.x, y: p1.y }, { x: center.x + 4, y: p1.y - 6 }] }, styles: { color: lineColor } })\n            } else {\n                figures.push({ type: 'line', attrs: { coordinates: [{ x: center.x - 4, y: p1.y + 6 }, { x: center.x, y: p1.y }, { x: center.x + 4, y: p1.y + 6 }] }, styles: { color: lineColor } })\n            }\n\n            // Tooltip\n            const tipHeight = 1 * 12 + 8 * 2\n            let tipWidth = calcTextWidth(label) + 12 * 2\n            let tipY: number\n            if (isDown) {\n                tipY = p1.y + 8 + tipHeight > bounding.height ? bounding.height - tipHeight : p1.y + 8\n            } else {\n                tipY = p1.y - 8 - tipHeight < 0 ? 0 : p1.y - 8 - tipHeight\n            }\n\n            figures.push({\n                type: 'rect',\n                attrs: { x: center.x - tipWidth / 2, y: tipY, width: tipWidth, height: tipHeight },\n                styles: { borderRadius: 4, color: tipColor }\n            })\n            figures.push({\n                type: 'text',\n                attrs: { x: center.x, y: tipY + 8, text: label, align: 'center' },\n                styles: { paddingLeft: 0, paddingTop: 0, paddingRight: 0, paddingBottom: 0, backgroundColor: 'none', family: 'Space Grotesk, sans-serif' }\n            })\n\n            return figures\n        }\n        return []\n    }\n}\n\nexport default measure\n","import { type OverlayTemplate } from '../../component/Overlay'\n\nconst crossLine: OverlayTemplate = {\n    name: 'crossLine',\n    totalStep: 2,\n    needDefaultPointFigure: true,\n    needDefaultXAxisFigure: true,\n    needDefaultYAxisFigure: true,\n    createPointFigures: ({ coordinates, bounding }) => [\n        {\n            type: 'line',\n            attrs: { coordinates: [{ x: 0, y: coordinates[0].y }, { x: bounding.width, y: coordinates[0].y }] }\n        },\n        {\n            type: 'line',\n            attrs: { coordinates: [{ x: coordinates[0].x, y: 0 }, { x: coordinates[0].x, y: bounding.height }] }\n        }\n    ]\n}\n\nexport default crossLine\n","import { type OverlayTemplate } from '../../component/Overlay'\n\nconst flatTopBottom: OverlayTemplate = {\n    name: 'faltTopBottom',\n    totalStep: 4,\n    needDefaultPointFigure: true,\n    needDefaultXAxisFigure: true,\n    needDefaultYAxisFigure: false,\n    styles: {\n        polygon: { color: '#FCB9002b' },\n        line: { size: 2, color: '#FCB900' }\n    },\n    createPointFigures: ({ coordinates }) => {\n        let lines: Array<{ coordinates: Array<{ x: number, y: number }> }> = []\n        const polygons: Array<{ coordinates: Array<{ x: number, y: number }> }> = []\n        const topLines: Array<{ coordinates: Array<{ x: number, y: number }> }> = []\n\n        if (coordinates.length > 2) {\n            lines = [{ coordinates: [{ x: coordinates[0].x, y: coordinates[2].y }, { x: coordinates[1].x, y: coordinates[2].y }] }]\n            polygons.push({\n                coordinates: [\n                    coordinates[0], coordinates[1],\n                    { x: coordinates[1].x, y: coordinates[2].y },\n                    { x: coordinates[0].x, y: coordinates[2].y }\n                ]\n            })\n            topLines.push({ coordinates: [coordinates[0], coordinates[1]] })\n        } else {\n            lines = [{ coordinates }]\n        }\n\n        return [\n            { type: 'line', attrs: lines, size: 2 },\n            { type: 'polygon', ignoreEvent: true, attrs: polygons },\n            { type: 'line', attrs: topLines, size: 2 }\n        ]\n    },\n    performEventMoveForDrawing: ({ currentStep, points, performPoint }) => {\n        if (currentStep === 3) {\n            points[1].timestamp = performPoint.timestamp\n            points[1].dataIndex = performPoint.dataIndex\n        }\n    },\n    performEventPressedMove: ({ points, performPointIndex, performPoint }) => {\n        switch (performPointIndex) {\n            case 1:\n                points[2].timestamp = performPoint.timestamp\n                points[2].dataIndex = performPoint.dataIndex\n                break\n            case 2:\n                points[1].timestamp = performPoint.timestamp\n                points[1].dataIndex = performPoint.dataIndex\n                break\n            case 3:\n                points[1].timestamp = performPoint.timestamp\n                break\n        }\n    }\n}\n\nexport default flatTopBottom\n","import { type OverlayTemplate } from '../../component/Overlay'\n\nconst disJointChannel: OverlayTemplate = {\n    name: 'disJointChannel',\n    totalStep: 4,\n    needDefaultPointFigure: true,\n    needDefaultXAxisFigure: true,\n    needDefaultYAxisFigure: true,\n    styles: {\n        polygon: { color: '#FCB9002b' },\n        line: { size: 2, color: '#FCB900' }\n    },\n    createPointFigures: ({ coordinates }) => {\n        let mainLines: Array<{ coordinates: Array<{ x: number, y: number }> }> = []\n        const secondLines: Array<{ coordinates: Array<{ x: number, y: number }> }> = []\n        let height = 0\n\n        if (coordinates.length >= 2) {\n            height = Math.abs(coordinates[1].y - coordinates[0].y)\n        }\n\n        if (coordinates.length > 2) {\n            mainLines = [{\n                coordinates: [\n                    { x: coordinates[0].x, y: coordinates[0].y },\n                    { x: coordinates[1].x, y: coordinates[1].y }\n                ]\n            }]\n            secondLines.push({\n                coordinates: [\n                    { x: coordinates[1].x, y: coordinates[2].y },\n                    { x: coordinates[0].x, y: coordinates[2].y + height }\n                ]\n            })\n        } else {\n            mainLines = [{ coordinates }]\n        }\n\n        return [\n            { type: 'line', ignoreEvent: false, attrs: mainLines },\n            { type: 'line', ignoreEvent: false, attrs: secondLines }\n        ]\n    },\n    performEventMoveForDrawing: ({ currentStep, points, performPoint }) => {\n        if (currentStep === 3) {\n            points[1].timestamp = performPoint.timestamp\n            points[1].dataIndex = performPoint.dataIndex\n        }\n    },\n    performEventPressedMove: ({ points, performPointIndex, performPoint }) => {\n        switch (performPointIndex) {\n            case 1:\n                points[2].timestamp = performPoint.timestamp\n                points[2].dataIndex = performPoint.dataIndex\n                break\n            case 2:\n                points[1].timestamp = performPoint.timestamp\n                points[1].dataIndex = performPoint.dataIndex\n                break\n        }\n    }\n}\n\nexport default disJointChannel\n","import { type OverlayTemplate } from '../../component/Overlay'\n\nconst arcOverlay: OverlayTemplate = {\n    name: 'arc',\n    totalStep: 3,\n    needDefaultPointFigure: true,\n    needDefaultXAxisFigure: true,\n    needDefaultYAxisFigure: true,\n    styles: {\n        arc: { color: 'rgba(22, 119, 255)' }\n    },\n    createPointFigures: ({ coordinates }) => {\n        if (coordinates.length > 1) {\n            const cx = (coordinates[0].x + coordinates[1].x) / 2\n            const cy = (coordinates[0].y + coordinates[1].y) / 2\n            const r = Math.sqrt(\n                Math.pow(coordinates[1].x - coordinates[0].x, 2) +\n                Math.pow(coordinates[1].y - coordinates[0].y, 2)\n            ) / 2\n            return [{\n                type: 'arc',\n                attrs: { x: cx, y: cy, r, startAngle: 0, endAngle: Math.PI },\n                styles: { style: 'solid' }\n            }]\n        }\n        return []\n    }\n}\n\nexport default arcOverlay\n","import { type OverlayTemplate } from '../../component/Overlay'\n\nconst tradingPlan: OverlayTemplate = {\n    name: 'tradingPlan',\n    totalStep: 5,\n    needDefaultPointFigure: true,\n    needDefaultXAxisFigure: false,\n    needDefaultYAxisFigure: true,\n    createPointFigures: ({ coordinates }) => {\n        const len = coordinates.length\n        if (len >= 2) {\n            if (len === 2) {\n                return [{ type: 'line', attrs: { coordinates } }]\n            }\n            if (len >= 3) {\n                const stopLoss = {\n                    type: 'polygon',\n                    attrs: {\n                        coordinates: [\n                            coordinates[0], coordinates[1],\n                            { x: coordinates[1].x, y: coordinates[2].y },\n                            { x: coordinates[0].x, y: coordinates[2].y }\n                        ]\n                    },\n                    styles: { style: 'fill', color: '#DE46464f' }\n                }\n                if (len === 3) return [stopLoss]\n                const takeProfit = {\n                    type: 'polygon',\n                    attrs: {\n                        coordinates: [\n                            coordinates[0], coordinates[1],\n                            { x: coordinates[1].x, y: coordinates[3].y },\n                            { x: coordinates[0].x, y: coordinates[3].y }\n                        ]\n                    },\n                    styles: { style: 'fill', color: '#03ca9b2f' }\n                }\n                return [stopLoss, takeProfit]\n            }\n        }\n        return []\n    },\n    performEventMoveForDrawing: ({ currentStep, points, performPoint }) => {\n        switch (currentStep) {\n            case 2: points[0].value = performPoint.value; break\n            case 3:\n                points[1].timestamp = performPoint.timestamp\n                points[1].dataIndex = performPoint.dataIndex\n                break\n            case 4:\n                points[1].timestamp = points[2].timestamp = performPoint.timestamp\n                points[1].dataIndex = points[2].dataIndex = performPoint.dataIndex\n                break\n        }\n    },\n    performEventPressedMove: ({ points, performPointIndex, performPoint }) => {\n        switch (performPointIndex) {\n            case 0: points[1].value = performPoint.value; break\n            case 1:\n                points[0].value = performPoint.value\n                points[2].timestamp = points[3].timestamp = performPoint.timestamp\n                points[2].dataIndex = points[3].dataIndex = performPoint.dataIndex\n                break\n            case 2:\n                points[1].timestamp = points[3].timestamp = performPoint.timestamp\n                points[1].dataIndex = points[3].dataIndex = performPoint.dataIndex\n                break\n            case 3:\n                points[1].timestamp = points[2].timestamp = performPoint.timestamp\n                points[1].dataIndex = points[2].dataIndex = performPoint.dataIndex\n                break\n        }\n    }\n}\n\nexport default tradingPlan\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type Nullable from '../../common/Nullable'\n\nimport OverlayImp, { type OverlayTemplate, type OverlayConstructor, type OverlayInnerConstructor } from '../../component/Overlay'\n\nimport fibonacciLine from './fibonacciLine'\nimport horizontalRayLine from './horizontalRayLine'\nimport horizontalSegment from './horizontalSegment'\nimport horizontalStraightLine from './horizontalStraightLine'\nimport parallelStraightLine from './parallelStraightLine'\nimport priceChannelLine from './priceChannelLine'\nimport priceLine from './priceLine'\nimport rayLine from './rayLine'\nimport segment from './segment'\nimport straightLine from './straightLine'\nimport verticalRayLine from './verticalRayLine'\nimport verticalSegment from './verticalSegment'\nimport verticalStraightLine from './verticalStraightLine'\n\nimport simpleAnnotation from './simpleAnnotation'\nimport simpleTag from './simpleTag'\n\n// Pro overlays\nimport arrow from './arrow'\nimport circle from './circle'\nimport rect from './rect'\nimport triangle from './triangle'\nimport parallelogram from './parallelogram'\nimport fibonacciCircle from './fibonacciCircle'\nimport fibonacciSegment from './fibonacciSegment'\nimport fibonacciExtension from './fibonacciExtension'\nimport fibonacciSpiral from './fibonacciSpiral'\nimport fibonacciSpeedResistanceFan from './fibonacciSpeedResistanceFan'\nimport fibonacciDiagonal from './fibonacciDiagonal'\nimport gannBox from './gannBox'\nimport { threeWaves, fiveWaves, eightWaves, anyWaves } from './waves'\nimport abcd from './abcd'\nimport xabcd from './xabcd'\nimport elliotTripleComboWaves from './elliotTripleComboWaves'\nimport headAndShoulders from './headAndShoulders'\nimport measure from './measure'\nimport crossLine from './crossLine'\nimport flatTopBottom from './flatTopBottom'\nimport disJointChannel from './disJointChannel'\nimport arcOverlay from './arcOverlay'\nimport tradingPlan from './tradingPlan'\n\nconst overlays: Record<string, OverlayInnerConstructor> = {}\n\nconst extensions = [\n  // Base overlays\n  fibonacciLine, horizontalRayLine, horizontalSegment, horizontalStraightLine,\n  parallelStraightLine, priceChannelLine, priceLine, rayLine, segment,\n  straightLine, verticalRayLine, verticalSegment, verticalStraightLine,\n  simpleAnnotation, simpleTag,\n  // Pro overlays\n  arrow, circle, rect, triangle, parallelogram,\n  fibonacciCircle, fibonacciSegment, fibonacciExtension,\n  fibonacciSpiral, fibonacciSpeedResistanceFan, fibonacciDiagonal,\n  gannBox, threeWaves, fiveWaves, eightWaves, anyWaves,\n  abcd, xabcd, elliotTripleComboWaves, headAndShoulders,\n  measure, crossLine, flatTopBottom, disJointChannel,\n  arcOverlay, tradingPlan\n]\n\nextensions.forEach((template: OverlayTemplate) => {\n  overlays[template.name] = OverlayImp.extend(template)\n})\n\nfunction registerOverlay<E = unknown>(template: OverlayTemplate<E>): void {\n  overlays[template.name] = OverlayImp.extend(template)\n}\n\nfunction getOverlayInnerClass(name: string): Nullable<OverlayInnerConstructor> {\n  return overlays[name] ?? null\n}\n\nfunction getOverlayClass(name: string): Nullable<OverlayConstructor> {\n  return overlays[name] ?? null\n}\n\nfunction getSupportedOverlays(): string[] {\n  return Object.keys(overlays)\n}\n\nexport { registerOverlay, getOverlayClass, getOverlayInnerClass, getSupportedOverlays }\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type DeepPartial from '../../common/DeepPartial'\nimport type { Styles } from '../../common/Styles'\n\nconst light: DeepPartial<Styles> = {\n  grid: {\n    horizontal: {\n      color: '#EDEDED'\n    },\n    vertical: {\n      color: '#EDEDED'\n    }\n  },\n  candle: {\n    priceMark: {\n      high: {\n        color: '#76808F'\n      },\n      low: {\n        color: '#76808F'\n      }\n    },\n    tooltip: {\n      rect: {\n        color: '#FEFEFE',\n        borderColor: '#F2F3F5'\n      },\n      title: {\n        color: '#76808F'\n      },\n      legend: {\n        color: '#76808F'\n      }\n    }\n  },\n  indicator: {\n    tooltip: {\n      title: {\n        color: '#76808F'\n      },\n      legend: {\n        color: '#76808F'\n      }\n    }\n  },\n  xAxis: {\n    axisLine: {\n      color: '#DDDDDD'\n    },\n    tickText: {\n      color: '#76808F'\n    },\n    tickLine: {\n      color: '#DDDDDD'\n    }\n  },\n  yAxis: {\n    axisLine: {\n      color: '#DDDDDD'\n    },\n    tickText: {\n      color: '#76808F'\n    },\n    tickLine: {\n      color: '#DDDDDD'\n    }\n  },\n  separator: {\n    color: '#DDDDDD'\n  },\n  crosshair: {\n    horizontal: {\n      line: {\n        color: '#76808F'\n      },\n      text: {\n        borderColor: '#686D76',\n        backgroundColor: '#686D76'\n      }\n    },\n    vertical: {\n      line: {\n        color: '#76808F'\n      },\n      text: {\n        borderColor: '#686D76',\n        backgroundColor: '#686D76'\n      }\n    }\n  }\n}\n\nexport default light\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type DeepPartial from '../../common/DeepPartial'\nimport type { Styles } from '../../common/Styles'\n\nconst dark: DeepPartial<Styles> = {\n  grid: {\n    horizontal: {\n      color: '#292929'\n    },\n    vertical: {\n      color: '#292929'\n    }\n  },\n  candle: {\n    priceMark: {\n      high: {\n        color: '#929AA5'\n      },\n      low: {\n        color: '#929AA5'\n      }\n    },\n    tooltip: {\n      rect: {\n        color: 'rgba(10, 10, 10, .6)',\n        borderColor: 'rgba(10, 10, 10, .6)'\n      },\n      title: {\n        color: '#929AA5'\n      },\n      legend: {\n        color: '#929AA5'\n      }\n    }\n  },\n  indicator: {\n    tooltip: {\n      title: {\n        color: '#929AA5'\n      },\n      legend: {\n        color: '#929AA5'\n      }\n    }\n  },\n  xAxis: {\n    axisLine: {\n      color: '#333333'\n    },\n    tickText: {\n      color: '#929AA5'\n    },\n    tickLine: {\n      color: '#333333'\n    }\n  },\n  yAxis: {\n    axisLine: {\n      color: '#333333'\n    },\n    tickText: {\n      color: '#929AA5'\n    },\n    tickLine: {\n      color: '#333333'\n    }\n  },\n  separator: {\n    color: '#333333'\n  },\n  crosshair: {\n    horizontal: {\n      line: {\n        color: '#929AA5'\n      },\n      text: {\n        borderColor: '#373a40',\n        backgroundColor: '#373a40'\n      }\n    },\n    vertical: {\n      line: {\n        color: '#929AA5'\n      },\n      text: {\n        borderColor: '#373a40',\n        backgroundColor: '#373a40'\n      }\n    }\n  }\n}\n\nexport default dark\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type Nullable from '../../common/Nullable'\nimport type DeepPartial from '../../common/DeepPartial'\nimport type { Styles } from '../../common/Styles'\n\nimport light from './light'\nimport dark from './dark'\n\nconst styles: Record<string, DeepPartial<Styles>> = {\n  light,\n  dark\n}\n\nfunction registerStyles (name: string, ss: DeepPartial<Styles>): void {\n  styles[name] = ss\n}\n\nfunction getStyles (name: string): Nullable<DeepPartial<Styles>> {\n  return styles[name] ?? null\n}\n\nexport {\n  registerStyles,\n  getStyles\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type VisibleRange from '../common/VisibleRange'\n\nimport type DrawPane from '../pane/DrawPane'\n\nimport type Bounding from '../common/Bounding'\nimport type { Chart } from '../Chart'\n\nexport interface AxisTick {\n  coord: number\n  value: number | string\n  text: string\n}\n\nexport interface AxisRange extends VisibleRange {\n  readonly range: number\n  readonly realRange: number\n  readonly displayFrom: number\n  readonly displayTo: number\n  readonly displayRange: number\n}\n\nexport interface AxisGap {\n  top?: number\n  bottom?: number\n}\n\nexport type AxisPosition = 'left' | 'right'\n\nexport interface AxisValueToValueParams {\n  range: AxisRange\n}\n\nexport type AxisValueToValueCallback = (value: number, params: AxisValueToValueParams) => number\n\nexport interface AxisCreateRangeParams {\n  chart: Chart\n  paneId: string\n  defaultRange: AxisRange\n}\n\nexport type AxisCreateRangeCallback = (params: AxisCreateRangeParams) => AxisRange\n\nexport interface AxisCreateTicksParams {\n  range: AxisRange\n  bounding: Bounding\n  defaultTicks: AxisTick[]\n}\n\nexport type AxisCreateTicksCallback = (params: AxisCreateTicksParams) => AxisTick[]\n\nexport type AxisMinSpanCallback = (value: number) => number\n\nexport interface AxisTemplate {\n  name: string\n  reverse?: boolean\n  inside?: boolean\n  position?: AxisPosition\n  scrollZoomEnabled?: boolean\n  gap?: AxisGap\n  valueToRealValue?: AxisValueToValueCallback\n  realValueToDisplayValue?: AxisValueToValueCallback\n  displayValueToRealValue?: AxisValueToValueCallback\n  realValueToValue?: AxisValueToValueCallback\n  displayValueToText?: (value: number, precision: number) => string\n  minSpan?: AxisMinSpanCallback\n  createRange?: AxisCreateRangeCallback\n  createTicks?: AxisCreateTicksCallback\n}\n\nexport interface Axis {\n  override: (axis: AxisTemplate) => void\n  getTicks: () => AxisTick[]\n  getRange: () => AxisRange\n  getAutoSize: () => number\n  convertToPixel: (value: number) => number\n  convertFromPixel: (px: number) => number\n}\n\nexport type AxisCreate = Omit<AxisTemplate, 'displayValueToText' | 'valueToRealValue' | 'realValueToDisplayValue' | 'displayValueToRealValue' | 'realValueToValue'>\n\nfunction getDefaultAxisRange (): AxisRange {\n  return {\n    from: 0,\n    to: 0,\n    range: 0,\n    realFrom: 0,\n    realTo: 0,\n    realRange: 0,\n    displayFrom: 0,\n    displayTo: 0,\n    displayRange: 0\n  }\n}\n\nexport default abstract class AxisImp implements Axis {\n  name: string\n  scrollZoomEnabled = true\n  createTicks: AxisCreateTicksCallback\n\n  private readonly _parent: DrawPane\n\n  private _range = getDefaultAxisRange()\n  private _prevRange = getDefaultAxisRange()\n  private _ticks: AxisTick[] = []\n\n  private _autoCalcTickFlag = true\n\n  constructor (parent: DrawPane) {\n    this._parent = parent\n  }\n\n  getParent (): DrawPane { return this._parent }\n\n  buildTicks (force: boolean): boolean {\n    if (this._autoCalcTickFlag) {\n      this._range = this.createRangeImp()\n    }\n    if (this._prevRange.from !== this._range.from || this._prevRange.to !== this._range.to || force) {\n      this._prevRange = this._range\n      this._ticks = this.createTicksImp()\n      return true\n    }\n    return false\n  }\n\n  getTicks (): AxisTick[] {\n    return this._ticks\n  }\n\n  setRange (range: AxisRange): void {\n    this._autoCalcTickFlag = false\n    this._range = range\n  }\n\n  getRange (): AxisRange { return this._range }\n\n  setAutoCalcTickFlag (flag: boolean): void {\n    this._autoCalcTickFlag = flag\n  }\n\n  getAutoCalcTickFlag (): boolean { return this._autoCalcTickFlag }\n\n  protected abstract createRangeImp (): AxisRange\n\n  protected abstract createTicksImp (): AxisTick[]\n\n  protected abstract getBounding (): Bounding\n\n  abstract override (axis: AxisTemplate): void\n\n  abstract getAutoSize (): number\n\n  abstract convertToPixel (value: number): number\n  abstract convertFromPixel (px: number): number\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport type PeriodType = 'second' | 'minute' | 'hour' | 'day' | 'week' | 'month' | 'year'\n\nexport interface Period {\n  type: PeriodType\n  span: number\n  text: string\n  timespan: PeriodType\n  multiplier: number\n}\n\nexport const PeriodTypeXAxisFormat: Record<PeriodType, string> = {\n  second: 'HH:mm:ss',\n  minute: 'HH:mm',\n  hour: 'MM-DD HH:mm',\n  day: 'YYYY-MM-DD',\n  week: 'YYYY-MM-DD',\n  month: 'YYYY-MM',\n  year: 'YYYY'\n}\n\nexport const PeriodTypeCrosshairTooltipFormat: Record<PeriodType, string> = {\n  second: 'HH:mm:ss',\n  minute: 'YYYY-MM-DD HH:mm',\n  hour: 'YYYY-MM-DD HH:mm',\n  day: 'YYYY-MM-DD',\n  week: 'YYYY-MM-DD',\n  month: 'YYYY-MM',\n  year: 'YYYY'\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type Nullable from '../common/Nullable'\nimport type Bounding from '../common/Bounding'\nimport { isFunction, isNumber, isString } from '../common/utils/typeChecks'\n\nimport AxisImp, { type AxisTemplate, type Axis, type AxisRange, type AxisTick } from './Axis'\n\nimport type DrawPane from '../pane/DrawPane'\nimport { calcTextWidth } from '../common/utils/canvas'\nimport { PeriodTypeXAxisFormat } from '../common/Period'\n\nexport type XAxisTemplate = Pick<AxisTemplate, 'name' | 'scrollZoomEnabled' | 'createTicks'>\n\nexport interface XAxis extends Axis, Required<XAxisTemplate> {\n  convertTimestampFromPixel: (pixel: number) => Nullable<number>\n  convertTimestampToPixel: (timestamp: number) => number\n}\n\nexport type XAxisConstructor = new (parent: DrawPane) => XAxis\n\nexport default abstract class XAxisImp extends AxisImp implements XAxis {\n  constructor (parent: DrawPane, xAxis: XAxisTemplate) {\n    super(parent)\n    this.override(xAxis)\n  }\n\n  override (xAxis: XAxisTemplate): void {\n    const {\n      name,\n      scrollZoomEnabled,\n      createTicks\n    } = xAxis\n    if (!isString(this.name)) {\n      this.name = name\n    }\n    this.scrollZoomEnabled = scrollZoomEnabled ?? this.scrollZoomEnabled\n    this.createTicks = createTicks ?? this.createTicks\n  }\n\n  protected override createRangeImp (): AxisRange {\n    const chartStore = this.getParent().getChart().getChartStore()\n    const visibleDataRange = chartStore.getVisibleRange()\n    const { realFrom, realTo } = visibleDataRange\n    const af = realFrom\n    const at = realTo\n    const diff = realTo - realFrom + 1\n    const range = {\n      from: af,\n      to: at,\n      range: diff,\n      realFrom: af,\n      realTo: at,\n      realRange: diff,\n      displayFrom: af,\n      displayTo: at,\n      displayRange: diff\n    }\n    return range\n  }\n\n  protected override createTicksImp (): AxisTick[] {\n    const { realFrom, realTo, from } = this.getRange()\n    const chartStore = this.getParent().getChart().getChartStore()\n    const formatDate = chartStore.getInnerFormatter().formatDate\n    const period = chartStore.getPeriod()\n    const ticks: AxisTick[] = []\n\n    const barSpace = chartStore.getBarSpace().bar\n    const textStyles = chartStore.getStyles().xAxis.tickText\n    const tickTextWidth = Math.max(calcTextWidth('YYYY-MM-DD HH:mm:ss', textStyles.size, textStyles.weight, textStyles.family), this.getBounding().width / 8)\n    let tickBetweenBarCount = Math.ceil(tickTextWidth / barSpace)\n    if (tickBetweenBarCount % 2 !== 0) {\n      tickBetweenBarCount += 1\n    }\n    const startDataIndex = Math.max(0, Math.floor(realFrom / tickBetweenBarCount) * tickBetweenBarCount)\n\n    for (let i = startDataIndex; i < realTo; i += tickBetweenBarCount) {\n      if (i >= from) {\n        const timestamp = chartStore.dataIndexToTimestamp(i)\n        if (isNumber(timestamp)) {\n          ticks.push({\n            coord: this.convertToPixel(i),\n            value: timestamp,\n            text: formatDate(timestamp, PeriodTypeXAxisFormat[period?.type ?? 'day'], 'xAxis')\n          })\n        }\n      }\n    }\n\n    if (isFunction(this.createTicks)) {\n      return this.createTicks({\n        range: this.getRange(),\n        bounding: this.getBounding(),\n        defaultTicks: ticks\n      })\n    }\n    return ticks\n  }\n\n  override getAutoSize (): number {\n    const styles = this.getParent().getChart().getStyles()\n    const xAxisStyles = styles.xAxis\n    const height = xAxisStyles.size\n    if (height !== 'auto') {\n      return height\n    }\n    const crosshairStyles = styles.crosshair\n    let xAxisHeight = 0\n    if (xAxisStyles.show) {\n      if (xAxisStyles.axisLine.show) {\n        xAxisHeight += xAxisStyles.axisLine.size\n      }\n      if (xAxisStyles.tickLine.show) {\n        xAxisHeight += xAxisStyles.tickLine.length\n      }\n      if (xAxisStyles.tickText.show) {\n        xAxisHeight += (xAxisStyles.tickText.marginStart + xAxisStyles.tickText.marginEnd + xAxisStyles.tickText.size)\n      }\n    }\n    let crosshairVerticalTextHeight = 0\n    if (\n      crosshairStyles.show &&\n      crosshairStyles.vertical.show &&\n      crosshairStyles.vertical.text.show\n    ) {\n      crosshairVerticalTextHeight += (\n        crosshairStyles.vertical.text.paddingTop +\n        crosshairStyles.vertical.text.paddingBottom +\n        crosshairStyles.vertical.text.borderSize * 2 +\n        crosshairStyles.vertical.text.size\n      )\n    }\n    return Math.max(xAxisHeight, crosshairVerticalTextHeight)\n  }\n\n  protected override getBounding (): Bounding {\n    return this.getParent().getMainWidget().getBounding()\n  }\n\n  convertTimestampFromPixel (pixel: number): Nullable<number> {\n    const chartStore = this.getParent().getChart().getChartStore()\n    const dataIndex = chartStore.coordinateToDataIndex(pixel)\n    return chartStore.dataIndexToTimestamp(dataIndex)\n  }\n\n  convertTimestampToPixel (timestamp: number): number {\n    const chartStore = this.getParent().getChart().getChartStore()\n    const dataIndex = chartStore.timestampToDataIndex(timestamp)\n    return chartStore.dataIndexToCoordinate(dataIndex)\n  }\n\n  convertFromPixel (pixel: number): number {\n    return this.getParent().getChart().getChartStore().coordinateToDataIndex(pixel)\n  }\n\n  convertToPixel (value: number): number {\n    return this.getParent().getChart().getChartStore().dataIndexToCoordinate(value)\n  }\n\n  static extend (template: XAxisTemplate): XAxisConstructor {\n    class Custom extends XAxisImp {\n      constructor (parent: DrawPane) {\n        super(parent, template)\n      }\n    }\n    return Custom\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { AxisTemplate } from '../../component/Axis'\n\nconst normal: AxisTemplate = {\n  name: 'normal'\n}\n\nexport default normal\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport XAxisImp, { type XAxisTemplate, type XAxisConstructor } from '../../component/XAxis'\n\nimport normal from './normal'\n\nconst xAxises: Record<string, XAxisConstructor> = {\n  normal: XAxisImp.extend(normal)\n}\n\nfunction registerXAxis (axis: XAxisTemplate): void {\n  xAxises[axis.name] = XAxisImp.extend(axis)\n}\n\nfunction getXAxisClass (name: string): XAxisConstructor {\n  return xAxises[name] ?? xAxises.normal\n}\n\nexport {\n  registerXAxis,\n  getXAxisClass\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { AxisCreate } from '../component/Axis'\n\nexport type PaneState = 'normal' | 'maximize' | 'minimize'\n\nexport interface PaneOptions {\n  id?: string\n  height?: number\n  minHeight?: number\n  dragEnabled?: boolean\n  order?: number\n  state?: PaneState,\n  axis?: Partial<AxisCreate>\n}\n\nexport const PANE_MIN_HEIGHT = 30\n\nexport const PANE_DEFAULT_HEIGHT = 100\n\nexport const PaneIdConstants = {\n  CANDLE: 'candle_pane',\n  INDICATOR: 'indicator_pane_',\n  X_AXIS: 'x_axis_pane'\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type Bounding from '../common/Bounding'\nimport { isFunction, isNumber, isString, isValid, merge } from '../common/utils/typeChecks'\nimport { index10, getPrecision, nice, round } from '../common/utils/number'\nimport { calcTextWidth } from '../common/utils/canvas'\nimport { formatPrecision } from '../common/utils/format'\nimport { SymbolDefaultPrecisionConstants } from '../common/SymbolInfo'\n\nimport AxisImp, {\n  type AxisTemplate, type Axis, type AxisRange,\n  type AxisTick, type AxisValueToValueCallback,\n  type AxisMinSpanCallback, type AxisCreateRangeCallback,\n  type AxisPosition\n} from './Axis'\n\nimport type DrawPane from '../pane/DrawPane'\n\nimport { PaneIdConstants } from '../pane/types'\n\nexport type YAxisTemplate = AxisTemplate\n\nconst TICK_COUNT = 8\n\nexport interface YAxis extends Axis, Required<YAxisTemplate> {\n  isFromZero: () => boolean\n  isInCandle: () => boolean\n  convertToNicePixel: (value: number) => number\n}\n\nexport type YAxisConstructor = new (parent: DrawPane) => YAxis\n\nexport default abstract class YAxisImp extends AxisImp implements YAxis {\n  reverse = false\n  inside = false\n  position: AxisPosition = 'right'\n  gap = {\n    top: 0.2,\n    bottom: 0.1\n  }\n\n  createRange: AxisCreateRangeCallback = params => params.defaultRange\n  minSpan: AxisMinSpanCallback = precision => index10(-precision)\n  valueToRealValue: AxisValueToValueCallback = value => value\n  realValueToDisplayValue: AxisValueToValueCallback = value => value\n  displayValueToRealValue: AxisValueToValueCallback = value => value\n  realValueToValue: AxisValueToValueCallback = value => value\n  displayValueToText: ((value: number, precision: number) => string) = (value, precision) => formatPrecision(value, precision)\n\n  constructor (parent: DrawPane, yAxis: YAxisTemplate) {\n    super(parent)\n    this.override(yAxis)\n  }\n\n  override (yAxis: YAxisTemplate): void {\n    const {\n      name,\n      gap,\n      ...others\n    } = yAxis\n    if (!isString(this.name)) {\n      this.name = name\n    }\n    merge(this.gap, gap)\n    merge(this, others)\n  }\n\n  protected override createRangeImp (): AxisRange {\n    const parent = this.getParent()\n    const chart = parent.getChart()\n    const chartStore = chart.getChartStore()\n    const paneId = parent.getId()\n    let min = Number.MAX_SAFE_INTEGER\n    let max = Number.MIN_SAFE_INTEGER\n    let shouldOhlc = false\n    let specifyMin = Number.MAX_SAFE_INTEGER\n    let specifyMax = Number.MIN_SAFE_INTEGER\n    let indicatorPrecision = Number.MAX_SAFE_INTEGER\n    const indicators = chartStore.getIndicatorsByPaneId(paneId)\n    indicators.forEach(indicator => {\n      shouldOhlc ||= indicator.shouldOhlc\n      indicatorPrecision = Math.min(indicatorPrecision, indicator.precision)\n      if (isNumber(indicator.minValue)) {\n        specifyMin = Math.min(specifyMin, indicator.minValue)\n      }\n      if (isNumber(indicator.maxValue)) {\n        specifyMax = Math.max(specifyMax, indicator.maxValue)\n      }\n    })\n\n    let precision = 4\n    const inCandle = this.isInCandle()\n    if (inCandle) {\n      const pricePrecision = chartStore.getSymbol()?.pricePrecision ?? SymbolDefaultPrecisionConstants.PRICE\n      if (indicatorPrecision !== Number.MAX_SAFE_INTEGER) {\n        precision = Math.min(indicatorPrecision, pricePrecision)\n      } else {\n        precision = pricePrecision\n      }\n    } else {\n      if (indicatorPrecision !== Number.MAX_SAFE_INTEGER) {\n        precision = indicatorPrecision\n      }\n    }\n    const visibleRangeDataList = chartStore.getVisibleRangeDataList()\n    const candleStyles = chart.getStyles().candle\n    const isArea = candleStyles.type === 'area'\n    const areaValueKey = candleStyles.area.value\n    const shouldCompareHighLow = (inCandle && !isArea) || (!inCandle && shouldOhlc)\n    visibleRangeDataList.forEach((visibleData) => {\n      const dataIndex = visibleData.dataIndex\n      const data = visibleData.data.current\n      if (isValid(data)) {\n        if (shouldCompareHighLow) {\n          min = Math.min(min, data.low)\n          max = Math.max(max, data.high)\n        }\n        if (inCandle && isArea) {\n          const value = data[areaValueKey]\n          if (isNumber(value)) {\n            min = Math.min(min, value)\n            max = Math.max(max, value)\n          }\n        }\n      }\n      indicators.forEach(({ result, figures }) => {\n        const data = result[dataIndex] ?? {}\n        figures.forEach(figure => {\n          // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment -- ignore\n          const value = data[figure.key]\n          if (isNumber(value)) {\n            min = Math.min(min, value)\n            max = Math.max(max, value)\n          }\n        })\n      })\n    })\n\n    if (min !== Number.MAX_SAFE_INTEGER && max !== Number.MIN_SAFE_INTEGER) {\n      min = Math.min(specifyMin, min)\n      max = Math.max(specifyMax, max)\n    } else {\n      min = 0\n      max = 10\n    }\n    const defaultDiff = max - min\n    const defaultRange = {\n      from: min,\n      to: max,\n      range: defaultDiff,\n      realFrom: min,\n      realTo: max,\n      realRange: defaultDiff,\n      displayFrom: min,\n      displayTo: max,\n      displayRange: defaultDiff\n    }\n\n    const range = this.createRange({\n      chart,\n      paneId,\n      defaultRange\n    })\n    let realFrom = range.realFrom\n    let realTo = range.realTo\n    let realRange = range.realRange\n    const minSpan = this.minSpan(precision)\n    if (\n      realFrom === realTo || realRange < minSpan\n    ) {\n      const minCheck = specifyMin === realFrom\n      const maxCheck = specifyMax === realTo\n      const halfTickCount = TICK_COUNT / 2\n      realFrom = minCheck ? realFrom : (maxCheck ? realFrom - TICK_COUNT * minSpan : realFrom - halfTickCount * minSpan)\n      realTo = maxCheck ? realTo : (minCheck ? realTo + TICK_COUNT * minSpan : realTo + halfTickCount * minSpan)\n    }\n\n    const height = this.getBounding().height\n    const { top, bottom } = this.gap\n    let topRate = top\n    if (topRate >= 1) {\n      topRate = topRate / height\n    }\n    let bottomRate = bottom\n    if (bottomRate >= 1) {\n      bottomRate = bottomRate / height\n    }\n    realRange = realTo - realFrom\n    realFrom = realFrom - realRange * bottomRate\n    realTo = realTo + realRange * topRate\n\n    const from = this.realValueToValue(realFrom, { range })\n    const to = this.realValueToValue(realTo, { range })\n    const displayFrom = this.realValueToDisplayValue(realFrom, { range })\n    const displayTo = this.realValueToDisplayValue(realTo, { range })\n    return {\n      from,\n      to,\n      range: to - from,\n      realFrom,\n      realTo,\n      realRange: realTo - realFrom,\n      displayFrom,\n      displayTo,\n      displayRange: displayTo - displayFrom\n    }\n  }\n\n  /**\n   * 是否是蜡烛图轴\n   * @return {boolean}\n   */\n  isInCandle (): boolean {\n    return this.getParent().getId() === PaneIdConstants.CANDLE\n  }\n\n  /**\n   * 是否从y轴0开始\n   * @return {boolean}\n   */\n  isFromZero (): boolean {\n    return (\n      (this.position === 'left' && this.inside) ||\n      (this.position === 'right' && !this.inside)\n    )\n  }\n\n  protected override createTicksImp (): AxisTick[] {\n    const range = this.getRange()\n    const { displayFrom, displayTo, displayRange } = range\n    const ticks: AxisTick[] = []\n\n    if (displayRange >= 0) {\n      const interval = nice(displayRange / TICK_COUNT)\n      const precision = getPrecision(interval)\n\n      const first = round(Math.ceil(displayFrom / interval) * interval, precision)\n      const last = round(Math.floor(displayTo / interval) * interval, precision)\n      let n = 0\n      let f = first\n\n      if (interval !== 0) {\n        while (f <= last) {\n          const v = f.toFixed(precision)\n          ticks[n] = { text: v, coord: 0, value: v }\n          ++n\n          f += interval\n        }\n      }\n    }\n\n    const pane = this.getParent()\n    const height = pane.getYAxisWidget()?.getBounding().height ?? 0\n    const chartStore = pane.getChart().getChartStore()\n    const optimalTicks: AxisTick[] = []\n    const indicators = chartStore.getIndicatorsByPaneId(pane.getId())\n    const styles = chartStore.getStyles()\n    let precision = 0\n    let shouldFormatBigNumber = false\n    if (this.isInCandle()) {\n      precision = chartStore.getSymbol()?.pricePrecision ?? SymbolDefaultPrecisionConstants.PRICE\n    } else {\n      indicators.forEach(indicator => {\n        precision = Math.max(precision, indicator.precision)\n        shouldFormatBigNumber ||= indicator.shouldFormatBigNumber\n      })\n    }\n    const formatter = chartStore.getInnerFormatter()\n    const thousandsSeparator = chartStore.getThousandsSeparator()\n    const decimalFold = chartStore.getDecimalFold()\n    const textHeight = styles.xAxis.tickText.size\n    let validY = NaN\n    ticks.forEach(({ value }) => {\n      let v = this.displayValueToText(+value, precision)\n      const y = this.convertToPixel(\n        this.realValueToValue(\n          this.displayValueToRealValue(+value, { range }),\n          { range }\n        )\n      )\n      if (shouldFormatBigNumber) {\n        v = formatter.formatBigNumber(value)\n      }\n      v = decimalFold.format(thousandsSeparator.format(v))\n      const validYNumber = isNumber(validY)\n      if (\n        y > textHeight &&\n        y < height - textHeight &&\n        ((validYNumber && (Math.abs(validY - y) > textHeight * 2)) || !validYNumber)) {\n        optimalTicks.push({ text: v, coord: y, value })\n        validY = y\n      }\n    })\n    if (isFunction(this.createTicks)) {\n      return this.createTicks({\n        range: this.getRange(),\n        bounding: this.getBounding(),\n        defaultTicks: optimalTicks\n      })\n    }\n    return optimalTicks\n  }\n\n  override getAutoSize (): number {\n    const pane = this.getParent()\n    const chart = pane.getChart()\n    const chartStore = chart.getChartStore()\n    const styles = chartStore.getStyles()\n    const yAxisStyles = styles.yAxis\n    const width = yAxisStyles.size\n    if (width !== 'auto') {\n      return width\n    }\n    let yAxisWidth = 0\n    if (yAxisStyles.show) {\n      if (yAxisStyles.axisLine.show) {\n        yAxisWidth += yAxisStyles.axisLine.size\n      }\n      if (yAxisStyles.tickLine.show) {\n        yAxisWidth += yAxisStyles.tickLine.length\n      }\n      if (yAxisStyles.tickText.show) {\n        let textWidth = 0\n        this.getTicks().forEach(tick => {\n          textWidth = Math.max(textWidth, calcTextWidth(tick.text, yAxisStyles.tickText.size, yAxisStyles.tickText.weight, yAxisStyles.tickText.family))\n        })\n        yAxisWidth += (yAxisStyles.tickText.marginStart + yAxisStyles.tickText.marginEnd + textWidth)\n      }\n    }\n\n    const priceMarkStyles = styles.candle.priceMark\n    const lastPriceMarkTextVisible = priceMarkStyles.show && priceMarkStyles.last.show && priceMarkStyles.last.text.show\n    let lastPriceTextWidth = 0\n\n    const crosshairStyles = styles.crosshair\n    const crosshairHorizontalTextVisible = crosshairStyles.show && crosshairStyles.horizontal.show && crosshairStyles.horizontal.text.show\n    let crosshairHorizontalTextWidth = 0\n\n    if (lastPriceMarkTextVisible || crosshairHorizontalTextVisible) {\n      const pricePrecision = chartStore.getSymbol()?.pricePrecision ?? SymbolDefaultPrecisionConstants.PRICE\n      const max = this.getRange().displayTo\n\n      if (lastPriceMarkTextVisible) {\n        const dataList = chartStore.getDataList()\n        const data = dataList[dataList.length - 1]\n        if (isValid(data)) {\n          const { paddingLeft, paddingRight, size, family, weight } = priceMarkStyles.last.text\n          lastPriceTextWidth = paddingLeft + calcTextWidth(formatPrecision(data.close, pricePrecision), size, weight, family) + paddingRight\n          const formatExtendText = chartStore.getInnerFormatter().formatExtendText\n          priceMarkStyles.last.extendTexts.forEach((item, index) => {\n            const text = formatExtendText({ type: 'last_price', data, index })\n            if (text.length > 0 && item.show) {\n              lastPriceTextWidth = Math.max(lastPriceTextWidth, item.paddingLeft + calcTextWidth(text, item.size, item.weight, item.family) + item.paddingRight)\n            }\n          })\n        }\n      }\n\n      if (crosshairHorizontalTextVisible) {\n        const indicators = chartStore.getIndicatorsByPaneId(pane.getId())\n        let indicatorPrecision = 0\n        let shouldFormatBigNumber = false\n        indicators.forEach(indicator => {\n          indicatorPrecision = Math.max(indicator.precision, indicatorPrecision)\n          shouldFormatBigNumber ||= indicator.shouldFormatBigNumber\n        })\n        let precision = 2\n        if (this.isInCandle()) {\n          const lastValueMarkStyles = styles.indicator.lastValueMark\n          if (lastValueMarkStyles.show && lastValueMarkStyles.text.show) {\n            precision = Math.max(indicatorPrecision, pricePrecision)\n          } else {\n            precision = pricePrecision\n          }\n        } else {\n          precision = indicatorPrecision\n        }\n        let valueText = formatPrecision(max, precision)\n        // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition -- ignore\n        if (shouldFormatBigNumber) {\n          valueText = chartStore.getInnerFormatter().formatBigNumber(valueText)\n        }\n        valueText = chartStore.getDecimalFold().format(valueText)\n        crosshairHorizontalTextWidth += (\n          crosshairStyles.horizontal.text.paddingLeft +\n          crosshairStyles.horizontal.text.paddingRight +\n          crosshairStyles.horizontal.text.borderSize * 2 +\n          calcTextWidth(\n            valueText,\n            crosshairStyles.horizontal.text.size,\n            crosshairStyles.horizontal.text.weight,\n            crosshairStyles.horizontal.text.family\n          )\n        )\n      }\n    }\n    return Math.max(yAxisWidth, lastPriceTextWidth, crosshairHorizontalTextWidth)\n  }\n\n  protected override getBounding (): Bounding {\n    return this.getParent().getYAxisWidget()!.getBounding()\n  }\n\n  convertFromPixel (pixel: number): number {\n    const height = this.getBounding().height\n    const range = this.getRange()\n    const { realFrom, realRange } = range\n    const rate = this.reverse ? pixel / height : 1 - pixel / height\n    const realValue = rate * realRange + realFrom\n    return this.realValueToValue(realValue, { range })\n  }\n\n  convertToPixel (value: number): number {\n    const range = this.getRange()\n    const realValue = this.valueToRealValue(value, { range })\n    const height = this.getParent().getYAxisWidget()?.getBounding().height ?? 0\n    const { realFrom, realRange } = range\n    const rate = (realValue - realFrom) / realRange\n    return this.reverse ? Math.round(rate * height) : Math.round((1 - rate) * height)\n  }\n\n  convertToNicePixel (value: number): number {\n    const height = this.getParent().getYAxisWidget()?.getBounding().height ?? 0\n    const pixel = this.convertToPixel(value)\n    return Math.round(Math.max(height * 0.05, Math.min(pixel, height * 0.98)))\n  }\n\n  static extend (template: YAxisTemplate): YAxisConstructor {\n    class Custom extends YAxisImp {\n      constructor (parent: DrawPane) {\n        super(parent, template)\n      }\n    }\n    return Custom\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { AxisTemplate } from '../../component/Axis'\n\nconst normal: AxisTemplate = {\n  name: 'normal'\n}\n\nexport default normal\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { formatPrecision } from '../../common/utils/format'\nimport { isValid } from '../../common/utils/typeChecks'\nimport type { AxisTemplate } from '../../component/Axis'\n\nconst percentage: AxisTemplate = {\n  name: 'percentage',\n  minSpan: () => Math.pow(10, -2),\n  displayValueToText: value => `${formatPrecision(value, 2)}%`,\n  valueToRealValue: (value, { range }) => (value - range.from) / range.range * range.realRange + range.realFrom,\n  realValueToValue: (value, { range }) => (value - range.realFrom) / range.realRange * range.range + range.from,\n  createRange: ({ chart, defaultRange }) => {\n    const kLineDataList = chart.getDataList()\n    const visibleRange = chart.getVisibleRange()\n    const kLineData = kLineDataList[visibleRange.from]\n    if (isValid(kLineData)) {\n      const { from, to, range } = defaultRange\n      const realFrom = (defaultRange.from - kLineData.close) / kLineData.close * 100\n      const realTo = (defaultRange.to - kLineData.close) / kLineData.close * 100\n      const realRange = realTo - realFrom\n      return {\n        from,\n        to,\n        range,\n        realFrom,\n        realTo,\n        realRange,\n        displayFrom: realFrom,\n        displayTo: realTo,\n        displayRange: realRange\n      }\n    }\n    return defaultRange\n  }\n}\n\nexport default percentage\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { log10, index10 } from '../../common/utils/number'\nimport type { AxisTemplate } from '../../component/Axis'\n\nconst logarithm: AxisTemplate = {\n  name: 'logarithm',\n  minSpan: (precision) => 0.05 * index10(-precision),\n  valueToRealValue: (value) => value < 0 ? -log10(Math.abs(value)) : log10(value),\n  realValueToDisplayValue: (value) => value < 0 ? -index10(Math.abs(value)) : index10(value),\n  displayValueToRealValue: (value) => value < 0 ? -log10(Math.abs(value)) : log10(value),\n  realValueToValue: (value) => value < 0 ? -index10(Math.abs(value)) : index10(value),\n  createRange: ({ defaultRange }) => {\n    const { from, to, range } = defaultRange\n    const realFrom = from < 0 ? -log10(Math.abs(from)) : log10(from)\n    const realTo = to < 0 ? -log10(Math.abs(to)) : log10(to)\n    return {\n      from,\n      to,\n      range,\n      realFrom,\n      realTo,\n      realRange: realTo - realFrom,\n      displayFrom: from,\n      displayTo: to,\n      displayRange: range\n    }\n  }\n}\n\nexport default logarithm\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport YAxisImp, { type YAxisTemplate, type YAxisConstructor } from '../../component/YAxis'\n\nimport normal from './normal'\nimport percentage from './percentage'\nimport logarithm from './logarithm'\n\nconst yAxises: Record<string, YAxisConstructor> = {\n  normal: YAxisImp.extend(normal),\n  percentage: YAxisImp.extend(percentage),\n  logarithm: YAxisImp.extend(logarithm)\n}\n\nfunction registerYAxis (axis: YAxisTemplate): void {\n  yAxises[axis.name] = YAxisImp.extend(axis)\n}\n\nfunction getYAxisClass (name: string): YAxisConstructor {\n  return yAxises[name] ?? yAxises.normal\n}\n\nexport {\n  registerYAxis,\n  getYAxisClass\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// @ts-ignore\nconst DEV = process.env.NODE_ENV === 'development'\n\nfunction log(templateText: string, tagStyle: string, messageStyle: string, api: string, invalidParam: string, append: string): void {\n  if (DEV) {\n    const apiStr = api !== '' ? `Call api \\`${api}\\`${invalidParam !== '' || append !== '' ? ', ' : '.'}` : ''\n    const invalidParamStr = invalidParam !== '' ? `invalid parameter \\`${invalidParam}\\`${append !== '' ? ', ' : '.'}` : ''\n    const appendStr = append !== '' ? append : ''\n    console.log(templateText, tagStyle, messageStyle, apiStr, invalidParamStr, appendStr)\n  }\n}\n\nexport function logWarn(api: string, invalidParam: string, append?: string): void {\n  log(\n    '%c😑 klinecharts warning%c %s%s%s',\n    'padding:3px 4px;border-radius:2px;color:#ffffff;background-color:#FF9600',\n    'color:#FF9600',\n    api, invalidParam, append ?? ''\n  )\n}\n\nexport function logError(api: string, invalidParam: string, append?: string): void {\n  log(\n    '%c😟 klinecharts error%c %s%s%s',\n    'padding:3px 4px;border-radius:2px;color:#ffffff;background-color:#F92855;',\n    'color:#F92855;',\n    api, invalidParam, append ?? ''\n  )\n}\n\nexport function logTag(): void {\n  log(\n    '%c❤️ Welcome to klinecharts. Version is __VERSION__',\n    'border-radius:4px;border:dashed 1px #1677FF;line-height:70px;padding:0 20px;margin:16px 0;font-size:14px;color:#1677FF;',\n    '',\n    '',\n    '',\n    ''\n  )\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { isValid, merge } from './utils/typeChecks'\n\nexport default interface Bounding {\n  width: number\n  height: number\n  left: number\n  right: number\n  top: number\n  bottom: number\n}\n\nexport function createDefaultBounding (bounding?: Partial<Bounding>): Bounding {\n  const defaultBounding: Bounding = {\n    width: 0,\n    height: 0,\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0\n  }\n  if (isValid(bounding)) {\n    merge(defaultBounding, bounding)\n  }\n  return defaultBounding\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { isFunction } from './typeChecks'\n\nexport const DEFAULT_REQUEST_ID = -1\n\nexport function requestAnimationFrame (fn: (params: unknown) => unknown): number {\n  if (isFunction(window.requestAnimationFrame)) {\n    return window.requestAnimationFrame(fn)\n  }\n  return window.setTimeout(fn, 20)\n}\n\nexport function cancelAnimationFrame (id: number): void {\n  if (isFunction(window.cancelAnimationFrame)) {\n    window.cancelAnimationFrame(id)\n  } else {\n    window.clearTimeout(id)\n  }\n}\n\nexport function requestIdleCallback (fn: IdleRequestCallback): number {\n  if (isFunction(window.requestIdleCallback)) {\n    return window.requestIdleCallback(fn)\n  }\n  const startTime = performance.now()\n  return window.setTimeout(function () {\n    fn({\n      didTimeout: false,\n      timeRemaining () {\n        return Math.max(0, 50 - (performance.now() - startTime))\n      }\n    })\n  }, 1)\n}\n\nexport function cancelIdleCallback (id: number): void {\n  if (isFunction(window.cancelIdleCallback)) {\n    window.cancelIdleCallback(id)\n  } else {\n    window.clearTimeout(id)\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type Nullable from './Nullable'\nimport { requestAnimationFrame } from './utils/compatible'\nimport { merge } from './utils/typeChecks'\n\ntype AnimationDoFrameCallback = (frameTime: number) => void\n\ninterface AnimationOptions {\n  duration: number\n  iterationCount: number\n}\n\nexport default class Animation {\n  private readonly _options = { duration: 500, iterationCount: 1 }\n\n  private _doFrameCallback: Nullable<AnimationDoFrameCallback>\n\n  private _currentIterationCount = 0\n  private _running = false\n\n  private _time = 0\n\n  constructor (options?: Partial<AnimationOptions>) {\n    merge(this._options, options)\n  }\n\n  _loop (): void {\n    this._running = true\n    const step: (() => void) = () => {\n      if (this._running) {\n        const diffTime = new Date().getTime() - this._time\n        if (diffTime < this._options.duration) {\n          this._doFrameCallback?.(diffTime)\n          requestAnimationFrame(step)\n        } else {\n          this.stop()\n          this._currentIterationCount++\n          if (this._currentIterationCount < this._options.iterationCount) {\n            this.start()\n          }\n        }\n      }\n    }\n    requestAnimationFrame(step)\n  }\n\n  doFrame (callback: AnimationDoFrameCallback): this {\n    this._doFrameCallback = callback\n    return this\n  }\n\n  setDuration (duration: number): this {\n    this._options.duration = duration\n    return this\n  }\n\n  setIterationCount (iterationCount: number): this {\n    this._options.iterationCount = iterationCount\n    return this\n  }\n\n  start (): void {\n    if (!this._running) {\n      this._time = new Date().getTime()\n      this._loop()\n    }\n  }\n\n  stop (): void {\n    if (this._running) {\n      this._doFrameCallback?.(this._options.duration)\n    }\n    this._running = false\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nlet baseId = 1\nlet prevIdTimestamp = new Date().getTime()\n\nexport function createId (prefix?: string): string {\n  const timestamp = new Date().getTime()\n  if (timestamp === prevIdTimestamp) {\n    ++baseId\n  } else {\n    baseId = 1\n  }\n  prevIdTimestamp = timestamp\n  return `${prefix ?? ''}${timestamp}_${baseId}`\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Create dom\n * @param tagName\n * @param styles\n * @return {*}\n */\nexport function createDom<K extends keyof HTMLElementTagNameMap> (tagName: K, styles?: Partial<CSSStyleDeclaration>): HTMLElementTagNameMap[K] {\n  const dom = document.createElement(tagName)\n  const s = styles ?? {}\n  // eslint-disable-next-line guard-for-in -- ignore\n  for (const key in s) {\n    (dom.style)[key] = s[key] ?? ''\n  }\n  return dom\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport default interface VisibleRange {\n  readonly from: number\n  readonly to: number\n  readonly realFrom: number\n  readonly realTo: number\n}\n\nexport function getDefaultVisibleRange (): VisibleRange {\n  return { from: 0, to: 0, realFrom: 0, realTo: 0 }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type Nullable from './Nullable'\nimport { isValid } from './utils/typeChecks'\n\ntype TaskFinishedCallback = () => void\n\nexport default class TaskScheduler {\n  private _holdingTasks: Nullable<Record<string, Promise<unknown>>> = null\n\n  private _running = false\n\n  private readonly _callback: Nullable<TaskFinishedCallback>\n\n  constructor (callback: TaskFinishedCallback) {\n    this._callback = callback\n  }\n\n  add (tasks: Record<string, Promise<unknown>>): void {\n    if (!this._running) {\n      void this._runTask(tasks)\n    } else {\n      if (isValid(this._holdingTasks)) {\n        this._holdingTasks = {\n          ...this._holdingTasks,\n          ...tasks\n        }\n      } else {\n        this._holdingTasks = tasks\n      }\n    }\n  }\n\n  private async _runTask (tasks: Record<string, Promise<unknown>>): Promise<void> {\n    this._running = true\n    try {\n      await Promise.all(Object.values(tasks))\n    } finally {\n      this._running = false\n      this._callback?.()\n      if (isValid(this._holdingTasks)) {\n        const next = this._holdingTasks\n        void this._runTask(next)\n        this._holdingTasks = null\n      }\n    }\n  }\n\n  clear (): void {\n    this._holdingTasks = null\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { isFunction } from './utils/typeChecks'\n\nexport type ActionCallback = (data?: unknown) => void\n\nexport type ActionType = 'onZoom' | 'onScroll' | 'onVisibleRangeChange' | 'onCandleTooltipFeatureClick' | 'onIndicatorTooltipFeatureClick' | 'onCrosshairFeatureClick' | 'onCrosshairChange' | 'onCandleBarClick' | 'onPaneDrag' | 'onTooltipIconClick'\nexport default class Action {\n  private _callbacks: ActionCallback[] = []\n\n  subscribe(callback: ActionCallback): void {\n    const index = this._callbacks.indexOf(callback)\n    if (index < 0) {\n      this._callbacks.push(callback)\n    }\n  }\n\n  unsubscribe(callback?: ActionCallback): void {\n    if (isFunction(callback)) {\n      const index = this._callbacks.indexOf(callback)\n      if (index > -1) {\n        this._callbacks.splice(index, 1)\n      }\n    } else {\n      this._callbacks = []\n    }\n  }\n\n  execute(data?: unknown): void {\n    this._callbacks.forEach(callback => {\n      callback(data)\n    })\n  }\n\n  isEmpty(): boolean {\n    return this._callbacks.length === 0\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type Nullable from './common/Nullable'\nimport type PickPartial from './common/PickPartial'\nimport type DeepPartial from './common/DeepPartial'\nimport type PickRequired from './common/PickRequired'\nimport type { KLineData, VisibleRangeData } from './common/Data'\nimport type VisibleRange from './common/VisibleRange'\nimport type Coordinate from './common/Coordinate'\nimport { getDefaultVisibleRange } from './common/VisibleRange'\nimport TaskScheduler from './common/TaskScheduler'\nimport type Crosshair from './common/Crosshair'\nimport type BarSpace from './common/BarSpace'\nimport type { Period } from './common/Period'\nimport { SymbolDefaultPrecisionConstants, type SymbolInfo } from './common/SymbolInfo'\n\nimport Action from './common/Action'\nimport type { ActionType, ActionCallback } from './common/Action'\nimport { formatValue, formatTimestampByTemplate, formatBigNumber, formatThousands, formatFoldDecimal } from './common/utils/format'\nimport { getDefaultStyles, type Styles, type TooltipLegend } from './common/Styles'\nimport { isArray, isString, isValid, isNumber, isBoolean, merge } from './common/utils/typeChecks'\nimport { createId } from './common/utils/id'\nimport { binarySearchNearest } from './common/utils/number'\nimport { logWarn } from './common/utils/logger'\nimport { UpdateLevel } from './common/Updater'\nimport type { DataLoader, DataLoaderGetBarsParams, DataLoadMore, DataLoadType } from './common/DataLoader'\n\nexport type { DataLoadMore, DataLoadType }\n\nimport type { Options, Formatter, ThousandsSeparator, DecimalFold, FormatDateType, FormatDateParams, FormatBigNumber, FormatExtendText, FormatExtendTextParams, ZoomAnchor, ZoomAnchorType } from './Options'\n\nimport type { IndicatorOverride, IndicatorCreate, IndicatorFilter } from './component/Indicator'\nimport type IndicatorImp from './component/Indicator'\nimport { getIndicatorClass } from './extension/indicator/index'\n\nimport type OverlayImp from './component/Overlay'\nimport { type OverlayCreate, OVERLAY_ID_PREFIX, type OverlayFilter, type OverlayFigure, type OverlayOverride } from './component/Overlay'\nimport { getOverlayInnerClass } from './extension/overlay/index'\n\nimport { getStyles as getExtensionStyles } from './extension/styles/index'\n\nimport { PaneIdConstants } from './pane/types'\n\nimport type Chart from './Chart'\n\nconst BarSpaceLimitConstants = {\n  MIN: 1,\n  MAX: 50\n}\n\ntype ScrollLimitRole = 'bar_count' | 'distance'\n\nexport interface ProgressOverlayInfo {\n  paneId: string\n  overlay: OverlayImp\n  appointPaneFlag: boolean\n}\n\nexport type EventOverlayInfoFigureType = 'none' | 'point' | 'other'\n\nexport interface EventOverlayInfo {\n  paneId: string\n  overlay: Nullable<OverlayImp>\n  figureType: EventOverlayInfoFigureType\n  figureIndex: number\n  figure: Nullable<OverlayFigure>\n}\n\ntype ProcessOverlayEventCallback = (overlay: OverlayImp, figure: Nullable<OverlayFigure>) => boolean\n\nconst DEFAULT_BAR_SPACE = 10\n\nconst DEFAULT_OFFSET_RIGHT_DISTANCE = 80\n\nconst BAR_GAP_RATIO = 0.2\n\nexport const SCALE_MULTIPLIER = 10\n\nexport const DEFAULT_MIN_TIME_SPAN = 15 * 60 * 1000\n\nexport interface Store {\n  setStyles: (value: string | DeepPartial<Styles>) => void\n  getStyles: () => Styles\n  setFormatter: (formatter: Partial<Formatter>) => void\n  getFormatter: () => Formatter\n  setLocale: (locale: string) => void\n  getLocale: () => string\n  setTimezone: (timezone: string) => void\n  getTimezone: () => string\n  setThousandsSeparator: (thousandsSeparator: Partial<ThousandsSeparator>) => void\n  getThousandsSeparator: () => ThousandsSeparator\n  setDecimalFold: (decimalFold: Partial<DecimalFold>) => void\n  getDecimalFold: () => DecimalFold\n  setSymbol: (symbol: PickPartial<SymbolInfo, 'pricePrecision' | 'volumePrecision'>) => void\n  getSymbol: () => Nullable<SymbolInfo>\n  setPeriod: (period: Period) => void\n  getPeriod: () => Nullable<Period>\n  getDataList: () => KLineData[]\n  setOffsetRightDistance: (distance: number) => void\n  getOffsetRightDistance: () => number\n  setMaxOffsetLeftDistance: (distance: number) => void\n  setMaxOffsetRightDistance: (distance: number) => void\n  setLeftMinVisibleBarCount: (barCount: number) => void\n  setRightMinVisibleBarCount: (barCount: number) => void\n  setBarSpace: (space: number) => void\n  getBarSpace: () => BarSpace\n  getVisibleRange: () => VisibleRange\n  setDataLoader: (dataLoader: DataLoader) => void\n  overrideIndicator: (override: IndicatorCreate) => boolean\n  removeIndicator: (filter?: IndicatorFilter) => boolean\n  overrideOverlay: (override: Partial<OverlayCreate>) => boolean\n  removeOverlay: (filter?: OverlayFilter) => boolean\n  setZoomEnabled: (enabled: boolean) => void\n  isZoomEnabled: () => boolean\n  setZoomAnchor: (behavior: ZoomAnchor) => void\n  getZoomAnchor: () => ZoomAnchor\n  setScrollEnabled: (enabled: boolean) => void\n  isScrollEnabled: () => boolean\n  resetData: () => void\n  applyNewData: (data: KLineData[], more?: boolean) => void\n  applyMoreData: (data: KLineData[], more?: boolean) => void\n  updateData: (data: KLineData) => void\n  setYScrolling: (yScrolling: boolean) => void\n  getYScrolling: () => boolean\n}\n\nexport default class StoreImp implements Store {\n  /**\n   * Internal chart\n   */\n  private readonly _chart: Chart\n\n  /**\n   * Styles\n   */\n  private readonly _styles = getDefaultStyles()\n\n  /**\n   * Custom api\n   */\n  private readonly _formatter = {\n    formatDate: ({\n      dateTimeFormat,\n      timestamp,\n      template\n    }: FormatDateParams) => formatTimestampByTemplate(dateTimeFormat, timestamp, template),\n    formatBigNumber,\n    formatExtendText: (_: FormatExtendTextParams) => ''\n  }\n\n  /**\n   * Inner formatter\n   * @description Internal use only\n   */\n  private readonly _innerFormatter = {\n    formatDate: (timestamp: number, template: string, type: FormatDateType) => this._formatter.formatDate({ dateTimeFormat: this._dateTimeFormat, timestamp, template, type }),\n    formatBigNumber: (value: number | string) => this._formatter.formatBigNumber(value),\n    formatExtendText: (params: FormatExtendTextParams) => this._formatter.formatExtendText(params)\n  }\n\n  /**\n   * Locale\n   */\n  private _locale = 'en-US'\n\n  /**\n   * Thousands separator\n   */\n  private readonly _thousandsSeparator = {\n    sign: ',',\n    format: (value: string | number) => formatThousands(value, this._thousandsSeparator.sign)\n  }\n\n  /**\n   * Decimal fold\n   */\n  private readonly _decimalFold = {\n    threshold: 3,\n    format: (value: string | number) => formatFoldDecimal(value, this._decimalFold.threshold)\n  }\n\n  /**\n   * Symbol\n   */\n  private _symbol: Nullable<SymbolInfo> = null\n\n  /**\n   * Period\n   */\n  private _period: Nullable<Period> = null\n\n  /**\n   * Data source\n   */\n  private _dataList: KLineData[] = []\n\n  /**\n   * Load more data callback\n   */\n  private _dataLoader: Nullable<DataLoader> = null\n\n  /**\n   * Is loading data flag\n   */\n  private _loading = false\n\n  /**\n  * Whether there are forward and backward more flag\n   */\n  private readonly _dataLoadMore = { forward: false, backward: false }\n\n  /**\n     * Time format\n     */\n  private _dateTimeFormat: Intl.DateTimeFormat\n\n  /**\n   * Scale enabled flag\n   */\n  private _zoomEnabled = true\n\n  /**\n   * Zoom anchor point flag\n   */\n  private readonly _zoomAnchor: ZoomAnchor = {\n    main: 'cursor',\n    xAxis: 'cursor'\n  }\n\n  /**\n   * Scroll enabled flag\n   */\n  private _scrollEnabled = true\n\n  private _yScrolling = true\n\n  /**\n   * Total space of drawing area\n   */\n  private _totalBarSpace = 0\n\n  /**\n   * Space occupied by a single piece of data\n   */\n  private _barSpace = DEFAULT_BAR_SPACE\n\n  /**\n   * The space of the draw bar\n   */\n  private _gapBarSpace: number\n\n  /**\n   * Distance from the last data to the right of the drawing area\n   */\n  private _offsetRightDistance = DEFAULT_OFFSET_RIGHT_DISTANCE\n\n  /**\n   * The number of bar calculated from the distance of the last data to the right of the drawing area\n   */\n  private _lastBarRightSideDiffBarCount: number\n\n  /**\n   * The number of bar to the right of the drawing area from the last data when scrolling starts\n   */\n  private _startLastBarRightSideDiffBarCount = 0\n\n  /**\n   * Scroll limit role\n   */\n  private _scrollLimitRole: ScrollLimitRole = 'bar_count'\n\n  /**\n   * Scroll to the leftmost and rightmost visible bar\n   */\n  private readonly _minVisibleBarCount = { left: 2, right: 2 }\n\n  /**\n   * Scroll to the leftmost and rightmost distance\n   */\n  private readonly _maxOffsetDistance = { left: 50, right: 50 }\n\n  /**\n   * Start and end points of visible area data index\n   */\n  private _visibleRange = getDefaultVisibleRange()\n\n  /**\n   * Visible data array\n   */\n  private _visibleRangeDataList: VisibleRangeData[] = []\n\n  /**\n   * Visible highest lowest price data\n   */\n  private _visibleRangeHighLowPrice = [\n    { x: 0, price: Number.MIN_SAFE_INTEGER },\n    { x: 0, price: Number.MAX_SAFE_INTEGER }\n  ]\n\n  /**\n   * Crosshair info\n   */\n  private _crosshair: Crosshair = {}\n\n  /**\n   * Actions\n   */\n  private readonly _actions = new Map<ActionType, Action>()\n\n  /**\n   * Indicator\n   */\n  private readonly _indicators = new Map<string, IndicatorImp[]>()\n\n  /**\n   * Task scheduler\n   */\n  private readonly _taskScheduler: TaskScheduler\n\n  /**\n   * Overlay\n   */\n  private readonly _overlays = new Map<string, OverlayImp[]>()\n\n  /**\n   * Overlay information in painting\n   */\n  private _progressOverlayInfo: Nullable<ProgressOverlayInfo> = null\n\n  private _lastPriceMarkExtendTextUpdateTimers: Array<ReturnType<typeof setTimeout>> = []\n\n  /**\n   * Overlay information by the mouse pressed\n   */\n  private _pressedOverlayInfo: EventOverlayInfo = {\n    paneId: '',\n    overlay: null,\n    figureType: 'none',\n    figureIndex: -1,\n    figure: null\n  }\n\n  /**\n   * Overlay information by hover\n   */\n  private _hoverOverlayInfo: EventOverlayInfo = {\n    paneId: '',\n    overlay: null,\n    figureType: 'none',\n    figureIndex: -1,\n    figure: null\n  }\n\n  /**\n   * Overlay information by the mouse click\n   */\n  private _clickOverlayInfo: EventOverlayInfo = {\n    paneId: '',\n    overlay: null,\n    figureType: 'none',\n    figureIndex: -1,\n    figure: null\n  }\n\n  constructor(chart: Chart, options?: Options) {\n    this._chart = chart\n    this._calcOptimalBarSpace()\n    this._lastBarRightSideDiffBarCount = this._offsetRightDistance / this._barSpace\n    const { styles, locale, timezone, formatter, thousandsSeparator, decimalFold, zoomAnchor } = options ?? {}\n    if (isValid(styles)) {\n      this.setStyles(styles)\n    }\n    if (isString(locale)) {\n      this.setLocale(locale)\n    }\n    this.setTimezone(timezone ?? '')\n    if (isValid(formatter)) {\n      this.setFormatter(formatter)\n    }\n    if (isValid(thousandsSeparator)) {\n      this.setThousandsSeparator(thousandsSeparator)\n    }\n    if (isValid(decimalFold)) {\n      this.setDecimalFold(decimalFold)\n    }\n\n    if (isValid(zoomAnchor)) {\n      this.setZoomAnchor(zoomAnchor)\n    }\n\n    this._taskScheduler = new TaskScheduler(() => {\n      this._chart.layout({\n        measureWidth: true,\n        update: true,\n        buildYAxisTick: true\n      })\n    })\n  }\n\n  setStyles(value: string | DeepPartial<Styles>): void {\n    let styles: Nullable<DeepPartial<Styles>> = null\n    if (isString(value)) {\n      styles = getExtensionStyles(value)\n    } else {\n      styles = value\n    }\n    merge(this._styles, styles)\n    // `candle.tooltip.custom` should override\n    if (isArray(styles?.candle?.tooltip?.legend?.template)) {\n      this._styles.candle.tooltip.legend.template = styles.candle.tooltip.legend.template as TooltipLegend[]\n    }\n    if (isValid(styles?.candle?.priceMark?.last?.extendTexts)) {\n      this._clearLastPriceMarkExtendTextUpdateTimer()\n      const intervals: number[] = []\n      this._styles.candle.priceMark.last.extendTexts.forEach(item => {\n        const updateInterval = item.updateInterval\n        if (item.show && updateInterval > 0 && !intervals.includes(updateInterval)) {\n          intervals.push(updateInterval)\n          const timer = setInterval(() => {\n            this._chart.updatePane(UpdateLevel.Main, PaneIdConstants.CANDLE)\n          }, updateInterval)\n          this._lastPriceMarkExtendTextUpdateTimers.push(timer)\n        }\n      })\n    }\n  }\n\n  getStyles(): Styles { return this._styles }\n\n  setFormatter(formatter: Partial<Formatter>): void {\n    merge(this._formatter, formatter)\n  }\n\n  getFormatter(): Formatter { return this._formatter }\n\n  getInnerFormatter(): {\n    formatDate: (timestamp: number, template: string, type: FormatDateType) => string\n    formatBigNumber: FormatBigNumber,\n    formatExtendText: FormatExtendText\n  } {\n    return this._innerFormatter\n  }\n\n  setLocale(locale: string): void { this._locale = locale }\n\n  getLocale(): string { return this._locale }\n\n  setTimezone(timezone: string): void {\n    if (\n      !isValid(this._dateTimeFormat) ||\n      (this.getTimezone() !== timezone)\n    ) {\n      const options: Intl.DateTimeFormatOptions = {\n        hour12: false,\n        year: 'numeric',\n        month: '2-digit',\n        day: '2-digit',\n        hour: '2-digit',\n        minute: '2-digit',\n        second: '2-digit'\n      }\n      if (timezone.length > 0) {\n        options.timeZone = timezone\n      }\n      let dateTimeFormat: Nullable<Intl.DateTimeFormat> = null\n      try {\n        dateTimeFormat = new Intl.DateTimeFormat('en', options)\n      } catch (e) {\n        logWarn('', '', 'Timezone is error!!!')\n      }\n      if (dateTimeFormat !== null) {\n        this._dateTimeFormat = dateTimeFormat\n      }\n    }\n  }\n\n  getTimezone(): string { return this._dateTimeFormat.resolvedOptions().timeZone }\n\n  getDateTimeFormat(): Intl.DateTimeFormat {\n    return this._dateTimeFormat\n  }\n\n  setThousandsSeparator(thousandsSeparator: Partial<ThousandsSeparator>): void {\n    merge(this._thousandsSeparator, thousandsSeparator)\n  }\n\n  getThousandsSeparator(): ThousandsSeparator { return this._thousandsSeparator }\n\n  setDecimalFold(decimalFold: Partial<DecimalFold>): void { merge(this._decimalFold, decimalFold) }\n\n  getDecimalFold(): DecimalFold { return this._decimalFold }\n\n  setSymbol(symbol: PickPartial<SymbolInfo, 'pricePrecision' | 'volumePrecision'>): void {\n    this.resetData(() => {\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment -- ignore\n      // @ts-expect-error\n      this._symbol = {\n        pricePrecision: SymbolDefaultPrecisionConstants.PRICE,\n        volumePrecision: SymbolDefaultPrecisionConstants.VOLUME,\n        ...this._symbol,\n        ...symbol\n      }\n      this._synchronizeIndicatorSeriesPrecision()\n    })\n  }\n\n  getSymbol(): Nullable<SymbolInfo> {\n    return this._symbol\n  }\n\n  setPeriod(period: Period): void {\n    this.resetData(() => {\n      this._period = period\n    })\n  }\n\n  getPeriod(): Nullable<Period> {\n    return this._period\n  }\n\n  getDataList(): KLineData[] {\n    return this._dataList\n  }\n\n  getVisibleRangeDataList(): VisibleRangeData[] {\n    return this._visibleRangeDataList\n  }\n\n  getVisibleRangeHighLowPrice(): Array<{ price: number; x: number }> {\n    return this._visibleRangeHighLowPrice\n  }\n\n  private _addData(\n    data: KLineData | KLineData[],\n    type: DataLoadType,\n    more?: DataLoadMore\n  ): void {\n    let success = false\n    let adjustFlag = false\n    let dataLengthChange = 0\n    if (isArray<KLineData>(data)) {\n      const realMore = { backward: false, forward: false }\n      if (isBoolean(more)) {\n        realMore.backward = more\n        realMore.forward = more\n      } else {\n        realMore.backward = more?.backward ?? false\n        realMore.forward = more?.forward ?? false\n      }\n      dataLengthChange = data.length\n      switch (type) {\n        case 'init': {\n          this._clearData()\n          this._dataList = data\n          this._dataLoadMore.backward = realMore.backward\n          this._dataLoadMore.forward = realMore.forward\n          this.setOffsetRightDistance(this._offsetRightDistance)\n          adjustFlag = true\n          break\n        }\n        case 'backward': {\n          this._dataList = this._dataList.concat(data)\n          this._dataLoadMore.backward = realMore.backward\n          this._lastBarRightSideDiffBarCount -= dataLengthChange\n          adjustFlag = dataLengthChange > 0\n          break\n        }\n        case 'forward': {\n          this._dataList = data.concat(this._dataList)\n          this._dataLoadMore.forward = realMore.forward\n          adjustFlag = dataLengthChange > 0\n          break\n        }\n        default: {\n          break\n        }\n      }\n      success = true\n    } else {\n      const dataCount = this._dataList.length\n      // Determine where individual data should be added\n      const timestamp = data.timestamp\n      const lastDataTimestamp = formatValue(this._dataList[dataCount - 1], 'timestamp', 0) as number\n      if (timestamp > lastDataTimestamp) {\n        this._dataList.push(data)\n        let lastBarRightSideDiffBarCount = this.getLastBarRightSideDiffBarCount()\n        if (lastBarRightSideDiffBarCount < 0) {\n          this.setLastBarRightSideDiffBarCount(--lastBarRightSideDiffBarCount)\n        }\n        dataLengthChange = 1\n        success = true\n        adjustFlag = true\n      } else if (timestamp === lastDataTimestamp) {\n        this._dataList[dataCount - 1] = data\n        success = true\n        adjustFlag = true\n      }\n    }\n    if (success && adjustFlag) {\n      this._adjustVisibleRange()\n      this.setCrosshair(this._crosshair, { notInvalidate: true })\n      const filterIndicators = this.getIndicatorsByFilter({})\n      if (filterIndicators.length > 0) {\n        this._calcIndicator(filterIndicators)\n      } else {\n        this._chart.layout({\n          measureWidth: true,\n          update: true,\n          buildYAxisTick: true,\n          cacheYAxisWidth: type !== 'init'\n        })\n      }\n    }\n  }\n\n  setDataLoader(dataLoader: DataLoader): void {\n    this.resetData(() => {\n      this._dataLoader = dataLoader\n    })\n  }\n\n  private _calcOptimalBarSpace(): void {\n    const specialBarSpace = 4\n    const ratio = 1 - BAR_GAP_RATIO * Math.atan(Math.max(specialBarSpace, this._barSpace) - specialBarSpace) / (Math.PI * 0.5)\n    let gapBarSpace = Math.min(Math.floor(this._barSpace * ratio), Math.floor(this._barSpace))\n    if (gapBarSpace % 2 === 0 && gapBarSpace + 2 >= this._barSpace) {\n      --gapBarSpace\n    }\n    this._gapBarSpace = Math.max(1, gapBarSpace)\n  }\n\n  private _adjustVisibleRange(): void {\n    const totalBarCount = this._dataList.length\n    const visibleBarCount = this._totalBarSpace / this._barSpace\n\n    let leftMinVisibleBarCount = 0\n    let rightMinVisibleBarCount = 0\n\n    if (this._scrollLimitRole === 'distance') {\n      leftMinVisibleBarCount = (this._totalBarSpace - this._maxOffsetDistance.right) / this._barSpace\n      rightMinVisibleBarCount = (this._totalBarSpace - this._maxOffsetDistance.left) / this._barSpace\n    } else {\n      leftMinVisibleBarCount = this._minVisibleBarCount.left\n      rightMinVisibleBarCount = this._minVisibleBarCount.right\n    }\n\n    leftMinVisibleBarCount = Math.max(0, leftMinVisibleBarCount)\n    rightMinVisibleBarCount = Math.max(0, rightMinVisibleBarCount)\n\n    const maxRightOffsetBarCount = visibleBarCount - Math.min(leftMinVisibleBarCount, totalBarCount)\n    if (this._lastBarRightSideDiffBarCount > maxRightOffsetBarCount) {\n      this._lastBarRightSideDiffBarCount = maxRightOffsetBarCount\n    }\n\n    const minRightOffsetBarCount = -totalBarCount + Math.min(rightMinVisibleBarCount, totalBarCount)\n    if (this._lastBarRightSideDiffBarCount < minRightOffsetBarCount) {\n      this._lastBarRightSideDiffBarCount = minRightOffsetBarCount\n    }\n\n    let to = Math.round(this._lastBarRightSideDiffBarCount + totalBarCount + 0.5)\n    const realTo = to\n    if (to > totalBarCount) {\n      to = totalBarCount\n    }\n    let from = Math.round(to - visibleBarCount) - 1\n    if (from < 0) {\n      from = 0\n    }\n    const realFrom = this._lastBarRightSideDiffBarCount > 0 ? Math.round(totalBarCount + this._lastBarRightSideDiffBarCount - visibleBarCount) - 1 : from\n    this._visibleRange = { from, to, realFrom, realTo }\n    this.executeAction('onVisibleRangeChange', this._visibleRange)\n    this._visibleRangeDataList = []\n    this._visibleRangeHighLowPrice = [\n      { x: 0, price: Number.MIN_SAFE_INTEGER },\n      { x: 0, price: Number.MAX_SAFE_INTEGER }\n    ]\n    for (let i = realFrom; i < realTo; i++) {\n      const kLineData = this._dataList[i]\n      const x = this.dataIndexToCoordinate(i)\n      this._visibleRangeDataList.push({\n        dataIndex: i,\n        x,\n        data: {\n          prev: this._dataList[i - 1] ?? kLineData,\n          current: kLineData,\n          next: this._dataList[i + 1] ?? kLineData\n        }\n      })\n      if (isValid(kLineData)) {\n        if (this._visibleRangeHighLowPrice[0].price < kLineData.high) {\n          this._visibleRangeHighLowPrice[0].price = kLineData.high\n          this._visibleRangeHighLowPrice[0].x = x\n        }\n        if (this._visibleRangeHighLowPrice[1].price > kLineData.low) {\n          this._visibleRangeHighLowPrice[1].price = kLineData.low\n          this._visibleRangeHighLowPrice[1].x = x\n        }\n      }\n    }\n    // More processing and loading, more loading if there are callback methods and no data is being loaded\n    if (from === 0) {\n      if (this._dataLoadMore.forward) {\n        this._processDataLoad('forward')\n      }\n    } else if (to === totalBarCount) {\n      if (this._dataLoadMore.backward) {\n        this._processDataLoad('backward')\n      }\n    }\n  }\n\n  private _processDataLoad(type: DataLoadType): void {\n    if (!this._loading && isValid(this._dataLoader) && isValid(this._symbol) && isValid(this._period)) {\n      this._loading = true\n      const params: DataLoaderGetBarsParams = {\n        type,\n        symbol: this._symbol,\n        period: this._period,\n        timestamp: null,\n        callback: (data: KLineData[], more?: DataLoadMore) => {\n          this._loading = false\n          this._addData(data, type, more)\n          if (type === 'init') {\n            this._dataLoader?.subscribeBar?.({\n              symbol: this._symbol!,\n              period: this._period!,\n              callback: (data: KLineData) => {\n                this._addData(data, 'update')\n              }\n            })\n          }\n        }\n      }\n      switch (type) {\n        case 'backward': {\n          params.timestamp = this._dataList[this._dataList.length - 1]?.timestamp ?? null\n          break\n        }\n        case 'forward': {\n          params.timestamp = this._dataList[0]?.timestamp ?? null\n          break\n        }\n        default: {\n          break\n        }\n      }\n      void this._dataLoader.getBars(params)\n    }\n  }\n\n  private _processDataUnsubscribe(): void {\n    if (isValid(this._dataLoader) && isValid(this._symbol) && isValid(this._period)) {\n      this._dataLoader.unsubscribeBar?.({\n        symbol: this._symbol,\n        period: this._period\n      })\n    }\n  }\n\n  resetData(fn?: () => void): void {\n    this._processDataUnsubscribe()\n    fn?.()\n    this._loading = false\n    this._processDataLoad('init')\n  }\n\n  getBarSpace(): BarSpace {\n    return {\n      bar: this._barSpace,\n      halfBar: this._barSpace / 2,\n      gapBar: this._gapBarSpace,\n      halfGapBar: Math.floor(this._gapBarSpace / 2)\n    }\n  }\n\n  setBarSpace(barSpace: number, adjustBeforeFunc?: () => void): void {\n    if (barSpace < BarSpaceLimitConstants.MIN || barSpace > BarSpaceLimitConstants.MAX || this._barSpace === barSpace) {\n      return\n    }\n    this._barSpace = barSpace\n    this._calcOptimalBarSpace()\n    adjustBeforeFunc?.()\n    this._adjustVisibleRange()\n    this.setCrosshair(this._crosshair, { notInvalidate: true })\n    this._chart.layout({\n      measureWidth: true,\n      update: true,\n      buildYAxisTick: true,\n      cacheYAxisWidth: true\n    })\n  }\n\n  setYScrolling(yScrolling: boolean): void {\n    this._yScrolling = yScrolling\n  }\n\n  getYScrolling(): boolean {\n    return this._yScrolling\n  }\n\n  setTotalBarSpace(totalSpace: number): void {\n    if (this._totalBarSpace !== totalSpace) {\n      this._totalBarSpace = totalSpace\n      this._adjustVisibleRange()\n      this.setCrosshair(this._crosshair, { notInvalidate: true })\n    }\n  }\n\n  setOffsetRightDistance(distance: number, isUpdate?: boolean): this {\n    this._offsetRightDistance = this._scrollLimitRole === 'distance' ? Math.min(this._maxOffsetDistance.right, distance) : distance\n    this._lastBarRightSideDiffBarCount = this._offsetRightDistance / this._barSpace\n    if (isUpdate ?? false) {\n      this._adjustVisibleRange()\n      this.setCrosshair(this._crosshair, { notInvalidate: true })\n      this._chart.layout({\n        measureWidth: true,\n        update: true,\n        buildYAxisTick: true,\n        cacheYAxisWidth: true\n      })\n    }\n    return this\n  }\n\n  getInitialOffsetRightDistance(): number {\n    return this._offsetRightDistance\n  }\n\n  getOffsetRightDistance(): number {\n    return Math.max(0, this._lastBarRightSideDiffBarCount * this._barSpace)\n  }\n\n  getLastBarRightSideDiffBarCount(): number {\n    return this._lastBarRightSideDiffBarCount\n  }\n\n  setLastBarRightSideDiffBarCount(barCount: number): void {\n    this._lastBarRightSideDiffBarCount = barCount\n  }\n\n  setMaxOffsetLeftDistance(distance: number): void {\n    this._scrollLimitRole = 'distance'\n    this._maxOffsetDistance.left = distance\n  }\n\n  setMaxOffsetRightDistance(distance: number): void {\n    this._scrollLimitRole = 'distance'\n    this._maxOffsetDistance.right = distance\n  }\n\n  setLeftMinVisibleBarCount(barCount: number): void {\n    this._scrollLimitRole = 'bar_count'\n    this._minVisibleBarCount.left = barCount\n  }\n\n  setRightMinVisibleBarCount(barCount: number): void {\n    this._scrollLimitRole = 'bar_count'\n    this._minVisibleBarCount.right = barCount\n  }\n\n  getVisibleRange(): VisibleRange {\n    return this._visibleRange\n  }\n\n  startScroll(): void {\n    this._startLastBarRightSideDiffBarCount = this._lastBarRightSideDiffBarCount\n  }\n\n  scroll(distance: number): void {\n    if (!this._scrollEnabled) {\n      return\n    }\n    const distanceBarCount = distance / this._barSpace\n    const prevLastBarRightSideDistance = this._lastBarRightSideDiffBarCount * this._barSpace\n    this._lastBarRightSideDiffBarCount = this._startLastBarRightSideDiffBarCount - distanceBarCount\n    this._adjustVisibleRange()\n    this.setCrosshair(this._crosshair, { notInvalidate: true })\n    this._chart.layout({\n      measureWidth: true,\n      update: true,\n      buildYAxisTick: true,\n      cacheYAxisWidth: true\n    })\n    const realDistance = Math.round(\n      prevLastBarRightSideDistance - this._lastBarRightSideDiffBarCount * this._barSpace\n    )\n    if (realDistance !== 0) {\n      this.executeAction('onScroll', { distance: realDistance })\n    }\n  }\n\n  getDataByDataIndex(dataIndex: number): Nullable<KLineData> {\n    return this._dataList[dataIndex] ?? null\n  }\n\n  coordinateToFloatIndex(x: number): number {\n    const dataCount = this._dataList.length\n    const deltaFromRight = (this._totalBarSpace - x) / this._barSpace\n    const index = dataCount + this._lastBarRightSideDiffBarCount - deltaFromRight\n    return Math.round(index * 1000000) / 1000000\n  }\n\n  dataIndexToTimestamp(dataIndex: number): Nullable<number> {\n    const length = this._dataList.length\n    if (length === 0) {\n      return null\n    }\n    const data = this.getDataByDataIndex(dataIndex)\n    if (isValid(data)) {\n      return data.timestamp\n    }\n    if (isValid(this._period)) {\n      const lastIndex = length - 1\n      let referenceTimestamp: Nullable<number | null> = null\n      let diff = 0\n      if (dataIndex > lastIndex) {\n        referenceTimestamp = this._dataList[lastIndex].timestamp\n        diff = dataIndex - lastIndex\n      } else if (dataIndex < 0) {\n        referenceTimestamp = this._dataList[0].timestamp\n        diff = dataIndex\n      }\n      if (isNumber(referenceTimestamp)) {\n        const { type, span } = this._period\n        switch (type) {\n          case 'second': {\n            return referenceTimestamp + span * 1000 * diff\n          }\n          case 'minute': {\n            return referenceTimestamp + span * 60 * 1000 * diff\n          }\n          case 'hour': {\n            return referenceTimestamp + span * 60 * 60 * 1000 * diff\n          }\n          case 'day': {\n            return referenceTimestamp + span * 24 * 60 * 60 * 1000 * diff\n          }\n          case 'week': {\n            return referenceTimestamp + span * 7 * 24 * 60 * 60 * 1000 * diff\n          }\n          case 'month': {\n            const date = new Date(referenceTimestamp)\n            const referenceDay = date.getDate()\n\n            date.setDate(1)\n\n            date.setMonth(date.getMonth() + span * diff)\n            const lastDayOfTargetMonth = new Date(\n              date.getFullYear(),\n              date.getMonth() + 1,\n              0\n            ).getDate()\n            date.setDate(Math.min(referenceDay, lastDayOfTargetMonth))\n            return date.getTime()\n          }\n          case 'year': {\n            const date = new Date(referenceTimestamp)\n            date.setFullYear(date.getFullYear() + span * diff)\n            return date.getTime()\n          }\n        }\n      }\n    }\n    return null\n  }\n\n  timestampToDataIndex(timestamp: number): number {\n    const length = this._dataList.length\n    if (length === 0) {\n      return 0\n    }\n    if (isValid(this._period)) {\n      let referenceTimestamp: Nullable<number | null> = null\n      let baseDataIndex = 0\n\n      const lastIndex = length - 1\n      const lastTimestamp = this._dataList[lastIndex].timestamp\n      if (timestamp > lastTimestamp) {\n        referenceTimestamp = lastTimestamp\n        baseDataIndex = lastIndex\n      }\n      const firstTimestamp = this._dataList[0].timestamp\n      if (timestamp < firstTimestamp) {\n        referenceTimestamp = firstTimestamp\n        baseDataIndex = 0\n      }\n      if (isNumber(referenceTimestamp)) {\n        const { type, span } = this._period\n        switch (type) {\n          case 'second': {\n            return baseDataIndex + Math.floor((timestamp - referenceTimestamp) / (span * 1000))\n          }\n          case 'minute': {\n            return baseDataIndex + Math.floor((timestamp - referenceTimestamp) / (span * 60 * 1000))\n          }\n          case 'hour': {\n            return baseDataIndex + Math.floor((timestamp - referenceTimestamp) / (span * 60 * 60 * 1000))\n          }\n          case 'day': {\n            return baseDataIndex + Math.floor((timestamp - referenceTimestamp) / (span * 24 * 60 * 60 * 1000))\n          }\n          case 'week': {\n            return baseDataIndex + Math.floor((timestamp - referenceTimestamp) / (span * 7 * 24 * 60 * 60 * 1000))\n          }\n          case 'month': {\n            const referenceDate = new Date(referenceTimestamp)\n            const currentDate = new Date(timestamp)\n            const referenceYear = referenceDate.getFullYear()\n            const currentYear = currentDate.getFullYear()\n            const referenceMonth = referenceDate.getMonth()\n            const currentMonth = currentDate.getMonth()\n            return baseDataIndex + Math.floor(((currentYear - referenceYear) * 12 + (currentMonth - referenceMonth)) / span)\n          }\n          case 'year': {\n            const referenceYear = new Date(referenceTimestamp).getFullYear()\n            const currentYear = new Date(timestamp).getFullYear()\n            return baseDataIndex + Math.floor((currentYear - referenceYear) / span)\n          }\n        }\n      }\n    }\n    return binarySearchNearest(this._dataList, 'timestamp', timestamp)\n  }\n\n  dataIndexToCoordinate(dataIndex: number): number {\n    const dataCount = this._dataList.length\n    const deltaFromRight = dataCount + this._lastBarRightSideDiffBarCount - dataIndex\n    return Math.floor(this._totalBarSpace - (deltaFromRight - 0.5) * this._barSpace + 0.5)\n  }\n\n  coordinateToDataIndex(x: number): number {\n    return Math.ceil(this.coordinateToFloatIndex(x)) - 1\n  }\n\n  zoom(scale: number, coordinate: Nullable<Partial<Coordinate>>, position: 'main' | 'xAxis'): void {\n    if (!this._zoomEnabled) {\n      return\n    }\n    const zoomCoordinate: Partial<Coordinate> = coordinate ?? { x: this._crosshair.x ?? this._totalBarSpace / 2 }\n\n    if (position === 'xAxis') {\n      if (this._zoomAnchor.xAxis === 'last_bar') {\n        zoomCoordinate.x = this.dataIndexToCoordinate(this._dataList.length - 1)\n      }\n    } else {\n      if (this._zoomAnchor.main === 'last_bar') {\n        zoomCoordinate.x = this.dataIndexToCoordinate(this._dataList.length - 1)\n      }\n    }\n    const x = zoomCoordinate.x!\n    const floatIndex = this.coordinateToFloatIndex(x)\n    const prevBarSpace = this._barSpace\n    const barSpace = this._barSpace + scale * (this._barSpace / SCALE_MULTIPLIER)\n    this.setBarSpace(barSpace, () => {\n      this._lastBarRightSideDiffBarCount += (floatIndex - this.coordinateToFloatIndex(x))\n    })\n    const realScale = this._barSpace / prevBarSpace\n    if (realScale !== 1) {\n      this.executeAction('onZoom', { scale: realScale })\n    }\n  }\n\n  setZoomEnabled(enabled: boolean): void {\n    this._zoomEnabled = enabled\n  }\n\n  isZoomEnabled(): boolean {\n    return this._zoomEnabled\n  }\n\n  setZoomAnchor(anchor: ZoomAnchorType | Partial<ZoomAnchor>): void {\n    if (isString(anchor)) {\n      this._zoomAnchor.main = anchor\n      this._zoomAnchor.xAxis = anchor\n    } else {\n      if (isString(anchor.main)) {\n        this._zoomAnchor.main = anchor.main\n      }\n      if (isString(anchor.xAxis)) {\n        this._zoomAnchor.xAxis = anchor.xAxis\n      }\n    }\n  }\n\n  getZoomAnchor(): ZoomAnchor {\n    return { ...this._zoomAnchor }\n  }\n\n  setScrollEnabled(enabled: boolean): void {\n    this._scrollEnabled = enabled\n  }\n\n  isScrollEnabled(): boolean {\n    return this._scrollEnabled\n  }\n\n  setCrosshair(\n    crosshair?: Nullable<Crosshair>,\n    options?: { notInvalidate?: boolean, notExecuteAction?: boolean, forceInvalidate?: boolean }\n  ): void {\n    const { notInvalidate, notExecuteAction, forceInvalidate } = options ?? {}\n    const cr = crosshair ?? {}\n    let realDataIndex = 0\n    let dataIndex = 0\n    if (isNumber(cr.x)) {\n      realDataIndex = this.coordinateToDataIndex(cr.x)\n      if (realDataIndex < 0) {\n        dataIndex = 0\n      } else if (realDataIndex > this._dataList.length - 1) {\n        dataIndex = this._dataList.length - 1\n      } else {\n        dataIndex = realDataIndex\n      }\n    } else {\n      realDataIndex = this._dataList.length - 1\n      dataIndex = realDataIndex\n    }\n    const kLineData: Nullable<KLineData> = this._dataList[dataIndex]\n    const realX = this.dataIndexToCoordinate(realDataIndex)\n    const prevCrosshair = { x: this._crosshair.x, y: this._crosshair.y, paneId: this._crosshair.paneId }\n    this._crosshair = { ...cr, realX, kLineData, realDataIndex, dataIndex, timestamp: this.dataIndexToTimestamp(realDataIndex) ?? undefined }\n    if (\n      prevCrosshair.x !== cr.x ||\n      prevCrosshair.y !== cr.y ||\n      prevCrosshair.paneId !== cr.paneId ||\n      (forceInvalidate ?? false)\n    ) {\n      if (isValid(kLineData) && !(notExecuteAction ?? false) && this.hasAction('onCrosshairChange') && isString(this._crosshair.paneId)) {\n        this.executeAction('onCrosshairChange', crosshair)\n      }\n      if (!(notInvalidate ?? false)) {\n        this._chart.updatePane(UpdateLevel.Overlay)\n      }\n    }\n  }\n\n  getCrosshair(): Crosshair {\n    return this._crosshair\n  }\n\n  executeAction(type: ActionType, data?: unknown): void {\n    this._actions.get(type)?.execute(data)\n  }\n\n  subscribeAction(type: ActionType, callback: ActionCallback): void {\n    if (!this._actions.has(type)) {\n      this._actions.set(type, new Action())\n    }\n    this._actions.get(type)?.subscribe(callback)\n  }\n\n  unsubscribeAction(type: ActionType, callback?: ActionCallback): void {\n    const action = this._actions.get(type)\n    if (isValid(action)) {\n      action.unsubscribe(callback)\n      if (action.isEmpty()) {\n        this._actions.delete(type)\n      }\n    }\n  }\n\n  hasAction(type: ActionType): boolean {\n    const action = this._actions.get(type)\n    return isValid(action) && !action.isEmpty()\n  }\n\n  private _sortIndicators(paneId?: string): void {\n    if (isString(paneId)) {\n      this._indicators.get(paneId)?.sort((i1, i2) => i1.zLevel - i2.zLevel)\n    } else {\n      this._indicators.forEach(paneIndicators => {\n        paneIndicators.sort((i1, i2) => i1.zLevel - i2.zLevel)\n      })\n    }\n  }\n\n  private _calcIndicator(data: IndicatorImp | IndicatorImp[]): void {\n    let indicators: IndicatorImp[] = []\n    indicators = indicators.concat(data)\n    if (indicators.length > 0) {\n      const tasks: Record<string, Promise<unknown>> = {}\n      indicators.forEach(indicator => {\n        tasks[indicator.id] = indicator.calcImp(this._dataList)\n      })\n      this._taskScheduler.add(tasks)\n    }\n  }\n\n  addIndicator(create: PickRequired<IndicatorCreate, 'id' | 'name'>, paneId: string, isStack: boolean): boolean {\n    const { name } = create\n    const filterIndicators = this.getIndicatorsByFilter(create)\n    if (filterIndicators.length > 0) {\n      return false\n    }\n    let paneIndicators = this.getIndicatorsByPaneId(paneId)\n    const IndicatorClazz = getIndicatorClass(name)!\n    const indicator = new IndicatorClazz()\n\n    this._synchronizeIndicatorSeriesPrecision(indicator)\n    indicator.paneId = paneId\n    indicator.override(create)\n    if (!isStack) {\n      this.removeIndicator({ paneId })\n      paneIndicators = []\n    }\n    paneIndicators.push(indicator)\n    this._indicators.set(paneId, paneIndicators)\n    this._sortIndicators(paneId)\n    this._calcIndicator(indicator)\n    return true\n  }\n\n  getIndicatorsByPaneId(paneId: string): IndicatorImp[] {\n    return this._indicators.get(paneId) ?? []\n  }\n\n  getIndicatorsByFilter(filter: IndicatorFilter): IndicatorImp[] {\n    const { paneId, name, id } = filter\n    const match: ((overlay: IndicatorImp) => boolean) = indicator => {\n      if (isValid(id)) {\n        return indicator.id === id\n      }\n      return !isValid(name) || indicator.name === name\n    }\n    let indicators: IndicatorImp[] = []\n    if (isValid(paneId)) {\n      indicators = indicators.concat(this.getIndicatorsByPaneId(paneId).filter(match))\n    } else {\n      this._indicators.forEach(paneIndicators => {\n        indicators = indicators.concat(paneIndicators.filter(match))\n      })\n    }\n    return indicators\n  }\n\n  removeIndicator(filter: IndicatorFilter): boolean {\n    let removed = false\n    const filterIndicators = this.getIndicatorsByFilter(filter)\n    filterIndicators.forEach(indicator => {\n      const paneIndicators = this.getIndicatorsByPaneId(indicator.paneId)\n      const index = paneIndicators.findIndex(ins => ins.id === indicator.id)\n      if (index > -1) {\n        paneIndicators.splice(index, 1)\n        removed = true\n      }\n      if (paneIndicators.length === 0) {\n        this._indicators.delete(indicator.paneId)\n      }\n    })\n    return removed\n  }\n\n  hasIndicators(paneId: string): boolean {\n    return this._indicators.has(paneId)\n  }\n\n  private _synchronizeIndicatorSeriesPrecision(indicator?: IndicatorImp): void {\n    if (isValid(this._symbol)) {\n      const {\n        pricePrecision = SymbolDefaultPrecisionConstants.PRICE,\n        volumePrecision = SymbolDefaultPrecisionConstants.VOLUME\n      } = this._symbol\n      const synchronize: ((indicator: IndicatorImp) => void) = indicator => {\n        switch (indicator.series) {\n          case 'price': {\n            indicator.setSeriesPrecision(pricePrecision)\n            break\n          }\n          case 'volume': {\n            indicator.setSeriesPrecision(volumePrecision)\n            break\n          }\n          default: { break }\n        }\n      }\n\n      if (isValid(indicator)) {\n        synchronize(indicator)\n      } else {\n        this._indicators.forEach(paneIndicators => {\n          paneIndicators.forEach(indicator => {\n            synchronize(indicator)\n          })\n        })\n      }\n    }\n  }\n\n  overrideIndicator(override: IndicatorOverride): boolean {\n    let updateFlag = false\n    let sortFlag = false\n    const filterIndicators = this.getIndicatorsByFilter(override)\n    filterIndicators.forEach(indicator => {\n      indicator.override(override)\n      const { calc, draw, sort } = indicator.shouldUpdateImp()\n      if (sort) {\n        sortFlag = true\n      }\n      if (calc) {\n        this._calcIndicator(indicator)\n      } else {\n        if (draw) {\n          updateFlag = true\n        }\n      }\n    })\n\n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition -- ignore\n    if (sortFlag) {\n      this._sortIndicators()\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition -- ignore\n    if (updateFlag) {\n      this._chart.layout({ update: true })\n      return true\n    }\n    return false\n  }\n\n  getOverlaysByFilter(filter: OverlayFilter): OverlayImp[] {\n    const { id, groupId, paneId, name } = filter\n    const match: ((overlay: OverlayImp) => boolean) = overlay => {\n      if (isValid(id)) {\n        return overlay.id === id\n      } else {\n        if (isValid(groupId)) {\n          return overlay.groupId === groupId && (!isValid(name) || overlay.name === name)\n        }\n      }\n      return !isValid(name) || overlay.name === name\n    }\n\n    let overlays: OverlayImp[] = []\n    if (isValid(paneId)) {\n      overlays = overlays.concat(this.getOverlaysByPaneId(paneId).filter(match))\n    } else {\n      this._overlays.forEach(paneOverlays => {\n        overlays = overlays.concat(paneOverlays.filter(match))\n      })\n    }\n    const progressOverlay = this._progressOverlayInfo?.overlay\n    if (isValid(progressOverlay) && match(progressOverlay)) {\n      overlays.push(progressOverlay)\n    }\n    return overlays\n  }\n\n  getOverlaysByPaneId(paneId?: string): OverlayImp[] {\n    if (!isString(paneId)) {\n      let overlays: OverlayImp[] = []\n      this._overlays.forEach(paneOverlays => {\n        overlays = overlays.concat(paneOverlays)\n      })\n      return overlays\n    }\n    return this._overlays.get(paneId) ?? []\n  }\n\n  private _sortOverlays(paneId?: string): void {\n    if (isString(paneId)) {\n      this._overlays.get(paneId)?.sort((o1, o2) => o1.zLevel - o2.zLevel)\n    } else {\n      this._overlays.forEach(paneOverlays => {\n        paneOverlays.sort((o1, o2) => o1.zLevel - o2.zLevel)\n      })\n    }\n  }\n\n  addOverlays(os: OverlayCreate[], appointPaneFlags: boolean[]): Array<Nullable<string>> {\n    const updatePaneIds: string[] = []\n    const ids = os.map((create, index) => {\n      if (isValid(create.id)) {\n        let findOverlay: Nullable<OverlayImp> = null\n        for (const item of this._overlays) {\n          const overlays = item[1]\n          const overlay = overlays.find(o => o.id === create.id)\n          if (isValid(overlay)) {\n            findOverlay = overlay\n            break\n          }\n        }\n        if (isValid(findOverlay)) {\n          return create.id\n        }\n      }\n      const OverlayClazz = getOverlayInnerClass(create.name)\n      if (isValid(OverlayClazz)) {\n        const id = create.id ?? createId(OVERLAY_ID_PREFIX)\n        const overlay = new OverlayClazz()\n        const paneId = create.paneId ?? PaneIdConstants.CANDLE\n        create.id = id\n        create.groupId ??= id\n        const zLevel = this.getOverlaysByPaneId(paneId).length\n        create.zLevel ??= zLevel\n        overlay.override(create)\n        if (!updatePaneIds.includes(paneId)) {\n          updatePaneIds.push(paneId)\n        }\n        if (overlay.isDrawing()) {\n          this._progressOverlayInfo = { paneId, overlay, appointPaneFlag: appointPaneFlags[index] }\n        } else {\n          if (!this._overlays.has(paneId)) {\n            this._overlays.set(paneId, [])\n          }\n          this._overlays.get(paneId)?.push(overlay)\n        }\n        if (overlay.isStart()) {\n          overlay.onDrawStart?.(({ overlay, chart: this._chart }))\n        }\n        return id\n      }\n      return null\n    })\n    if (updatePaneIds.length > 0) {\n      this._sortOverlays()\n      updatePaneIds.forEach(paneId => {\n        this._chart.updatePane(UpdateLevel.Overlay, paneId)\n      })\n      this._chart.updatePane(UpdateLevel.Overlay, PaneIdConstants.X_AXIS)\n    }\n    return ids\n  }\n\n  getProgressOverlayInfo(): Nullable<ProgressOverlayInfo> {\n    return this._progressOverlayInfo\n  }\n\n  progressOverlayComplete(): void {\n    if (this._progressOverlayInfo !== null) {\n      const { overlay, paneId } = this._progressOverlayInfo\n      if (!overlay.isDrawing()) {\n        if (!this._overlays.has(paneId)) {\n          this._overlays.set(paneId, [])\n        }\n        this._overlays.get(paneId)?.push(overlay)\n        this._sortOverlays(paneId)\n        this._progressOverlayInfo = null\n      }\n    }\n  }\n\n  updateProgressOverlayInfo(paneId: string, appointPaneFlag?: boolean): void {\n    if (this._progressOverlayInfo !== null) {\n      if (isBoolean(appointPaneFlag) && appointPaneFlag) {\n        this._progressOverlayInfo.appointPaneFlag = appointPaneFlag\n      }\n      this._progressOverlayInfo.paneId = paneId\n      this._progressOverlayInfo.overlay.override({ paneId })\n    }\n  }\n\n  overrideOverlay(override: OverlayOverride): boolean {\n    let sortFlag = false\n    const updatePaneIds: string[] = []\n    const filterOverlays = this.getOverlaysByFilter(override)\n    filterOverlays.forEach(overlay => {\n      overlay.override(override)\n      const { sort, draw } = overlay.shouldUpdate()\n      if (sort) {\n        sortFlag = true\n      }\n      if (sort || draw) {\n        if (!updatePaneIds.includes(overlay.paneId)) {\n          updatePaneIds.push(overlay.paneId)\n        }\n      }\n    })\n\n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition -- ignore\n    if (sortFlag) {\n      this._sortOverlays()\n    }\n    if (updatePaneIds.length > 0) {\n      updatePaneIds.forEach(paneId => {\n        this._chart.updatePane(UpdateLevel.Overlay, paneId)\n      })\n      this._chart.updatePane(UpdateLevel.Overlay, PaneIdConstants.X_AXIS)\n      return true\n    }\n    return false\n  }\n\n  removeOverlay(filter: OverlayFilter): boolean {\n    const updatePaneIds: string[] = []\n    const filterOverlays = this.getOverlaysByFilter(filter)\n    filterOverlays.forEach(overlay => {\n      const paneId = overlay.paneId\n      const paneOverlays = this.getOverlaysByPaneId(overlay.paneId)\n      overlay.onRemoved?.({ overlay, chart: this._chart })\n      if (!updatePaneIds.includes(paneId)) {\n        updatePaneIds.push(paneId)\n      }\n      if (overlay.isDrawing()) {\n        this._progressOverlayInfo = null\n      } else {\n        const index = paneOverlays.findIndex(o => o.id === overlay.id)\n        if (index > -1) {\n          paneOverlays.splice(index, 1)\n        }\n      }\n      if (paneOverlays.length === 0) {\n        this._overlays.delete(paneId)\n      }\n    })\n    if (updatePaneIds.length > 0) {\n      updatePaneIds.forEach(paneId => {\n        this._chart.updatePane(UpdateLevel.Overlay, paneId)\n      })\n      this._chart.updatePane(UpdateLevel.Overlay, PaneIdConstants.X_AXIS)\n      return true\n    }\n    return false\n  }\n\n  setPressedOverlayInfo(info: EventOverlayInfo): void {\n    this._pressedOverlayInfo = info\n  }\n\n  getPressedOverlayInfo(): EventOverlayInfo {\n    return this._pressedOverlayInfo\n  }\n\n  setHoverOverlayInfo(\n    info: EventOverlayInfo,\n    processOnMouseEnterEvent: ProcessOverlayEventCallback,\n    processOnMouseLeaveEvent: ProcessOverlayEventCallback\n  ): void {\n    const { overlay, figureType, figureIndex, figure } = this._hoverOverlayInfo\n    const infoOverlay = info.overlay\n    if (\n      overlay?.id !== infoOverlay?.id ||\n      figureType !== info.figureType ||\n      figureIndex !== info.figureIndex\n    ) {\n      this._hoverOverlayInfo = info\n      if (overlay?.id !== infoOverlay?.id) {\n        let ignoreUpdateFlag = false\n        let sortFlag = false\n        if (overlay !== null) {\n          overlay.override({ zLevel: overlay.getPrevZLevel() })\n          sortFlag = true\n          if (processOnMouseLeaveEvent(overlay, figure)) {\n            ignoreUpdateFlag = true\n          }\n        }\n\n        if (infoOverlay !== null) {\n          infoOverlay.setPrevZLevel(infoOverlay.zLevel)\n          infoOverlay.override({ zLevel: Number.MAX_SAFE_INTEGER })\n          sortFlag = true\n          if (processOnMouseEnterEvent(infoOverlay, info.figure)) {\n            ignoreUpdateFlag = true\n          }\n        }\n        if (sortFlag) {\n          this._sortOverlays()\n        }\n        if (!ignoreUpdateFlag) {\n          this._chart.updatePane(UpdateLevel.Overlay)\n        }\n      }\n    }\n  }\n\n  getHoverOverlayInfo(): EventOverlayInfo {\n    return this._hoverOverlayInfo\n  }\n\n  setClickOverlayInfo(\n    info: EventOverlayInfo,\n    processOnSelectedEvent: ProcessOverlayEventCallback,\n    processOnDeselectedEvent: ProcessOverlayEventCallback\n  ): void {\n    const { paneId, overlay, figureType, figure, figureIndex } = this._clickOverlayInfo\n    const infoOverlay = info.overlay\n    if (overlay?.id !== infoOverlay?.id || figureType !== info.figureType || figureIndex !== info.figureIndex) {\n      this._clickOverlayInfo = info\n      if (overlay?.id !== infoOverlay?.id) {\n        if (isValid(overlay)) {\n          processOnDeselectedEvent(overlay, figure)\n        }\n        if (isValid(infoOverlay)) {\n          processOnSelectedEvent(infoOverlay, info.figure)\n        }\n        this._chart.updatePane(UpdateLevel.Overlay, info.paneId)\n        if (paneId !== info.paneId) {\n          this._chart.updatePane(UpdateLevel.Overlay, paneId)\n        }\n        this._chart.updatePane(UpdateLevel.Overlay, PaneIdConstants.X_AXIS)\n      }\n    }\n  }\n\n  getClickOverlayInfo(): EventOverlayInfo {\n    return this._clickOverlayInfo\n  }\n\n  isOverlayEmpty(): boolean {\n    return this._overlays.size === 0 && this._progressOverlayInfo === null\n  }\n\n  isOverlayDrawing(): boolean {\n    return this._progressOverlayInfo?.overlay.isDrawing() ?? false\n  }\n\n  private _clearLastPriceMarkExtendTextUpdateTimer(): void {\n    this._lastPriceMarkExtendTextUpdateTimers.forEach(timer => {\n      clearInterval(timer)\n    })\n    this._lastPriceMarkExtendTextUpdateTimers = []\n  }\n\n  private _clearData(): void {\n    this._dataLoadMore.backward = false\n    this._dataLoadMore.forward = false\n    this._loading = false\n    this._dataList = []\n    this._visibleRangeDataList = []\n    this._visibleRangeHighLowPrice = [\n      { x: 0, price: Number.MIN_SAFE_INTEGER },\n      { x: 0, price: Number.MAX_SAFE_INTEGER }\n    ]\n    this._visibleRange = getDefaultVisibleRange()\n    this._crosshair = {}\n  }\n\n  getChart(): Chart {\n    return this._chart\n  }\n\n  destroy(): void {\n    this._clearData()\n    this._clearLastPriceMarkExtendTextUpdateTimer()\n    this._taskScheduler.clear()\n    this._overlays.clear()\n    this._indicators.clear()\n    this._actions.clear()\n  }\n\n  applyNewData(data: KLineData[], more?: boolean): void {\n    this._addData(data, 'init', more)\n  }\n\n  applyMoreData(data: KLineData[], more?: boolean): void {\n    this._addData(data, 'backward', more)\n  }\n\n  updateData(data: KLineData): void {\n    this._addData(data, 'forward')\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport const WidgetNameConstants = {\n  MAIN: 'main',\n  X_AXIS: 'xAxis',\n  Y_AXIS: 'yAxis',\n  SEPARATOR: 'separator'\n}\n\nexport const REAL_SEPARATOR_HEIGHT = 7\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { getPixelRatio } from './utils/canvas'\nimport { createDom } from './utils/dom'\nimport { isValid } from './utils/typeChecks'\nimport { requestAnimationFrame, DEFAULT_REQUEST_ID } from './utils/compatible'\n\ntype DrawListener = () => void\n\nasync function isSupportedDevicePixelContentBox (): Promise<boolean> {\n  return await new Promise((resolve: (val: boolean) => void) => {\n    const ro = new ResizeObserver((entries: ResizeObserverEntry[]) => {\n      resolve(entries.every(entry => 'devicePixelContentBoxSize' in entry))\n      ro.disconnect()\n    })\n    ro.observe(document.body, { box: 'device-pixel-content-box' })\n  }).catch(() => false)\n}\n\nexport default class Canvas {\n  private readonly _element: HTMLCanvasElement\n  private _resizeObserver: ResizeObserver\n  private _mediaQueryList: MediaQueryList\n\n  private readonly _ctx: CanvasRenderingContext2D\n\n  private readonly _listener: DrawListener\n\n  private _supportedDevicePixelContentBox = false\n\n  private _width = 0\n  private _height = 0\n\n  private _pixelWidth = 0\n  private _pixelHeight = 0\n\n  private _nextPixelWidth = 0\n  private _nextPixelHeight = 0\n\n  private _requestAnimationId = DEFAULT_REQUEST_ID\n\n  private readonly _mediaQueryListener: () => void = () => {\n    const pixelRatio = getPixelRatio(this._element)\n    this._nextPixelWidth = Math.round(this._element.clientWidth * pixelRatio)\n    this._nextPixelHeight = Math.round(this._element.clientHeight * pixelRatio)\n    this._resetPixelRatio()\n  }\n\n  constructor (style: Partial<CSSStyleDeclaration>, listener: DrawListener) {\n    this._listener = listener\n    this._element = createDom('canvas', style)\n    this._ctx = this._element.getContext('2d')!\n    isSupportedDevicePixelContentBox().then(result => {\n      this._supportedDevicePixelContentBox = result\n      if (result) {\n        this._resizeObserver = new ResizeObserver((entries: ResizeObserverEntry[]) => {\n          const entry = entries.find((entry: ResizeObserverEntry) => entry.target === this._element)\n          const size = entry?.devicePixelContentBoxSize[0]\n          if (isValid(size)) {\n            this._nextPixelWidth = size.inlineSize\n            this._nextPixelHeight = size.blockSize\n            if (this._pixelWidth !== this._nextPixelWidth || this._pixelHeight !== this._nextPixelHeight) {\n              this._resetPixelRatio()\n            }\n          }\n        })\n        this._resizeObserver.observe(this._element, { box: 'device-pixel-content-box' })\n      } else {\n        this._mediaQueryList = window.matchMedia(`(resolution: ${getPixelRatio(this._element)}dppx)`)\n        // eslint-disable-next-line @typescript-eslint/no-deprecated -- ignore\n        this._mediaQueryList.addListener(this._mediaQueryListener)\n      }\n    }).catch((_: unknown) => false)\n  }\n\n  private _resetPixelRatio (): void {\n    this._executeListener(() => {\n      const width = this._element.clientWidth\n      const height = this._element.clientHeight\n      this._width = width\n      this._height = height\n      this._pixelWidth = this._nextPixelWidth\n      this._pixelHeight = this._nextPixelHeight\n      this._element.width = this._nextPixelWidth\n      this._element.height = this._nextPixelHeight\n      const horizontalPixelRatio = this._nextPixelWidth / width\n      const verticalPixelRatio = this._nextPixelHeight / height\n      this._ctx.scale(horizontalPixelRatio, verticalPixelRatio)\n    })\n  }\n\n  private _executeListener (fn?: () => void): void {\n    if (this._requestAnimationId === DEFAULT_REQUEST_ID) {\n      this._requestAnimationId = requestAnimationFrame(() => {\n        this._ctx.clearRect(0, 0, this._width, this._height)\n        fn?.()\n        this._listener()\n        this._requestAnimationId = DEFAULT_REQUEST_ID\n      })\n    }\n  }\n\n  update (w: number, h: number): void {\n    if (this._width !== w || this._height !== h) {\n      this._element.style.width = `${w}px`\n      this._element.style.height = `${h}px`\n      if (!this._supportedDevicePixelContentBox) {\n        const pixelRatio = getPixelRatio(this._element)\n        this._nextPixelWidth = Math.round(w * pixelRatio)\n        this._nextPixelHeight = Math.round(h * pixelRatio)\n        this._resetPixelRatio()\n      }\n    } else {\n      this._executeListener()\n    }\n  }\n\n  getElement (): HTMLCanvasElement {\n    return this._element\n  }\n\n  getContext (): CanvasRenderingContext2D {\n    return this._ctx\n  }\n\n  destroy (): void {\n    if (isValid(this._resizeObserver)) {\n      this._resizeObserver.unobserve(this._element)\n    }\n    if (isValid(this._mediaQueryList)) {\n      // eslint-disable-next-line @typescript-eslint/no-deprecated -- ignore\n      this._mediaQueryList.removeListener(this._mediaQueryListener)\n    }\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type Bounding from '../common/Bounding'\nimport { createDefaultBounding } from '../common/Bounding'\nimport type Updater from '../common/Updater'\nimport { UpdateLevel } from '../common/Updater'\nimport Eventful from '../common/Eventful'\n\nimport type Pane from '../pane/Pane'\n\nimport { isString, merge } from '../common/utils/typeChecks'\nimport type { MouseTouchEvent } from '../common/EventHandler'\nimport type Nullable from '../common/Nullable'\n\nexport default abstract class Widget<P extends Pane = Pane> extends Eventful implements Updater {\n  /**\n   * root container\n   */\n  private readonly _rootContainer: HTMLElement\n\n  /**\n   * Parent pane\n   */\n  private readonly _pane: P\n\n  /**\n   * wrapper container\n   */\n  private readonly _container: HTMLElement\n\n  private readonly _bounding: Bounding = createDefaultBounding()\n\n  private _cursor = 'crosshair'\n\n  private _forceCursor: Nullable<string> = null\n\n  constructor (rootContainer: HTMLElement, pane: P) {\n    super()\n    this._pane = pane\n    this._rootContainer = rootContainer\n    this._container = this.createContainer()\n    rootContainer.appendChild(this._container)\n  }\n\n  setBounding (bounding: Partial<Bounding>): this {\n    merge(this._bounding, bounding)\n    return this\n  }\n\n  getContainer (): HTMLElement { return this._container }\n\n  getBounding (): Bounding {\n    return this._bounding\n  }\n\n  getPane (): P {\n    return this._pane\n  }\n\n  override checkEventOn (_: MouseTouchEvent): boolean {\n    return true\n  }\n\n  setCursor (cursor: string): void {\n    if (!isString(this._forceCursor)) {\n      if (cursor !== this._cursor) {\n        this._cursor = cursor\n        this._container.style.cursor = this._cursor\n      }\n    }\n  }\n\n  setForceCursor (cursor: Nullable<string>): void {\n    if (cursor !== this._forceCursor) {\n      this._forceCursor = cursor\n      this._container.style.cursor = this._forceCursor ?? this._cursor\n    }\n  }\n\n  getForceCursor (): Nullable<string> {\n    return this._forceCursor\n  }\n\n  update (level?: UpdateLevel): void {\n    this.updateImp(this._container, this._bounding, level ?? UpdateLevel.Drawer)\n  }\n\n  destroy (): void {\n    this._rootContainer.removeChild(this._container)\n  }\n\n  abstract getName (): string\n\n  protected abstract createContainer (): HTMLElement\n\n  protected abstract updateImp (container: HTMLElement, bounding: Bounding, level: UpdateLevel): void\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type Bounding from '../common/Bounding'\nimport { UpdateLevel } from '../common/Updater'\nimport Canvas from '../common/Canvas'\n\nimport type DrawPane from '../pane/DrawPane'\n\nimport Widget from './Widget'\n\nimport { createDom } from '../common/utils/dom'\nimport { getPixelRatio } from '../common/utils/canvas'\n\nexport default abstract class DrawWidget<P extends DrawPane = DrawPane> extends Widget<P> {\n  private readonly _mainCanvas: Canvas\n  private readonly _overlayCanvas: Canvas\n\n  constructor (rootContainer: HTMLElement, pane: P) {\n    super(rootContainer, pane)\n    this._mainCanvas = new Canvas({\n      position: 'absolute',\n      top: '0',\n      left: '0',\n      zIndex: '2',\n      boxSizing: 'border-box'\n    }, () => {\n      this.updateMain(this._mainCanvas.getContext())\n    })\n    this._overlayCanvas = new Canvas({\n      position: 'absolute',\n      top: '0',\n      left: '0',\n      zIndex: '2',\n      boxSizing: 'border-box'\n    }, () => {\n      this.updateOverlay(this._overlayCanvas.getContext())\n    })\n    const container = this.getContainer()\n    container.appendChild(this._mainCanvas.getElement())\n    container.appendChild(this._overlayCanvas.getElement())\n  }\n\n  override createContainer (): HTMLElement {\n    return createDom('div', {\n      margin: '0',\n      padding: '0',\n      position: 'absolute',\n      top: '0',\n      overflow: 'hidden',\n      boxSizing: 'border-box',\n      zIndex: '1'\n    })\n  }\n\n  override updateImp (container: HTMLElement, bounding: Bounding, level: UpdateLevel): void {\n    const { width, height, left } = bounding\n    container.style.left = `${left}px`\n\n    let l = level\n    const w = container.clientWidth\n    const h = container.clientHeight\n    if (width !== w || height !== h) {\n      container.style.width = `${width}px`\n      container.style.height = `${height}px`\n      l = UpdateLevel.Drawer\n    }\n    switch (l) {\n      case UpdateLevel.Main: {\n        this._mainCanvas.update(width, height)\n        break\n      }\n      case UpdateLevel.Overlay: {\n        this._overlayCanvas.update(width, height)\n        break\n      }\n      case UpdateLevel.Drawer:\n      case UpdateLevel.All: {\n        this._mainCanvas.update(width, height)\n        this._overlayCanvas.update(width, height)\n        break\n      }\n      default: {\n        break\n      }\n    }\n  }\n\n  destroy (): void {\n    this._mainCanvas.destroy()\n    this._overlayCanvas.destroy()\n  }\n\n  getImage (includeOverlay: boolean): HTMLCanvasElement {\n    const { width, height } = this.getBounding()\n    const canvas = createDom('canvas', {\n      width: `${width}px`,\n      height: `${height}px`,\n      boxSizing: 'border-box'\n    })\n    const ctx = canvas.getContext('2d')!\n    const pixelRatio = getPixelRatio(canvas)\n    canvas.width = width * pixelRatio\n    canvas.height = height * pixelRatio\n    ctx.scale(pixelRatio, pixelRatio)\n\n    ctx.drawImage(this._mainCanvas.getElement(), 0, 0, width, height)\n\n    if (includeOverlay) {\n      ctx.drawImage(this._overlayCanvas.getElement(), 0, 0, width, height)\n    }\n    return canvas\n  }\n\n  protected abstract updateMain (ctx: CanvasRenderingContext2D): void\n  protected abstract updateOverlay (ctx: CanvasRenderingContext2D): void\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type Nullable from '../common/Nullable'\nimport type { EventHandler, EventName, MouseTouchEvent } from '../common/EventHandler'\nimport Eventful from '../common/Eventful'\nimport { isValid } from '../common/utils/typeChecks'\n\nimport type Figure from '../component/Figure'\nimport type { Axis } from '../component/Axis'\nimport type { FigureCreate } from '../component/Figure'\n\nimport { getInnerFigureClass } from '../extension/figure/index'\n\nimport type DrawWidget from '../widget/DrawWidget'\nimport type DrawPane from '../pane/DrawPane'\n\nexport default abstract class View<C extends Axis = Axis> extends Eventful {\n  /**\n   * Parent widget\n   */\n  private readonly _widget: DrawWidget<DrawPane<C>>\n\n  constructor (widget: DrawWidget<DrawPane<C>>) {\n    super()\n    this._widget = widget\n  }\n\n  getWidget (): DrawWidget<DrawPane<C>> { return this._widget }\n\n  protected createFigure (create: FigureCreate, eventHandler?: EventHandler): Nullable<Figure> {\n    const FigureClazz = getInnerFigureClass(create.name)\n    if (FigureClazz !== null) {\n      const figure = new FigureClazz(create)\n      if (isValid(eventHandler)) {\n        for (const key in eventHandler) {\n          // eslint-disable-next-line no-prototype-builtins -- ignore\n          if (eventHandler.hasOwnProperty(key)) {\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-argument -- ignore\n            figure.registerEvent(key as EventName, eventHandler[key])\n          }\n        }\n        this.addChild(figure)\n      }\n      return figure\n    }\n    return null\n  }\n\n  draw (ctx: CanvasRenderingContext2D, ...extend: unknown[]): void {\n    this.clear()\n    this.drawImp(ctx, extend)\n  }\n\n  checkEventOn (_: MouseTouchEvent): boolean {\n    return true\n  }\n\n  protected abstract drawImp (ctx: CanvasRenderingContext2D, ...extend: unknown[]): void\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { LineAttrs } from '../extension/figure/line'\n\nimport View from './View'\n\nexport default class GridView extends View {\n  override drawImp (ctx: CanvasRenderingContext2D): void {\n    const widget = this.getWidget()\n    const pane = this.getWidget().getPane()\n    const chart = pane.getChart()\n    const bounding = widget.getBounding()\n\n    const styles = chart.getStyles().grid\n    const show = styles.show\n\n    if (show) {\n      ctx.save()\n      ctx.globalCompositeOperation = 'destination-over'\n      const horizontalStyles = styles.horizontal\n      const horizontalShow = horizontalStyles.show\n      if (horizontalShow) {\n        const yAxis = pane.getAxisComponent()\n        const attrs: LineAttrs[] = yAxis.getTicks().map(tick => ({\n          coordinates: [\n            { x: 0, y: tick.coord },\n            { x: bounding.width, y: tick.coord }\n          ]\n        }))\n        this.createFigure({\n          name: 'line',\n          attrs,\n          styles: horizontalStyles\n        })?.draw(ctx)\n      }\n      const verticalStyles = styles.vertical\n      const verticalShow = verticalStyles.show\n      if (verticalShow) {\n        const xAxis = chart.getXAxisPane().getAxisComponent()\n        const attrs: LineAttrs[] = xAxis.getTicks().map(tick => ({\n          coordinates: [\n            { x: tick.coord, y: 0 },\n            { x: tick.coord, y: bounding.height }\n          ]\n        }))\n        this.createFigure({\n          name: 'line',\n          attrs,\n          styles: verticalStyles\n        })?.draw(ctx)\n      }\n      ctx.restore()\n    }\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport View from './View'\nimport type { VisibleRangeData } from '../common/Data'\nimport type BarSpace from '../common/BarSpace'\nimport type { YAxis } from '../component/YAxis'\n\nexport type EachChildCallback = (\n  data: VisibleRangeData,\n  barSpace: BarSpace,\n  index: number\n) => void\n\nexport default abstract class ChildrenView extends View<YAxis> {\n  protected eachChildren (childCallback: EachChildCallback): void {\n    const pane = this.getWidget().getPane()\n    const chartStore = pane.getChart().getChartStore()\n    const visibleRangeDataList = chartStore.getVisibleRangeDataList()\n    const barSpace = chartStore.getBarSpace()\n    const dataLength = visibleRangeDataList.length\n    let index = 0\n    while (index < dataLength) {\n      childCallback(visibleRangeDataList[index], barSpace, index)\n      ++index\n    }\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type Nullable from '../common/Nullable'\nimport type { VisibleRangeData } from '../common/Data'\nimport type BarSpace from '../common/BarSpace'\nimport { isValid } from '../common/utils/typeChecks'\nimport type { EventHandler } from '../common/EventHandler'\nimport type { CandleType, CandleBarColor, RectStyle } from '../common/Styles'\n\nimport type { FigureCreate } from '../component/Figure'\nimport type { RectAttrs } from '../extension/figure/rect'\n\nimport ChildrenView from './ChildrenView'\n\nimport { PaneIdConstants } from '../pane/types'\n\nexport interface CandleBarOptions {\n  type: Exclude<CandleType, 'area'>\n  styles: CandleBarColor\n}\n\nexport default class CandleBarView extends ChildrenView {\n  private readonly _boundCandleBarClickEvent = (data: VisibleRangeData) => () => {\n    this.getWidget().getPane().getChart().getChartStore().executeAction('onCandleBarClick', data)\n    return false\n  }\n\n  override drawImp (ctx: CanvasRenderingContext2D): void {\n    const pane = this.getWidget().getPane()\n    const isMain = pane.getId() === PaneIdConstants.CANDLE\n    const chartStore = pane.getChart().getChartStore()\n    const candleBarOptions = this.getCandleBarOptions()\n    if (candleBarOptions !== null) {\n      const { type, styles } = candleBarOptions\n      let ohlcSize = 0\n      let halfOhlcSize = 0\n      if (candleBarOptions.type === 'ohlc') {\n        const { gapBar } = chartStore.getBarSpace()\n        ohlcSize = Math.min(Math.max(Math.round(gapBar * 0.2), 1), 8)\n        if (ohlcSize > 2 && ohlcSize % 2 === 1) {\n          ohlcSize--\n        }\n        halfOhlcSize = Math.floor(ohlcSize / 2)\n      }\n      const yAxis = pane.getAxisComponent()\n      this.eachChildren((visibleData, barSpace) => {\n        const { x, data: { current, prev } } = visibleData\n        if (isValid(current)) {\n          const { open, high, low, close } = current\n          const comparePrice = styles.compareRule === 'current_open' ? open : (prev?.close ?? close)\n          const colors: string[] = []\n          if (close > comparePrice) {\n            colors[0] = styles.upColor\n            colors[1] = styles.upBorderColor\n            colors[2] = styles.upWickColor\n          } else if (close < comparePrice) {\n            colors[0] = styles.downColor\n            colors[1] = styles.downBorderColor\n            colors[2] = styles.downWickColor\n          } else {\n            colors[0] = styles.noChangeColor\n            colors[1] = styles.noChangeBorderColor\n            colors[2] = styles.noChangeWickColor\n          }\n          const openY = yAxis.convertToPixel(open)\n          const closeY = yAxis.convertToPixel(close)\n          const priceY = [\n            openY, closeY,\n            yAxis.convertToPixel(high),\n            yAxis.convertToPixel(low)\n          ]\n          priceY.sort((a, b) => a - b)\n\n          const correction = barSpace.gapBar % 2 === 0 ? 1 : 0\n          let rects: Array<FigureCreate<RectAttrs | RectAttrs[], Partial<RectStyle>>> = []\n          switch (type) {\n            case 'candle_solid': {\n              rects = this._createSolidBar(x, priceY, barSpace, colors, correction)\n              break\n            }\n            case 'candle_stroke': {\n              rects = this._createStrokeBar(x, priceY, barSpace, colors, correction)\n              break\n            }\n            case 'candle_up_stroke': {\n              if (close > open) {\n                rects = this._createStrokeBar(x, priceY, barSpace, colors, correction)\n              } else {\n                rects = this._createSolidBar(x, priceY, barSpace, colors, correction)\n              }\n              break\n            }\n            case 'candle_down_stroke': {\n              if (open > close) {\n                rects = this._createStrokeBar(x, priceY, barSpace, colors, correction)\n              } else {\n                rects = this._createSolidBar(x, priceY, barSpace, colors, correction)\n              }\n              break\n            }\n            case 'ohlc': {\n              rects = [\n                {\n                  name: 'rect',\n                  attrs: [\n                    {\n                      x: x - halfOhlcSize,\n                      y: priceY[0],\n                      width: ohlcSize,\n                      height: priceY[3] - priceY[0]\n                    },\n                    {\n                      x: x - barSpace.halfGapBar,\n                      y: openY + ohlcSize > priceY[3] ? priceY[3] - ohlcSize : openY,\n                      width: barSpace.halfGapBar - halfOhlcSize,\n                      height: ohlcSize\n                    },\n                    {\n                      x: x + halfOhlcSize,\n                      y: closeY + ohlcSize > priceY[3] ? priceY[3] - ohlcSize : closeY,\n                      width: barSpace.halfGapBar - halfOhlcSize,\n                      height: ohlcSize\n                    }\n                  ],\n                  styles: { color: colors[0] }\n                }\n              ]\n              break\n            }\n          }\n          rects.forEach(rect => {\n            let handler: Nullable<EventHandler> = null\n            if (isMain) {\n              handler = {\n                mouseClickEvent: this._boundCandleBarClickEvent(visibleData)\n              }\n            }\n            this.createFigure(rect, handler ?? undefined)?.draw(ctx)\n          })\n        }\n      })\n    }\n  }\n\n  protected getCandleBarOptions (): Nullable<CandleBarOptions> {\n    const candleStyles = this.getWidget().getPane().getChart().getStyles().candle\n    return {\n      type: candleStyles.type as Exclude<CandleType, 'area'>,\n      styles: candleStyles.bar\n    }\n  }\n\n  private _createSolidBar (x: number, priceY: number[], barSpace: BarSpace, colors: string[], correction: number): Array<FigureCreate<RectAttrs | RectAttrs[], Partial<RectStyle>>> {\n    return [\n      {\n        name: 'rect',\n        attrs: {\n          x,\n          y: priceY[0],\n          width: 1,\n          height: priceY[3] - priceY[0]\n        },\n        styles: { color: colors[2] }\n      },\n      {\n        name: 'rect',\n        attrs: {\n          x: x - barSpace.halfGapBar,\n          y: priceY[1],\n          width: barSpace.gapBar + correction,\n          height: Math.max(1, priceY[2] - priceY[1])\n        },\n        styles: {\n          style: 'stroke_fill',\n          color: colors[0],\n          borderColor: colors[1]\n        }\n      }\n    ]\n  }\n\n  private _createStrokeBar (x: number, priceY: number[], barSpace: BarSpace, colors: string[], correction: number): Array<FigureCreate<RectAttrs | RectAttrs[], Partial<RectStyle>>> {\n    return [\n      {\n        name: 'rect',\n        attrs: [\n          {\n            x,\n            y: priceY[0],\n            width: 1,\n            height: priceY[1] - priceY[0]\n          },\n          {\n            x,\n            y: priceY[2],\n            width: 1,\n            height: priceY[3] - priceY[2]\n          }\n        ],\n        styles: { color: colors[2] }\n      },\n      {\n        name: 'rect',\n        attrs: {\n          x: x - barSpace.halfGapBar,\n          y: priceY[1],\n          width: barSpace.gapBar + correction,\n          height: Math.max(1, priceY[2] - priceY[1])\n        },\n        styles: {\n          style: 'stroke',\n          borderColor: colors[1]\n        }\n      }\n    ]\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type Nullable from '../common/Nullable'\nimport type { CandleColorCompareRule, SmoothLineStyle } from '../common/Styles'\nimport { formatValue } from '../common/utils/format'\nimport { isNumber, isValid } from '../common/utils/typeChecks'\nimport type Coordinate from '../common/Coordinate'\n\nimport { eachFigures, type IndicatorFigure, type IndicatorFigureAttrs, type IndicatorFigureStyle } from '../component/Indicator'\n\nimport CandleBarView, { type CandleBarOptions } from './CandleBarView'\n\nexport default class IndicatorView extends CandleBarView {\n  override getCandleBarOptions (): Nullable<CandleBarOptions> {\n    const pane = this.getWidget().getPane()\n    const yAxis = pane.getAxisComponent()\n    if (!yAxis.isInCandle()) {\n      const chartStore = pane.getChart().getChartStore()\n      const indicators = chartStore.getIndicatorsByPaneId(pane.getId())\n      for (const indicator of indicators) {\n        if (indicator.shouldOhlc && indicator.visible) {\n          const indicatorStyles = indicator.styles\n          const defaultStyles = chartStore.getStyles().indicator\n          const compareRule = formatValue(indicatorStyles, 'ohlc.compareRule', defaultStyles.ohlc.compareRule) as CandleColorCompareRule\n          const upColor = formatValue(indicatorStyles, 'ohlc.upColor', defaultStyles.ohlc.upColor) as string\n          const downColor = formatValue(indicatorStyles, 'ohlc.downColor', defaultStyles.ohlc.downColor) as string\n          const noChangeColor = formatValue(indicatorStyles, 'ohlc.noChangeColor', defaultStyles.ohlc.noChangeColor) as string\n          return {\n            type: 'ohlc',\n            styles: {\n              compareRule,\n              upColor,\n              downColor,\n              noChangeColor,\n              upBorderColor: upColor,\n              downBorderColor: downColor,\n              noChangeBorderColor: noChangeColor,\n              upWickColor: upColor,\n              downWickColor: downColor,\n              noChangeWickColor: noChangeColor\n            }\n          }\n        }\n      }\n    }\n    return null\n  }\n\n  override drawImp (ctx: CanvasRenderingContext2D): void {\n    super.drawImp(ctx)\n    const widget = this.getWidget()\n    const pane = widget.getPane()\n    const chart = pane.getChart()\n    const bounding = widget.getBounding()\n    const xAxis = chart.getXAxisPane().getAxisComponent()\n    const yAxis = pane.getAxisComponent()\n    const chartStore = chart.getChartStore()\n    const indicators = chartStore.getIndicatorsByPaneId(pane.getId())\n    const defaultStyles = chartStore.getStyles().indicator\n    ctx.save()\n    indicators.forEach(indicator => {\n      if (indicator.visible) {\n        if (indicator.zLevel < 0) {\n          ctx.globalCompositeOperation = 'destination-over'\n        } else {\n          ctx.globalCompositeOperation = 'source-over'\n        }\n        let isCover = false\n        if (indicator.draw !== null) {\n          ctx.save()\n          isCover = indicator.draw({\n            ctx,\n            chart,\n            indicator,\n            bounding,\n            xAxis,\n            yAxis\n          })\n          ctx.restore()\n        }\n        if (!isCover) {\n          const result = indicator.result\n          const lines: Array<Array<{ coordinates: Coordinate[], styles: Partial<SmoothLineStyle> }>> = []\n\n          this.eachChildren((data, barSpace) => {\n            const { halfGapBar } = barSpace\n            const { dataIndex, x } = data\n            const prevX = xAxis.convertToPixel(dataIndex - 1)\n            const nextX = xAxis.convertToPixel(dataIndex + 1)\n            const prevData = result[dataIndex - 1] ?? null\n            const currentData = result[dataIndex] ?? null\n            const nextData = result[dataIndex + 1] ?? null\n            const prevCoordinate = { x: prevX }\n            const currentCoordinate = { x }\n            const nextCoordinate = { x: nextX }\n            indicator.figures.forEach(({ key }) => {\n              // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment -- ignore\n              const prevValue = prevData?.[key]\n              if (isNumber(prevValue)) {\n                prevCoordinate[key] = yAxis.convertToPixel(prevValue)\n              }\n              // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment -- ignore\n              const currentValue = currentData?.[key]\n              if (isNumber(currentValue)) {\n                currentCoordinate[key] = yAxis.convertToPixel(currentValue)\n              }\n              // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment -- ignore\n              const nextValue = nextData?.[key]\n              if (isNumber(nextValue)) {\n                nextCoordinate[key] = yAxis.convertToPixel(nextValue)\n              }\n            })\n            eachFigures(indicator, dataIndex, defaultStyles, (figure: IndicatorFigure, figureStyles: IndicatorFigureStyle, figureIndex: number) => {\n              if (isValid(currentData?.[figure.key])) {\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment -- ignore\n                const valueY = currentCoordinate[figure.key]\n                let attrs = figure.attrs?.({\n                  data: { prev: prevData, current: currentData, next: nextData },\n                  coordinate: { prev: prevCoordinate, current: currentCoordinate, next: nextCoordinate },\n                  bounding,\n                  barSpace,\n                  xAxis,\n                  yAxis\n                })\n                if (!isValid<IndicatorFigureAttrs>(attrs)) {\n                  switch (figure.type) {\n                    case 'circle': {\n                      // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment -- ignore\n                      attrs = { x, y: valueY, r: Math.max(1, halfGapBar) }\n                      break\n                    }\n                    case 'rect':\n                    case 'bar': {\n                      const baseValue = figure.baseValue ?? yAxis.getRange().from\n                      const baseValueY = yAxis.convertToPixel(baseValue)\n                      let height = Math.abs(baseValueY - (valueY as number))\n                      if (baseValue !== currentData?.[figure.key]) {\n                        height = Math.max(1, height)\n                      }\n                      let y = 0\n                      if (valueY > baseValueY) {\n                        y = baseValueY\n                      } else {\n                        // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment -- ignore\n                        y = valueY\n                      }\n                      attrs = {\n                        x: x - halfGapBar,\n                        y,\n                        width: Math.max(1, halfGapBar * 2),\n                        height\n                      }\n                      break\n                    }\n                    case 'line': {\n                      if (!isValid(lines[figureIndex])) {\n                        lines[figureIndex] = []\n                      }\n                      if (isNumber(currentCoordinate[figure.key]) && isNumber(nextCoordinate[figure.key])) {\n                        lines[figureIndex].push({\n                          coordinates: [\n                            // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment -- ignore\n                            { x: currentCoordinate.x, y: currentCoordinate[figure.key] },\n                            // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment -- ignore\n                            { x: nextCoordinate.x, y: nextCoordinate[figure.key] }\n                          ],\n                          styles: figureStyles as unknown as SmoothLineStyle\n                        })\n                      }\n                      break\n                    }\n                    default: { break }\n                  }\n                }\n                const type = figure.type!\n                if (isValid<IndicatorFigureAttrs>(attrs) && type !== 'line') {\n                  this.createFigure({\n                    name: type === 'bar' ? 'rect' : type,\n                    attrs,\n                    styles: figureStyles\n                  })?.draw(ctx)\n                }\n              }\n            })\n          })\n\n          // merge line and render\n          lines.forEach(items => {\n            if (items.length > 1) {\n              const mergeLines = [\n                {\n                  coordinates: [items[0].coordinates[0], items[0].coordinates[1]],\n                  styles: items[0].styles\n                }\n              ]\n              for (let i = 1; i < items.length; i++) {\n                const lastMergeLine = mergeLines[mergeLines.length - 1]\n                const current = items[i]\n                const lastMergeLineLastCoordinate = lastMergeLine.coordinates[lastMergeLine.coordinates.length - 1]\n                if (\n                  lastMergeLineLastCoordinate.x === current.coordinates[0].x &&\n                  lastMergeLineLastCoordinate.y === current.coordinates[0].y &&\n                  lastMergeLine.styles.style === current.styles.style &&\n                  lastMergeLine.styles.color === current.styles.color &&\n                  lastMergeLine.styles.size === current.styles.size &&\n                  lastMergeLine.styles.smooth === current.styles.smooth &&\n                  lastMergeLine.styles.dashedValue?.[0] === current.styles.dashedValue?.[0] &&\n                  lastMergeLine.styles.dashedValue?.[1] === current.styles.dashedValue?.[1]\n                ) {\n                  lastMergeLine.coordinates.push(current.coordinates[1])\n                } else {\n                  mergeLines.push({\n                    coordinates: [current.coordinates[0], current.coordinates[1]],\n                    styles: current.styles\n                  })\n                }\n              }\n              mergeLines.forEach(({ coordinates, styles }) => {\n                this.createFigure({\n                  name: 'line',\n                  attrs: { coordinates },\n                  styles\n                })?.draw(ctx)\n              })\n            }\n          })\n        }\n      }\n    })\n    ctx.restore()\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type Coordinate from '../common/Coordinate'\nimport type { CrosshairDirectionStyle } from '../common/Styles'\nimport { isString } from '../common/utils/typeChecks'\n\nimport View from './View'\n\nexport default class CrosshairLineView extends View {\n  override drawImp (ctx: CanvasRenderingContext2D): void {\n    const widget = this.getWidget()\n    const pane = widget.getPane()\n    const bounding = widget.getBounding()\n    const chartStore = widget.getPane().getChart().getChartStore()\n    const crosshair = chartStore.getCrosshair()\n    const styles = chartStore.getStyles().crosshair\n    if (isString(crosshair.paneId) && styles.show) {\n      if (crosshair.paneId === pane.getId()) {\n        const y = crosshair.y!\n        this._drawLine(\n          ctx,\n          [\n            { x: 0, y },\n            { x: bounding.width, y }\n          ],\n          styles.horizontal\n        )\n      }\n      const x = crosshair.realX!\n      this._drawLine(\n        ctx,\n        [\n          { x, y: 0 },\n          { x, y: bounding.height }\n        ],\n        styles.vertical\n      )\n    }\n  }\n\n  private _drawLine (ctx: CanvasRenderingContext2D, coordinates: Coordinate[], styles: CrosshairDirectionStyle): void {\n    if (styles.show) {\n      const lineStyles = styles.line\n      if (lineStyles.show) {\n        this.createFigure({\n          name: 'line',\n          attrs: { coordinates },\n          styles: lineStyles\n        })?.draw(ctx)\n      }\n    }\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type Crosshair from '../common/Crosshair'\nimport type { TooltipStyle, TooltipTextStyle, TooltipLegend, TooltipLegendChild, TooltipFeatureStyle, FeatureIconFontStyle, FeaturePathStyle } from '../common/Styles'\nimport { formatPrecision } from '../common/utils/format'\nimport { isValid, isObject, isString, isNumber, isFunction } from '../common/utils/typeChecks'\nimport { createFont } from '../common/utils/canvas'\nimport type Coordinate from '../common/Coordinate'\nimport type Nullable from '../common/Nullable'\nimport type { ActionType } from '../common/Action'\n\nimport type { YAxis } from '../component/YAxis'\n\nimport type { Indicator, IndicatorFigure, IndicatorFigureStyle, IndicatorTooltipData } from '../component/Indicator'\nimport { eachFigures } from '../component/Indicator'\n\nimport type DrawPane from '../pane/DrawPane'\nimport type DrawWidget from '../widget/DrawWidget'\nimport View from './View'\n\ninterface TooltipFeatureInfo {\n  paneId: string\n  indicator?: Indicator\n  feature: TooltipFeatureStyle\n}\n\nexport default class IndicatorTooltipView extends View<YAxis> {\n  private _activeFeatureInfo: Nullable<TooltipFeatureInfo> = null\n\n  private readonly _featureClickEvent = (type: ActionType, featureInfo: TooltipFeatureInfo) => () => {\n    const pane = this.getWidget().getPane()\n    pane.getChart().getChartStore().executeAction(type, featureInfo)\n    return true\n  }\n\n  private readonly _featureMouseMoveEvent = (featureInfo: TooltipFeatureInfo) => () => {\n    this._activeFeatureInfo = featureInfo\n    return true\n  }\n\n  constructor (widget: DrawWidget<DrawPane<YAxis>>) {\n    super(widget)\n    this.registerEvent('mouseMoveEvent', _ => {\n      this._activeFeatureInfo = null\n      return false\n    })\n  }\n\n  override drawImp (ctx: CanvasRenderingContext2D): void {\n    const widget = this.getWidget()\n    const pane = widget.getPane()\n    const chartStore = pane.getChart().getChartStore()\n    const crosshair = chartStore.getCrosshair()\n    if (isValid(crosshair.kLineData)) {\n      const bounding = widget.getBounding()\n      const { offsetLeft, offsetTop, offsetRight } = chartStore.getStyles().indicator.tooltip\n      this.drawIndicatorTooltip(\n        ctx, offsetLeft, offsetTop,\n        bounding.width - offsetRight\n      )\n    }\n  }\n\n  protected drawIndicatorTooltip (\n    ctx: CanvasRenderingContext2D,\n    left: number,\n    top: number,\n    maxWidth: number\n  ): number {\n    const pane = this.getWidget().getPane()\n    const chartStore = pane.getChart().getChartStore()\n    const styles = chartStore.getStyles().indicator\n    const tooltipStyles = styles.tooltip\n    if (this.isDrawTooltip(chartStore.getCrosshair(), tooltipStyles)) {\n      const indicators = chartStore.getIndicatorsByPaneId(pane.getId())\n      const tooltipTitleStyles = tooltipStyles.title\n      const tooltipLegendStyles = tooltipStyles.legend\n      indicators.forEach(indicator => {\n        let prevRowHeight = 0\n        const coordinate = { x: left, y: top }\n        const { name, calcParamsText, legends, features: featuresStyles } = this.getIndicatorTooltipData(indicator)\n        const nameValid = name.length > 0\n        const legendValid = legends.length > 0\n        if (nameValid || legendValid) {\n          const features = this.classifyTooltipFeatures(featuresStyles)\n          prevRowHeight = this.drawStandardTooltipFeatures(\n            ctx, features[0],\n            coordinate, indicator,\n            left, prevRowHeight, maxWidth\n          )\n\n          if (nameValid) {\n            let text = name\n            if (calcParamsText.length > 0) {\n              text = `${text}${calcParamsText}`\n            }\n            const color = tooltipTitleStyles.color\n            prevRowHeight = this.drawStandardTooltipLegends(\n              ctx,\n              [\n                {\n                  title: { text: '', color },\n                  value: { text, color }\n                }\n              ],\n              coordinate, left, prevRowHeight, maxWidth, tooltipTitleStyles\n            )\n          }\n\n          prevRowHeight = this.drawStandardTooltipFeatures(\n            ctx, features[1],\n            coordinate, indicator,\n            left, prevRowHeight, maxWidth\n          )\n\n          if (legendValid) {\n            prevRowHeight = this.drawStandardTooltipLegends(\n              ctx, legends, coordinate,\n              left, prevRowHeight, maxWidth, tooltipLegendStyles\n            )\n          }\n\n          // draw right features\n          prevRowHeight = this.drawStandardTooltipFeatures(\n            ctx, features[2],\n            coordinate, indicator,\n            left, prevRowHeight, maxWidth\n          )\n          top = coordinate.y + prevRowHeight\n        }\n      })\n    }\n    return top\n  }\n\n  protected drawStandardTooltipFeatures (\n    ctx: CanvasRenderingContext2D,\n    features: TooltipFeatureStyle[],\n    coordinate: Coordinate,\n    indicator: Nullable<Indicator>,\n    left: number,\n    prevRowHeight: number,\n    maxWidth: number\n  ): number {\n    if (features.length > 0) {\n      let width = 0\n      let height = 0\n      features.forEach(feature => {\n        const {\n          marginLeft = 0, marginTop = 0, marginRight = 0, marginBottom = 0,\n          paddingLeft = 0, paddingTop = 0, paddingRight = 0, paddingBottom = 0,\n          size = 0, type, content\n        } = feature\n        let contentWidth = 0\n        if (type === 'icon_font') {\n          const iconFont = content as FeatureIconFontStyle\n          ctx.font = createFont(size, 'normal', iconFont.family)\n          contentWidth = ctx.measureText(iconFont.code).width\n        } else {\n          contentWidth = size\n        }\n        width += (marginLeft + paddingLeft + contentWidth + paddingRight + marginRight)\n        height = Math.max(height, marginTop + paddingTop + size + paddingBottom + marginBottom)\n      })\n      if (coordinate.x + width > maxWidth) {\n        coordinate.x = left\n        coordinate.y += prevRowHeight\n        prevRowHeight = height\n      } else {\n        prevRowHeight = Math.max(prevRowHeight, height)\n      }\n      const pane = this.getWidget().getPane()\n      const paneId = pane.getId()\n\n      features.forEach(feature => {\n        const {\n          marginLeft = 0, marginTop = 0, marginRight = 0,\n          paddingLeft = 0, paddingTop = 0, paddingRight = 0, paddingBottom = 0,\n          backgroundColor, activeBackgroundColor, borderRadius,\n          size = 0, color, activeColor, type, content\n        } = feature\n\n        let finalColor = color\n        let finalBackgroundColor = backgroundColor\n        if (\n          this._activeFeatureInfo?.paneId === paneId &&\n          this._activeFeatureInfo.indicator?.id === indicator?.id &&\n          this._activeFeatureInfo.feature.id === feature.id\n        ) {\n          // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition -- ignore\n          finalColor = activeColor ?? color\n          // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition -- ignore\n          finalBackgroundColor = activeBackgroundColor ?? backgroundColor\n        }\n        let actionType: ActionType = 'onCandleTooltipFeatureClick'\n        const featureInfo: TooltipFeatureInfo = {\n          paneId, feature\n        }\n        if (isValid(indicator)) {\n          actionType = 'onIndicatorTooltipFeatureClick'\n          featureInfo.indicator = indicator\n        }\n        const eventHandler = {\n          mouseDownEvent: this._featureClickEvent(actionType, featureInfo),\n          mouseMoveEvent: this._featureMouseMoveEvent(featureInfo)\n        }\n        let contentWidth = 0\n        if (type === 'icon_font') {\n          const iconFont = content as FeatureIconFontStyle\n          this.createFigure({\n            name: 'text',\n            attrs: { text: iconFont.code, x: coordinate.x + marginLeft, y: coordinate.y + marginTop },\n            styles: {\n              paddingLeft,\n              paddingTop,\n              paddingRight,\n              paddingBottom,\n              borderRadius,\n              size,\n              family: iconFont.family,\n              color: finalColor,\n              backgroundColor: finalBackgroundColor\n            }\n          }, eventHandler)?.draw(ctx)\n          contentWidth = ctx.measureText(iconFont.code).width\n        } else {\n          this.createFigure({\n            name: 'rect',\n            attrs: { x: coordinate.x + marginLeft, y: coordinate.y + marginTop, width: size, height: size },\n            styles: {\n              paddingLeft,\n              paddingTop,\n              paddingRight,\n              paddingBottom,\n              color: finalBackgroundColor\n            }\n          }, eventHandler)?.draw(ctx)\n          const path = content as FeaturePathStyle\n          this.createFigure({\n            name: 'path',\n            attrs: { path: path.path, x: coordinate.x + marginLeft + paddingLeft, y: coordinate.y + marginTop + paddingTop, width: size, height: size },\n            styles: {\n              style: path.style,\n              lineWidth: path.lineWidth,\n              color: finalColor\n            }\n          })?.draw(ctx)\n          contentWidth = size\n        }\n        coordinate.x += (marginLeft + paddingLeft + contentWidth + paddingRight + marginRight)\n      })\n    }\n    return prevRowHeight\n  }\n\n  protected drawStandardTooltipLegends (\n    ctx: CanvasRenderingContext2D,\n    legends: TooltipLegend[],\n    coordinate: Coordinate,\n    left: number,\n    prevRowHeight: number,\n    maxWidth: number,\n    styles: TooltipTextStyle\n  ): number {\n    if (legends.length > 0) {\n      const { marginLeft, marginTop, marginRight, marginBottom, size, family, weight } = styles\n      ctx.font = createFont(size, weight, family)\n      legends.forEach(data => {\n        const title = data.title as TooltipLegendChild\n        const value = data.value as TooltipLegendChild\n        const titleTextWidth = ctx.measureText(title.text).width\n        const valueTextWidth = ctx.measureText(value.text).width\n        const totalTextWidth = titleTextWidth + valueTextWidth\n        const h = marginTop + size + marginBottom\n        if (coordinate.x + marginLeft + totalTextWidth + marginRight > maxWidth) {\n          coordinate.x = left\n          coordinate.y += prevRowHeight\n          prevRowHeight = h\n        } else {\n          prevRowHeight = Math.max(prevRowHeight, h)\n        }\n        if (title.text.length > 0) {\n          this.createFigure({\n            name: 'text',\n            attrs: { x: coordinate.x + marginLeft, y: coordinate.y + marginTop, text: title.text },\n            styles: { color: title.color, size, family, weight }\n          })?.draw(ctx)\n        }\n        this.createFigure({\n          name: 'text',\n          attrs: { x: coordinate.x + marginLeft + titleTextWidth, y: coordinate.y + marginTop, text: value.text },\n          styles: { color: value.color, size, family, weight }\n        })?.draw(ctx)\n        coordinate.x += (marginLeft + totalTextWidth + marginRight)\n      })\n    }\n    return prevRowHeight\n  }\n\n  protected isDrawTooltip (crosshair: Crosshair, styles: TooltipStyle): boolean {\n    const showRule = styles.showRule\n    return showRule === 'always' ||\n      (showRule === 'follow_cross' && isString(crosshair.paneId))\n  }\n\n  protected getIndicatorTooltipData (indicator: Indicator): IndicatorTooltipData {\n    const chartStore = this.getWidget().getPane().getChart().getChartStore()\n    const styles = chartStore.getStyles().indicator\n    const tooltipStyles = styles.tooltip\n    const tooltipTitleStyles = tooltipStyles.title\n    let name = ''\n    let calcParamsText = ''\n    if (tooltipTitleStyles.show) {\n      if (tooltipTitleStyles.showName) {\n        name = indicator.shortName\n      }\n      if (tooltipTitleStyles.showParams) {\n        const calcParams = indicator.calcParams\n        if (calcParams.length > 0) {\n          calcParamsText = `(${calcParams.join(',')})`\n        }\n      }\n    }\n    const tooltipData: IndicatorTooltipData = { name, calcParamsText, legends: [], features: tooltipStyles.features }\n\n    const dataIndex = chartStore.getCrosshair().dataIndex!\n    const result = indicator.result\n\n    const formatter = chartStore.getInnerFormatter()\n    const decimalFold = chartStore.getDecimalFold()\n    const thousandsSeparator = chartStore.getThousandsSeparator()\n    const legends: TooltipLegend[] = []\n    if (indicator.visible) {\n      const data = result[dataIndex] ?? {}\n      const defaultValue = tooltipStyles.legend.defaultValue\n      eachFigures(indicator, dataIndex, styles, (figure: IndicatorFigure, figureStyles: Required<IndicatorFigureStyle>) => {\n        if (isString(figure.title)) {\n          const color = figureStyles.color\n          // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment  -- ignore\n          let value = data[figure.key]\n          if (isNumber(value)) {\n            value = formatPrecision(value, indicator.precision)\n            if (indicator.shouldFormatBigNumber) {\n              value = formatter.formatBigNumber(value as string)\n            }\n            value = decimalFold.format(thousandsSeparator.format(value as string))\n          }\n          legends.push({ title: { text: figure.title, color }, value: { text: (value ?? defaultValue) as string, color } })\n        }\n      })\n      tooltipData.legends = legends\n    }\n\n    if (isFunction(indicator.createTooltipDataSource)) {\n      const widget = this.getWidget()\n      const pane = widget.getPane()\n      const chart = pane.getChart()\n      const { name: customName, calcParamsText: customCalcParamsText, legends: customLegends, features: customFeatures } = indicator.createTooltipDataSource({\n        chart,\n        indicator,\n        crosshair: chartStore.getCrosshair(),\n        bounding: widget.getBounding(),\n        xAxis: pane.getChart().getXAxisPane().getAxisComponent(),\n        yAxis: pane.getAxisComponent()\n      })\n      if (tooltipTitleStyles.show) {\n        if (isString(customName) && tooltipTitleStyles.showName) {\n          tooltipData.name = customName\n        }\n        if (isString(customCalcParamsText) && tooltipTitleStyles.showParams) {\n          tooltipData.calcParamsText = customCalcParamsText\n        }\n      }\n\n      if (isValid(customFeatures)) {\n        tooltipData.features = customFeatures\n      }\n      if (isValid(customLegends) && indicator.visible) {\n        const optimizedLegends: TooltipLegend[] = []\n        const color = styles.tooltip.legend.color\n        customLegends.forEach(data => {\n          let title = { text: '', color }\n          if (isObject(data.title)) {\n            title = data.title\n          } else {\n            title.text = data.title\n          }\n          let value = { text: '', color }\n          if (isObject(data.value)) {\n            value = data.value\n          } else {\n            value.text = data.value\n          }\n          if (isNumber(Number(value.text))) {\n            value.text = decimalFold.format(thousandsSeparator.format(value.text))\n          }\n          optimizedLegends.push({ title, value })\n        })\n        tooltipData.legends = optimizedLegends\n      }\n    }\n    return tooltipData\n  }\n\n  protected classifyTooltipFeatures (features: TooltipFeatureStyle[]): TooltipFeatureStyle[][] {\n    const leftFeatures: TooltipFeatureStyle[] = []\n    const middleFeatures: TooltipFeatureStyle[] = []\n    const rightFeatures: TooltipFeatureStyle[] = []\n    features.forEach(feature => {\n      switch (feature.position) {\n        case 'left': {\n          leftFeatures.push(feature)\n          break\n        }\n        case 'middle': {\n          middleFeatures.push(feature)\n          break\n        }\n        case 'right': {\n          rightFeatures.push(feature)\n          break\n        }\n      }\n    })\n    return [leftFeatures, middleFeatures, rightFeatures]\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type Nullable from '../common/Nullable'\nimport type Coordinate from '../common/Coordinate'\nimport type Point from '../common/Point'\nimport type { EventHandler, EventName, MouseTouchEvent, MouseTouchEventCallback } from '../common/EventHandler'\nimport { isFunction, isNumber, isValid } from '../common/utils/typeChecks'\n\nimport type { Axis } from '../component/Axis'\nimport type { YAxis } from '../component/YAxis'\nimport type { OverlayFigure, Overlay } from '../component/Overlay'\nimport type OverlayImp from '../component/Overlay'\nimport { checkOverlayFigureEvent, OVERLAY_FIGURE_KEY_PREFIX } from '../component/Overlay'\n\nimport type { EventOverlayInfoFigureType } from '../Store'\n\nimport { PaneIdConstants } from '../pane/types'\n\nimport type DrawWidget from '../widget/DrawWidget'\nimport type DrawPane from '../pane/DrawPane'\n\nimport View from './View'\n\nexport default class OverlayView<C extends Axis = YAxis> extends View<C> {\n  constructor (widget: DrawWidget<DrawPane<C>>) {\n    super(widget)\n    this._initEvent()\n  }\n\n  private _initEvent (): void {\n    const widget = this.getWidget()\n    const pane = widget.getPane()\n    const paneId = pane.getId()\n    const chart = pane.getChart()\n    const chartStore = chart.getChartStore()\n    this.registerEvent('mouseMoveEvent', event => {\n      const progressOverlayInfo = chartStore.getProgressOverlayInfo()\n      if (progressOverlayInfo !== null) {\n        const overlay = progressOverlayInfo.overlay\n        let progressOverlayPaneId = progressOverlayInfo.paneId\n        if (overlay.isStart()) {\n          chartStore.updateProgressOverlayInfo(paneId)\n          progressOverlayPaneId = paneId\n        }\n        const index = overlay.points.length - 1\n        if (overlay.isDrawing() && progressOverlayPaneId === paneId) {\n          overlay.eventMoveForDrawing(this._coordinateToPoint(overlay, event))\n          overlay.onDrawing?.({ chart, overlay, ...event })\n        }\n        return this._figureMouseMoveEvent(\n          overlay,\n          'point',\n          index,\n          { key: `${OVERLAY_FIGURE_KEY_PREFIX}point_${index}`, type: 'circle', attrs: {} }\n        )(event)\n      }\n      chartStore.setHoverOverlayInfo(\n        {\n          paneId,\n          overlay: null,\n          figureType: 'none',\n          figureIndex: -1,\n          figure: null\n        },\n        (o, f) => this._processOverlayMouseEnterEvent(o, f, event),\n        (o, f) => this._processOverlayMouseLeaveEvent(o, f, event)\n      )\n      widget.setForceCursor(null)\n      return false\n    }).registerEvent('mouseClickEvent', event => {\n      const progressOverlayInfo = chartStore.getProgressOverlayInfo()\n      if (progressOverlayInfo !== null) {\n        const overlay = progressOverlayInfo.overlay\n        let progressOverlayPaneId = progressOverlayInfo.paneId\n        if (overlay.isStart()) {\n          chartStore.updateProgressOverlayInfo(paneId, true)\n          progressOverlayPaneId = paneId\n        }\n        const index = overlay.points.length - 1\n        if (overlay.isDrawing() && progressOverlayPaneId === paneId) {\n          overlay.eventMoveForDrawing(this._coordinateToPoint(overlay, event))\n          overlay.onDrawing?.({ chart, overlay, ...event })\n          overlay.nextStep()\n          if (!overlay.isDrawing()) {\n            chartStore.progressOverlayComplete()\n            overlay.onDrawEnd?.({ chart, overlay, ...event })\n          }\n        }\n        return this._figureMouseClickEvent(\n          overlay,\n          'point',\n          index,\n          {\n            key: `${OVERLAY_FIGURE_KEY_PREFIX}point_${index}`,\n            type: 'circle',\n            attrs: {}\n          }\n        )(event)\n      }\n      chartStore.setClickOverlayInfo(\n        {\n          paneId,\n          overlay: null,\n          figureType: 'none',\n          figureIndex: -1,\n          figure: null\n        },\n        (o, f) => this._processOverlaySelectedEvent(o, f, event),\n        (o, f) => this._processOverlayDeselectedEvent(o, f, event)\n      )\n      return false\n    }).registerEvent('mouseDoubleClickEvent', event => {\n      const progressOverlayInfo = chartStore.getProgressOverlayInfo()\n      if (progressOverlayInfo !== null) {\n        const overlay = progressOverlayInfo.overlay\n        const progressOverlayPaneId = progressOverlayInfo.paneId\n        if (overlay.isDrawing() && progressOverlayPaneId === paneId) {\n          overlay.forceComplete()\n          if (!overlay.isDrawing()) {\n            chartStore.progressOverlayComplete()\n            overlay.onDrawEnd?.({ chart, overlay, ...event })\n          }\n        }\n        const index = overlay.points.length - 1\n        return this._figureMouseClickEvent(\n          overlay,\n          'point',\n          index,\n          {\n            key: `${OVERLAY_FIGURE_KEY_PREFIX}point_${index}`,\n            type: 'circle',\n            attrs: {}\n          }\n        )(event)\n      }\n      return false\n    }).registerEvent('mouseRightClickEvent', event => {\n      const progressOverlayInfo = chartStore.getProgressOverlayInfo()\n      if (progressOverlayInfo !== null) {\n        const overlay = progressOverlayInfo.overlay\n        if (overlay.isDrawing()) {\n          const index = overlay.points.length - 1\n          return this._figureMouseRightClickEvent(\n            overlay,\n            'point',\n            index,\n            {\n              key: `${OVERLAY_FIGURE_KEY_PREFIX}point_${index}`,\n              type: 'circle',\n              attrs: {}\n            }\n          )(event)\n        }\n      }\n      return false\n    }).registerEvent('mouseUpEvent', event => {\n      const { overlay, figure } = chartStore.getPressedOverlayInfo()\n      if (overlay !== null) {\n        if (checkOverlayFigureEvent('onPressedMoveEnd', figure)) {\n          overlay.onPressedMoveEnd?.({ chart, overlay, figure: figure ?? undefined, ...event })\n        }\n      }\n      chartStore.setPressedOverlayInfo({\n        paneId,\n        overlay: null,\n        figureType: 'none',\n        figureIndex: -1,\n        figure: null\n      })\n      return false\n    }).registerEvent('pressedMouseMoveEvent', event => {\n      const { overlay, figureType, figureIndex, figure } = chartStore.getPressedOverlayInfo()\n      if (overlay !== null) {\n        if (checkOverlayFigureEvent('onPressedMoving', figure)) {\n          if (!overlay.lock) {\n            const point = this._coordinateToPoint(overlay, event)\n            if (figureType === 'point') {\n              overlay.eventPressedPointMove(point, figureIndex)\n            } else {\n              overlay.eventPressedOtherMove(point, this.getWidget().getPane().getChart().getChartStore())\n            }\n            let prevented = false\n            overlay.onPressedMoving?.({ chart, overlay, figure: figure ?? undefined, ...event, preventDefault: () => { prevented = true } })\n            // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition -- ignore\n            if (prevented) {\n              this.getWidget().setForceCursor(null)\n            } else {\n              this.getWidget().setForceCursor('pointer')\n            }\n          }\n          return true\n        }\n      }\n      this.getWidget().setForceCursor(null)\n      return false\n    })\n  }\n\n  private _createFigureEvents (\n    overlay: OverlayImp,\n    figureType: EventOverlayInfoFigureType,\n    figureIndex: number,\n    figure: OverlayFigure\n  ): Nullable<EventHandler> {\n    if (overlay.isDrawing()) {\n      return null\n    }\n    return {\n      mouseMoveEvent: this._figureMouseMoveEvent(overlay, figureType, figureIndex, figure),\n      mouseDownEvent: this._figureMouseDownEvent(overlay, figureType, figureIndex, figure),\n      mouseClickEvent: this._figureMouseClickEvent(overlay, figureType, figureIndex, figure),\n      mouseRightClickEvent: this._figureMouseRightClickEvent(overlay, figureType, figureIndex, figure),\n      mouseDoubleClickEvent: this._figureMouseDoubleClickEvent(overlay, figureType, figureIndex, figure)\n    }\n  }\n\n  private _processOverlayMouseEnterEvent (overlay: OverlayImp, figure: Nullable<OverlayFigure>, event: MouseTouchEvent): boolean {\n    if (isFunction(overlay.onMouseEnter) && checkOverlayFigureEvent('onMouseEnter', figure)) {\n      overlay.onMouseEnter({ chart: this.getWidget().getPane().getChart(), overlay, figure: figure ?? undefined, ...event })\n      return true\n    }\n    return false\n  }\n\n  private _processOverlayMouseLeaveEvent (overlay: OverlayImp, figure: Nullable<OverlayFigure>, event: MouseTouchEvent): boolean {\n    if (isFunction(overlay.onMouseLeave) && checkOverlayFigureEvent('onMouseLeave', figure)) {\n      overlay.onMouseLeave({ chart: this.getWidget().getPane().getChart(), overlay, figure: figure ?? undefined, ...event })\n      return true\n    }\n    return false\n  }\n\n  private _processOverlaySelectedEvent (overlay: OverlayImp, figure: Nullable<OverlayFigure>, event: MouseTouchEvent): boolean {\n    if (checkOverlayFigureEvent('onSelected', figure)) {\n      overlay.onSelected?.({ chart: this.getWidget().getPane().getChart(), overlay, figure: figure ?? undefined, ...event })\n      return true\n    }\n    return false\n  }\n\n  private _processOverlayDeselectedEvent (overlay: OverlayImp, figure: Nullable<OverlayFigure>, event: MouseTouchEvent): boolean {\n    if (checkOverlayFigureEvent('onDeselected', figure)) {\n      overlay.onDeselected?.({ chart: this.getWidget().getPane().getChart(), overlay, figure: figure ?? undefined, ...event })\n      return true\n    }\n    return false\n  }\n\n  private _figureMouseMoveEvent (overlay: OverlayImp, figureType: EventOverlayInfoFigureType, figureIndex: number, figure: OverlayFigure): MouseTouchEventCallback {\n    return (event: MouseTouchEvent) => {\n      const pane = this.getWidget().getPane()\n      const check = !overlay.isDrawing() && checkOverlayFigureEvent('onMouseMove', figure)\n      if (check) {\n        let prevented = false\n        overlay.onMouseMove?.({ chart: pane.getChart(), overlay, figure, ...event, preventDefault: () => { prevented = true } })\n        // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition -- ignore\n        if (prevented) {\n          this.getWidget().setForceCursor(null)\n        } else {\n          this.getWidget().setForceCursor('pointer')\n        }\n      }\n\n      pane.getChart().getChartStore().setHoverOverlayInfo(\n        { paneId: pane.getId(), overlay, figureType, figure, figureIndex },\n        (o, f) => this._processOverlayMouseEnterEvent(o, f, event),\n        (o, f) => this._processOverlayMouseLeaveEvent(o, f, event)\n      )\n      return check\n    }\n  }\n\n  private _figureMouseDownEvent (overlay: OverlayImp, figureType: EventOverlayInfoFigureType, figureIndex: number, figure: OverlayFigure): MouseTouchEventCallback {\n    return (event: MouseTouchEvent) => {\n      const pane = this.getWidget().getPane()\n      const paneId = pane.getId()\n      overlay.startPressedMove(this._coordinateToPoint(overlay, event))\n      if (checkOverlayFigureEvent('onPressedMoveStart', figure)) {\n        overlay.onPressedMoveStart?.({ chart: pane.getChart(), overlay, figure, ...event })\n        pane.getChart().getChartStore().setPressedOverlayInfo({ paneId, overlay, figureType, figureIndex, figure })\n        return !overlay.isDrawing()\n      }\n      return false\n    }\n  }\n\n  private _figureMouseClickEvent (overlay: OverlayImp, figureType: EventOverlayInfoFigureType, figureIndex: number, figure: OverlayFigure): MouseTouchEventCallback {\n    return (event: MouseTouchEvent) => {\n      const pane = this.getWidget().getPane()\n      const paneId = pane.getId()\n      const check = !overlay.isDrawing() && checkOverlayFigureEvent('onClick', figure)\n      if (check) {\n        overlay.onClick?.({ chart: this.getWidget().getPane().getChart(), overlay, figure, ...event })\n      }\n      pane.getChart().getChartStore().setClickOverlayInfo(\n        { paneId, overlay, figureType, figureIndex, figure },\n        (o, f) => this._processOverlaySelectedEvent(o, f, event),\n        (o, f) => this._processOverlayDeselectedEvent(o, f, event)\n      )\n      return check\n    }\n  }\n\n  private _figureMouseDoubleClickEvent (overlay: OverlayImp, _figureType: EventOverlayInfoFigureType, _figureIndex: number, figure: OverlayFigure): MouseTouchEventCallback {\n    return (event: MouseTouchEvent) => {\n      if (checkOverlayFigureEvent('onDoubleClick', figure)) {\n        overlay.onDoubleClick?.({ ...event, chart: this.getWidget().getPane().getChart(), figure, overlay })\n        return !overlay.isDrawing()\n      }\n      return false\n    }\n  }\n\n  private _figureMouseRightClickEvent (overlay: OverlayImp, _figureType: EventOverlayInfoFigureType, _figureIndex: number, figure: OverlayFigure): MouseTouchEventCallback {\n    return (event: MouseTouchEvent) => {\n      if (checkOverlayFigureEvent('onRightClick', figure)) {\n        let prevented = false\n        overlay.onRightClick?.({ chart: this.getWidget().getPane().getChart(), overlay, figure, ...event, preventDefault: () => { prevented = true } })\n        // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition -- ignore\n        if (!prevented) {\n          this.getWidget().getPane().getChart().getChartStore().removeOverlay(overlay)\n        }\n        return !overlay.isDrawing()\n      }\n      return false\n    }\n  }\n\n  private _coordinateToPoint (o: Overlay, coordinate: Coordinate): Partial<Point> {\n    const point: Partial<Point> = {}\n    const pane = this.getWidget().getPane()\n    const chart = pane.getChart()\n    const paneId = pane.getId()\n    const chartStore = chart.getChartStore()\n    if (this.coordinateToPointTimestampDataIndexFlag()) {\n      const xAxis = chart.getXAxisPane().getAxisComponent()\n      const dataIndex = xAxis.convertFromPixel(coordinate.x)\n      const timestamp = chartStore.dataIndexToTimestamp(dataIndex) ?? undefined\n      point.timestamp = timestamp\n      point.dataIndex = dataIndex\n    }\n    if (this.coordinateToPointValueFlag()) {\n      const yAxis = pane.getAxisComponent()\n      let value = yAxis.convertFromPixel(coordinate.y)\n      if (o.mode !== 'normal' && paneId === PaneIdConstants.CANDLE && isNumber(point.dataIndex)) {\n        const kLineData = chartStore.getDataByDataIndex(point.dataIndex)\n        if (kLineData !== null) {\n          const modeSensitivity = o.modeSensitivity\n          if (value > kLineData.high) {\n            if (o.mode === 'weak_magnet') {\n              const highY = yAxis.convertToPixel(kLineData.high)\n              const buffValue = yAxis.convertFromPixel(highY - modeSensitivity)\n              if (value < buffValue) {\n                value = kLineData.high\n              }\n            } else {\n              value = kLineData.high\n            }\n          } else if (value < kLineData.low) {\n            if (o.mode === 'weak_magnet') {\n              const lowY = yAxis.convertToPixel(kLineData.low)\n              const buffValue = yAxis.convertFromPixel(lowY - modeSensitivity)\n              if (value > buffValue) {\n                value = kLineData.low\n              }\n            } else {\n              value = kLineData.low\n            }\n          } else {\n            const max = Math.max(kLineData.open, kLineData.close)\n            const min = Math.min(kLineData.open, kLineData.close)\n            if (value > max) {\n              if (value - max < kLineData.high - value) {\n                value = max\n              } else {\n                value = kLineData.high\n              }\n            } else if (value < min) {\n              if (value - kLineData.low < min - value) {\n                value = kLineData.low\n              } else {\n                value = min\n              }\n            } else if (max - value < value - min) {\n              value = max\n            } else {\n              value = min\n            }\n          }\n        }\n      }\n      point.value = value\n    }\n    return point\n  }\n\n  protected coordinateToPointValueFlag (): boolean {\n    return true\n  }\n\n  protected coordinateToPointTimestampDataIndexFlag (): boolean {\n    return true\n  }\n\n  override dispatchEvent (name: EventName, event: MouseTouchEvent): boolean {\n    if (this.getWidget().getPane().getChart().getChartStore().isOverlayDrawing()) {\n      return this.onEvent(name, event)\n    }\n    return super.dispatchEvent(name, event)\n  }\n\n  override drawImp (ctx: CanvasRenderingContext2D): void {\n    const overlays = this.getCompleteOverlays()\n    overlays.forEach(overlay => {\n      if (overlay.visible) {\n        this._drawOverlay(ctx, overlay)\n      }\n    })\n    const progressOverlay = this.getProgressOverlay()\n    if (isValid(progressOverlay) && progressOverlay.visible) {\n      this._drawOverlay(ctx, progressOverlay)\n    }\n  }\n\n  private _drawOverlay (\n    ctx: CanvasRenderingContext2D,\n    overlay: OverlayImp\n  ): void {\n    const { points } = overlay\n    const pane = this.getWidget().getPane()\n    const chart = pane.getChart()\n    const chartStore = chart.getChartStore()\n    const yAxis = pane.getAxisComponent() as unknown as Nullable<YAxis>\n    const xAxis = chart.getXAxisPane().getAxisComponent()\n    const coordinates = points.map(point => {\n      let dataIndex: Nullable<number> = null\n      if (isNumber(point.timestamp)) {\n        dataIndex = chartStore.timestampToDataIndex(point.timestamp)\n      }\n      const coordinate = { x: 0, y: 0 }\n      if (isNumber(dataIndex)) {\n        coordinate.x = xAxis.convertToPixel(dataIndex)\n      }\n      if (isNumber(point.value)) {\n        coordinate.y = yAxis?.convertToPixel(point.value) ?? 0\n      }\n      return coordinate\n    })\n    if (coordinates.length > 0) {\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment -- ignore\n      // @ts-expect-error\n      const figures = [].concat(this.getFigures(overlay, coordinates))\n      this.drawFigures(\n        ctx,\n        overlay,\n        figures\n      )\n    }\n    this.drawDefaultFigures(\n      ctx,\n      overlay,\n      coordinates\n    )\n  }\n\n  protected drawFigures (ctx: CanvasRenderingContext2D, overlay: OverlayImp, figures: OverlayFigure[]): void {\n    const defaultStyles = this.getWidget().getPane().getChart().getStyles().overlay\n    figures.forEach((figure, figureIndex) => {\n      const { type, styles, attrs } = figure\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment -- ignore\n      // @ts-expect-error\n      const attrsArray = [].concat(attrs)\n      attrsArray.forEach((ats) => {\n        const events = this._createFigureEvents(overlay, 'other', figureIndex, figure)\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment -- ignore\n        // @ts-expect-error\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment -- ignore\n        const ss = { ...defaultStyles[type], ...overlay.styles?.[type], ...styles }\n        this.createFigure({\n          name: type, attrs: ats, styles: ss\n        }, events ?? undefined)?.draw(ctx)\n      })\n    })\n  }\n\n  protected getCompleteOverlays (): OverlayImp[] {\n    const pane = this.getWidget().getPane()\n    return pane.getChart().getChartStore().getOverlaysByPaneId(pane.getId())\n  }\n\n  protected getProgressOverlay (): Nullable<OverlayImp> {\n    const pane = this.getWidget().getPane()\n    const info = pane.getChart().getChartStore().getProgressOverlayInfo()\n    if (isValid(info) && info.paneId === pane.getId()) {\n      return info.overlay\n    }\n    return null\n  }\n\n  protected getFigures (\n    o: Overlay,\n    coordinates: Coordinate[]\n  ): OverlayFigure | OverlayFigure[] {\n    const widget = this.getWidget()\n    const pane = widget.getPane()\n    const chart = pane.getChart()\n    const yAxis = pane.getAxisComponent() as unknown as Nullable<YAxis>\n    const xAxis = chart.getXAxisPane().getAxisComponent()\n    const bounding = widget.getBounding()\n    return o.createPointFigures?.({ chart, overlay: o, coordinates, bounding, xAxis, yAxis }) ?? []\n  }\n\n  protected drawDefaultFigures (\n    ctx: CanvasRenderingContext2D,\n    overlay: OverlayImp,\n    coordinates: Coordinate[]\n  ): void {\n    if (overlay.needDefaultPointFigure) {\n      const chartStore = this.getWidget().getPane().getChart().getChartStore()\n      const hoverOverlayInfo = chartStore.getHoverOverlayInfo()\n      const clickOverlayInfo = chartStore.getClickOverlayInfo()\n      if (\n        (hoverOverlayInfo.overlay?.id === overlay.id && hoverOverlayInfo.figureType !== 'none') ||\n        (clickOverlayInfo.overlay?.id === overlay.id && clickOverlayInfo.figureType !== 'none')\n      ) {\n        const defaultStyles = chartStore.getStyles().overlay\n        const styles = overlay.styles\n        const pointStyles = { ...defaultStyles.point, ...styles?.point }\n        coordinates.forEach(({ x, y }, index) => {\n          let radius = pointStyles.radius\n          let color = pointStyles.color\n          let borderColor = pointStyles.borderColor\n          let borderSize = pointStyles.borderSize\n          if (\n            hoverOverlayInfo.overlay?.id === overlay.id &&\n            hoverOverlayInfo.figureType === 'point' &&\n            hoverOverlayInfo.figure?.key === `${OVERLAY_FIGURE_KEY_PREFIX}point_${index}`\n          ) {\n            radius = pointStyles.activeRadius\n            color = pointStyles.activeColor\n            borderColor = pointStyles.activeBorderColor\n            borderSize = pointStyles.activeBorderSize\n          }\n\n          this.createFigure(\n            {\n              name: 'circle',\n              attrs: { x, y, r: radius + borderSize },\n              styles: { color: borderColor }\n            },\n            this._createFigureEvents(\n              overlay,\n              'point',\n              index,\n              {\n                key: `${OVERLAY_FIGURE_KEY_PREFIX}point_${index}`,\n                type: 'circle',\n                attrs: { x, y, r: radius + borderSize },\n                styles: { color: borderColor }\n              }\n            ) ?? undefined\n          )?.draw(ctx)\n          this.createFigure({\n            name: 'circle',\n            attrs: { x, y, r: radius },\n            styles: { color }\n          })?.draw(ctx)\n        })\n      }\n    }\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type DrawPane from '../pane/DrawPane'\n\nimport { WidgetNameConstants } from './types'\nimport DrawWidget from './DrawWidget'\n\nimport type { YAxis } from '../component/YAxis'\n\nimport GridView from '../view/GridView'\nimport IndicatorView from '../view/IndicatorView'\nimport CrosshairLineView from '../view/CrosshairLineView'\nimport IndicatorTooltipView from '../view/IndicatorTooltipView'\nimport OverlayView from '../view/OverlayView'\n\nexport default class IndicatorWidget extends DrawWidget<DrawPane<YAxis>> {\n  private readonly _gridView = new GridView(this)\n  private readonly _indicatorView = new IndicatorView(this)\n  private readonly _crosshairLineView = new CrosshairLineView(this)\n  private readonly _tooltipView = this.createTooltipView()\n  private readonly _overlayView = new OverlayView(this)\n\n  constructor (rootContainer: HTMLElement, pane: DrawPane<YAxis>) {\n    super(rootContainer, pane)\n    this.addChild(this._tooltipView)\n    this.addChild(this._overlayView)\n  }\n\n  getName (): string {\n    return WidgetNameConstants.MAIN\n  }\n\n  protected updateMain (ctx: CanvasRenderingContext2D): void {\n    if (this.getPane().getOptions().state !== 'minimize') {\n      this.updateMainContent(ctx)\n      this._indicatorView.draw(ctx)\n      this._gridView.draw(ctx)\n    }\n  }\n\n  protected createTooltipView (): IndicatorTooltipView {\n    return new IndicatorTooltipView(this)\n  }\n\n  protected updateMainContent (_ctx: CanvasRenderingContext2D): void {\n    // to do it\n  }\n\n  protected updateOverlayContent (_ctx: CanvasRenderingContext2D): void {\n    // to do it\n  }\n\n  override updateOverlay (ctx: CanvasRenderingContext2D): void {\n    if (this.getPane().getOptions().state !== 'minimize') {\n      this._overlayView.draw(ctx)\n      this._crosshairLineView.draw(ctx)\n      this.updateOverlayContent(ctx)\n    }\n    this._tooltipView.draw(ctx)\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type Coordinate from '../common/Coordinate'\nimport type { GradientColor } from '../common/Styles'\nimport Animation from '../common/Animation'\nimport { isNumber, isArray, isValid } from '../common/utils/typeChecks'\nimport { UpdateLevel } from '../common/Updater'\n\nimport ChildrenView from './ChildrenView'\n\nimport { lineTo } from '../extension/figure/line'\nimport type Nullable from '../common/Nullable'\n\nexport default class CandleAreaView extends ChildrenView {\n  private readonly _ripplePoint = this.createFigure({\n    name: 'circle',\n    attrs: {\n      x: 0,\n      y: 0,\n      r: 0\n    },\n    styles: {\n      style: 'fill'\n    }\n  })\n\n  private _animationFrameTime = 0\n\n  private readonly _animation = new Animation({ iterationCount: Infinity }).doFrame((time) => {\n    this._animationFrameTime = time\n    const pane = this.getWidget().getPane()\n    pane.getChart().updatePane(UpdateLevel.Main, pane.getId())\n  })\n\n  override drawImp (ctx: CanvasRenderingContext2D): void {\n    const widget = this.getWidget()\n    const pane = widget.getPane()\n    const chart = pane.getChart()\n    const dataList = chart.getDataList()\n    const lastDataIndex = dataList.length - 1\n    const bounding = widget.getBounding()\n    const yAxis = pane.getAxisComponent()\n    const styles = chart.getStyles().candle.area\n    const coordinates: Coordinate[] = []\n    let minY = Number.MAX_SAFE_INTEGER\n    let areaStartX: number = Number.MIN_SAFE_INTEGER\n    let ripplePointCoordinate: Nullable<Coordinate> = null\n    this.eachChildren((data) => {\n      const x = data.x\n      const { current: kLineData } = data.data\n      const value = kLineData?.[styles.value]\n      if (isNumber(value)) {\n        const y = yAxis.convertToPixel(value)\n        if (areaStartX === Number.MIN_SAFE_INTEGER) {\n          areaStartX = x\n        }\n        coordinates.push({ x, y })\n        minY = Math.min(minY, y)\n        if (data.dataIndex === lastDataIndex) {\n          ripplePointCoordinate = { x, y }\n        }\n      }\n    })\n\n    if (coordinates.length > 0) {\n      this.createFigure({\n        name: 'line',\n        attrs: { coordinates },\n        styles: {\n          color: styles.lineColor,\n          size: styles.lineSize,\n          smooth: styles.smooth\n        }\n      }\n      )?.draw(ctx)\n\n      // render area\n      const backgroundColor = styles.backgroundColor\n      let color: string | CanvasGradient = ''\n      if (isArray<GradientColor>(backgroundColor)) {\n        const gradient = ctx.createLinearGradient(0, bounding.height, 0, minY)\n        try {\n          backgroundColor.forEach(({ offset, color }) => {\n            gradient.addColorStop(offset, color)\n          })\n        } catch (e) {\n        }\n        color = gradient\n      } else {\n        color = backgroundColor\n      }\n      ctx.fillStyle = color\n      ctx.beginPath()\n      ctx.moveTo(areaStartX, bounding.height)\n      ctx.lineTo(coordinates[0].x, coordinates[0].y)\n      lineTo(ctx, coordinates, styles.smooth)\n      ctx.lineTo(coordinates[coordinates.length - 1].x, bounding.height)\n      ctx.closePath()\n      ctx.fill()\n    }\n\n    const pointStyles = styles.point\n    if (pointStyles.show && isValid(ripplePointCoordinate)) {\n      this.createFigure({\n        name: 'circle',\n        attrs: {\n          x: ripplePointCoordinate!.x,\n          y: ripplePointCoordinate!.y,\n          r: pointStyles.radius\n        },\n        styles: {\n          style: 'fill',\n          color: pointStyles.color\n        }\n      })?.draw(ctx)\n      let rippleRadius = pointStyles.rippleRadius\n      if (pointStyles.animation) {\n        rippleRadius = pointStyles.radius + this._animationFrameTime / pointStyles.animationDuration * (pointStyles.rippleRadius - pointStyles.radius)\n        this._animation.setDuration(pointStyles.animationDuration).start()\n      }\n      this._ripplePoint\n        ?.setAttrs({\n          x: ripplePointCoordinate!.x,\n          y: ripplePointCoordinate!.y,\n          r: rippleRadius\n        })\n        .setStyles({ style: 'fill', color: pointStyles.rippleColor }).draw(ctx)\n    } else {\n      this.stopAnimation()\n    }\n  }\n\n  stopAnimation (): void {\n    this._animation.stop()\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type Coordinate from '../common/Coordinate'\nimport type { CandleHighLowPriceMarkStyle } from '../common/Styles'\nimport { formatPrecision } from '../common/utils/format'\nimport { SymbolDefaultPrecisionConstants } from '../common/SymbolInfo'\n\nimport View from './View'\n\nimport type { YAxis } from '../component/YAxis'\n\nexport default class CandleHighLowPriceView extends View<YAxis> {\n  override drawImp (ctx: CanvasRenderingContext2D): void {\n    const widget = this.getWidget()\n    const pane = widget.getPane()\n    const chartStore = pane.getChart().getChartStore()\n    const priceMarkStyles = chartStore.getStyles().candle.priceMark\n    const highPriceMarkStyles = priceMarkStyles.high\n    const lowPriceMarkStyles = priceMarkStyles.low\n    if (priceMarkStyles.show && (highPriceMarkStyles.show || lowPriceMarkStyles.show)) {\n      const highestLowestPrice = chartStore.getVisibleRangeHighLowPrice()\n      const precision = chartStore.getSymbol()?.pricePrecision ?? SymbolDefaultPrecisionConstants.PRICE\n      const yAxis = pane.getAxisComponent()\n\n      const { price: high, x: highX } = highestLowestPrice[0]\n      const { price: low, x: lowX } = highestLowestPrice[1]\n      const highY = yAxis.convertToPixel(high)\n      const lowY = yAxis.convertToPixel(low)\n      const decimalFold = chartStore.getDecimalFold()\n      const thousandsSeparator = chartStore.getThousandsSeparator()\n      if (highPriceMarkStyles.show && high !== Number.MIN_SAFE_INTEGER) {\n        this._drawMark(\n          ctx,\n          decimalFold.format(thousandsSeparator.format(formatPrecision(high, precision))),\n          { x: highX, y: highY },\n          highY < lowY ? [-2, -5] : [2, 5],\n          highPriceMarkStyles\n        )\n      }\n      if (lowPriceMarkStyles.show && low !== Number.MAX_SAFE_INTEGER) {\n        this._drawMark(\n          ctx,\n          decimalFold.format(thousandsSeparator.format(formatPrecision(low, precision))),\n          { x: lowX, y: lowY },\n          highY < lowY ? [2, 5] : [-2, -5],\n          lowPriceMarkStyles\n        )\n      }\n    }\n  }\n\n  private _drawMark (\n    ctx: CanvasRenderingContext2D,\n    text: string,\n    coordinate: Coordinate,\n    offsets: number[],\n    styles: CandleHighLowPriceMarkStyle\n  ): void {\n    const startX = coordinate.x\n    const startY = coordinate.y + offsets[0]\n    this.createFigure({\n      name: 'line',\n      attrs: {\n        coordinates: [\n          { x: startX - 2, y: startY + offsets[0] },\n          { x: startX, y: startY },\n          { x: startX + 2, y: startY + offsets[0] }\n        ]\n      },\n      styles: { color: styles.color }\n    })?.draw(ctx)\n\n    let lineEndX = 0\n    let textStartX = 0\n    let textAlign = 'left'\n    const { width } = this.getWidget().getBounding()\n    if (startX > width / 2) {\n      lineEndX = startX - 5\n      textStartX = lineEndX - styles.textOffset\n      textAlign = 'right'\n    } else {\n      lineEndX = startX + 5\n      textAlign = 'left'\n      textStartX = lineEndX + styles.textOffset\n    }\n\n    const y = startY + offsets[1]\n    this.createFigure({\n      name: 'line',\n      attrs: {\n        coordinates: [\n          { x: startX, y: startY },\n          { x: startX, y },\n          { x: lineEndX, y }\n        ]\n      },\n      styles: { color: styles.color }\n    })?.draw(ctx)\n    this.createFigure({\n      name: 'text',\n      attrs: {\n        x: textStartX,\n        y,\n        text,\n        align: textAlign,\n        baseline: 'middle'\n      },\n      styles: {\n        color: styles.color,\n        size: styles.textSize,\n        family: styles.textFamily,\n        weight: styles.textWeight\n      }\n    })?.draw(ctx)\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { isValid } from '../common/utils/typeChecks'\nimport type YAxis from '../component/YAxis'\n\nimport View from './View'\n\nexport default class CandleLastPriceView extends View {\n  override drawImp (ctx: CanvasRenderingContext2D): void {\n    const widget = this.getWidget()\n    const pane = widget.getPane()\n    const bounding = widget.getBounding()\n    const chartStore = pane.getChart().getChartStore()\n    const priceMarkStyles = chartStore.getStyles().candle.priceMark\n    const lastPriceMarkStyles = priceMarkStyles.last\n    const lastPriceMarkLineStyles = lastPriceMarkStyles.line\n    if (priceMarkStyles.show && lastPriceMarkStyles.show && lastPriceMarkLineStyles.show) {\n      const yAxis = pane.getAxisComponent() as YAxis\n      const dataList = chartStore.getDataList()\n      const data = dataList[dataList.length - 1]\n      if (isValid(data)) {\n        const { close, open } = data\n        const comparePrice = lastPriceMarkStyles.compareRule === 'current_open' ? open : (dataList[dataList.length - 2]?.close ?? close)\n        const priceY = yAxis.convertToNicePixel(close)\n        let color = ''\n        if (close > comparePrice) {\n          color = lastPriceMarkStyles.upColor\n        } else if (close < comparePrice) {\n          color = lastPriceMarkStyles.downColor\n        } else {\n          color = lastPriceMarkStyles.noChangeColor\n        }\n        this.createFigure({\n          name: 'line',\n          attrs: {\n            coordinates: [\n              { x: 0, y: priceY },\n              { x: bounding.width, y: priceY }\n            ]\n          },\n          styles: {\n            style: lastPriceMarkLineStyles.style,\n            color,\n            size: lastPriceMarkLineStyles.size,\n            dashedValue: lastPriceMarkLineStyles.dashedValue\n          }\n        })?.draw(ctx)\n      }\n    }\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type {\n  TooltipLegend, TooltipLegendChild\n} from '../common/Styles'\nimport { formatPrecision, formatTemplateString } from '../common/utils/format'\nimport { createFont } from '../common/utils/canvas'\nimport { isFunction, isObject, isValid } from '../common/utils/typeChecks'\nimport { PeriodTypeCrosshairTooltipFormat } from '../common/Period'\nimport { SymbolDefaultPrecisionConstants } from '../common/SymbolInfo'\n\nimport { PaneIdConstants } from '../pane/types'\n\nimport IndicatorTooltipView from './IndicatorTooltipView'\n\nimport { i18n } from '../extension/i18n/index'\n\nexport default class CandleTooltipView extends IndicatorTooltipView {\n  override drawImp (ctx: CanvasRenderingContext2D): void {\n    const widget = this.getWidget()\n    const chartStore = widget.getPane().getChart().getChartStore()\n    const crosshair = chartStore.getCrosshair()\n    if (isValid(crosshair.kLineData)) {\n      const bounding = widget.getBounding()\n      const styles = chartStore.getStyles()\n      const candleStyles = styles.candle\n      const indicatorStyles = styles.indicator\n      if (\n        candleStyles.tooltip.showType === 'rect' &&\n        indicatorStyles.tooltip.showType === 'rect'\n      ) {\n        const isDrawCandleTooltip = this.isDrawTooltip(crosshair, candleStyles.tooltip)\n        const isDrawIndicatorTooltip = this.isDrawTooltip(crosshair, indicatorStyles.tooltip)\n        this._drawRectTooltip(\n          ctx, isDrawCandleTooltip, isDrawIndicatorTooltip,\n          candleStyles.tooltip.offsetTop\n        )\n      } else if (\n        candleStyles.tooltip.showType === 'standard' &&\n        indicatorStyles.tooltip.showType === 'standard'\n      ) {\n        const { offsetLeft, offsetTop, offsetRight } = candleStyles.tooltip\n        const maxWidth = bounding.width - offsetRight\n        const top = this._drawCandleStandardTooltip(\n          ctx, offsetLeft, offsetTop, maxWidth\n        )\n        this.drawIndicatorTooltip(ctx, offsetLeft, top, maxWidth)\n      } else if (\n        candleStyles.tooltip.showType === 'rect' &&\n        indicatorStyles.tooltip.showType === 'standard'\n      ) {\n        const { offsetLeft, offsetTop, offsetRight } = candleStyles.tooltip\n        const maxWidth = bounding.width - offsetRight\n        const top = this.drawIndicatorTooltip(\n          ctx, offsetLeft, offsetTop, maxWidth\n        )\n        const isDrawCandleTooltip = this.isDrawTooltip(crosshair, candleStyles.tooltip)\n        this._drawRectTooltip(\n          ctx, isDrawCandleTooltip, false, top\n        )\n      } else {\n        const { offsetLeft, offsetTop, offsetRight } = candleStyles.tooltip\n        const maxWidth = bounding.width - offsetRight\n        const top = this._drawCandleStandardTooltip(\n          ctx, offsetLeft, offsetTop, maxWidth\n        )\n        const isDrawIndicatorTooltip = this.isDrawTooltip(crosshair, indicatorStyles.tooltip)\n        this._drawRectTooltip(\n          ctx, false, isDrawIndicatorTooltip, top\n        )\n      }\n    }\n  }\n\n  private _drawCandleStandardTooltip (\n    ctx: CanvasRenderingContext2D,\n    left: number,\n    top: number,\n    maxWidth: number\n  ): number {\n    const chartStore = this.getWidget().getPane().getChart().getChartStore()\n    const styles = chartStore.getStyles().candle\n    const tooltipStyles = styles.tooltip\n    const tooltipLegendStyles = tooltipStyles.legend\n    let prevRowHeight = 0\n    const coordinate = { x: left, y: top }\n    const crosshair = chartStore.getCrosshair()\n    if (this.isDrawTooltip(crosshair, tooltipStyles)) {\n      const tooltipTitleStyles = tooltipStyles.title\n      if (tooltipTitleStyles.show) {\n        const { type = '', span = '' } = chartStore.getPeriod() ?? {}\n        const text = formatTemplateString(tooltipTitleStyles.template, { ...chartStore.getSymbol(), period: `${span}${i18n(type, chartStore.getLocale())}` })\n        const color = tooltipTitleStyles.color\n        const height = this.drawStandardTooltipLegends(\n          ctx, [\n            {\n              title: { text: '', color },\n              value: { text, color }\n            }\n          ], { x: left, y: top }, left,\n          0, maxWidth, tooltipTitleStyles\n        )\n        coordinate.y = coordinate.y + height\n      }\n\n      const legends = this._getCandleTooltipLegends()\n      const features = this.classifyTooltipFeatures(tooltipStyles.features)\n      prevRowHeight = this.drawStandardTooltipFeatures(\n        ctx, features[0], coordinate,\n        null, left, prevRowHeight, maxWidth\n      )\n      prevRowHeight = this.drawStandardTooltipFeatures(\n        ctx, features[1], coordinate,\n        null, left, prevRowHeight, maxWidth\n      )\n      if (legends.length > 0) {\n        prevRowHeight = this.drawStandardTooltipLegends(\n          ctx, legends, coordinate, left,\n          prevRowHeight, maxWidth, tooltipLegendStyles\n        )\n      }\n\n      prevRowHeight = this.drawStandardTooltipFeatures(\n        ctx, features[2], coordinate,\n        null, left, prevRowHeight, maxWidth\n      )\n    }\n    return coordinate.y + prevRowHeight\n  }\n\n  private _drawRectTooltip (\n    ctx: CanvasRenderingContext2D,\n    isDrawCandleTooltip: boolean,\n    isDrawIndicatorTooltip: boolean,\n    top: number\n  ): void {\n    const widget = this.getWidget()\n    const pane = widget.getPane()\n    const chartStore = pane.getChart().getChartStore()\n\n    const styles = chartStore.getStyles()\n    const candleStyles = styles.candle\n    const indicatorStyles = styles.indicator\n    const candleTooltipStyles = candleStyles.tooltip\n    const indicatorTooltipStyles = indicatorStyles.tooltip\n    if (isDrawCandleTooltip || isDrawIndicatorTooltip) {\n      const candleLegends = this._getCandleTooltipLegends()\n      const { offsetLeft, offsetTop, offsetRight, offsetBottom } = candleTooltipStyles\n\n      const {\n        marginLeft: baseLegendMarginLeft,\n        marginRight: baseLegendMarginRight,\n        marginTop: baseLegendMarginTop,\n        marginBottom: baseLegendMarginBottom,\n        size: baseLegendSize,\n        weight: baseLegendWeight,\n        family: baseLegendFamily\n      } = candleTooltipStyles.legend\n\n      const {\n        position: rectPosition,\n        paddingLeft: rectPaddingLeft,\n        paddingRight: rectPaddingRight,\n        paddingTop: rectPaddingTop,\n        paddingBottom: rectPaddingBottom,\n        offsetLeft: rectOffsetLeft,\n        offsetRight: rectOffsetRight,\n        offsetTop: rectOffsetTop,\n        offsetBottom: rectOffsetBottom,\n        borderSize: rectBorderSize,\n        borderRadius: rectBorderRadius,\n        borderColor: rectBorderColor,\n        color: rectBackgroundColor\n      } = candleTooltipStyles.rect\n\n      let maxTextWidth = 0\n      let rectWidth = 0\n      let rectHeight = 0\n      if (isDrawCandleTooltip) {\n        ctx.font = createFont(baseLegendSize, baseLegendWeight, baseLegendFamily)\n        candleLegends.forEach(data => {\n          const title = data.title as TooltipLegendChild\n          const value = data.value as TooltipLegendChild\n          const text = `${title.text}${value.text}`\n          const labelWidth = ctx.measureText(text).width + baseLegendMarginLeft + baseLegendMarginRight\n          maxTextWidth = Math.max(maxTextWidth, labelWidth)\n        })\n        rectHeight += ((baseLegendMarginBottom + baseLegendMarginTop + baseLegendSize) * candleLegends.length)\n      }\n\n      const {\n        marginLeft: indicatorLegendMarginLeft,\n        marginRight: indicatorLegendMarginRight,\n        marginTop: indicatorLegendMarginTop,\n        marginBottom: indicatorLegendMarginBottom,\n        size: indicatorLegendSize,\n        weight: indicatorLegendWeight,\n        family: indicatorLegendFamily\n      } = indicatorTooltipStyles.legend\n      const indicatorLegendsArray: TooltipLegend[][] = []\n      if (isDrawIndicatorTooltip) {\n        const indicators = chartStore.getIndicatorsByPaneId(pane.getId())\n        ctx.font = createFont(indicatorLegendSize, indicatorLegendWeight, indicatorLegendFamily)\n        indicators.forEach(indicator => {\n          const tooltipDataLegends = this.getIndicatorTooltipData(indicator).legends\n          indicatorLegendsArray.push(tooltipDataLegends)\n          tooltipDataLegends.forEach(data => {\n            const title = data.title as TooltipLegendChild\n            const value = data.value as TooltipLegendChild\n            const text = `${title.text}${value.text}`\n            const textWidth = ctx.measureText(text).width + indicatorLegendMarginLeft + indicatorLegendMarginRight\n            maxTextWidth = Math.max(maxTextWidth, textWidth)\n            rectHeight += (indicatorLegendMarginTop + indicatorLegendMarginBottom + indicatorLegendSize)\n          })\n        })\n      }\n      rectWidth += maxTextWidth\n      if (rectWidth !== 0 && rectHeight !== 0) {\n        const crosshair = chartStore.getCrosshair()\n        const bounding = widget.getBounding()\n        const yAxisBounding = pane.getYAxisWidget()!.getBounding()\n        rectWidth += (rectBorderSize * 2 + rectPaddingLeft + rectPaddingRight)\n        rectHeight += (rectBorderSize * 2 + rectPaddingTop + rectPaddingBottom)\n        const centerX = bounding.width / 2\n        const isPointer = rectPosition === 'pointer' && crosshair.paneId === PaneIdConstants.CANDLE\n        const isLeft = (crosshair.realX ?? 0) > centerX\n        let rectX = 0\n        if (isPointer) {\n          const realX = crosshair.realX!\n          if (isLeft) {\n            rectX = realX - rectOffsetRight - rectWidth\n          } else {\n            rectX = realX + rectOffsetLeft\n          }\n        } else {\n          const yAxis = this.getWidget().getPane().getAxisComponent()\n          if (isLeft) {\n            rectX = rectOffsetLeft + offsetLeft\n            if (yAxis.inside && yAxis.position === 'left') {\n              rectX += yAxisBounding.width\n            }\n          } else {\n            rectX = bounding.width - rectOffsetRight - rectWidth - offsetRight\n            if (yAxis.inside && yAxis.position === 'right') {\n              rectX -= yAxisBounding.width\n            }\n          }\n        }\n\n        let rectY = top + rectOffsetTop\n        if (isPointer) {\n          const y = crosshair.y!\n          rectY = y - rectHeight / 2\n          if (rectY + rectHeight > bounding.height - rectOffsetBottom - offsetBottom) {\n            rectY = bounding.height - rectOffsetBottom - rectHeight - offsetBottom\n          }\n          if (rectY < top + rectOffsetTop) {\n            rectY = top + rectOffsetTop + offsetTop\n          }\n        }\n        this.createFigure({\n          name: 'rect',\n          attrs: {\n            x: rectX,\n            y: rectY,\n            width: rectWidth,\n            height: rectHeight\n          },\n          styles: {\n            style: 'stroke_fill',\n            color: rectBackgroundColor,\n            borderColor: rectBorderColor,\n            borderSize: rectBorderSize,\n            borderRadius: rectBorderRadius\n          }\n        })?.draw(ctx)\n        const candleTextX = rectX + rectBorderSize + rectPaddingLeft + baseLegendMarginLeft\n        let textY = rectY + rectBorderSize + rectPaddingTop\n        if (isDrawCandleTooltip) {\n          // render candle texts\n          candleLegends.forEach(data => {\n            textY += baseLegendMarginTop\n            const title = data.title as TooltipLegendChild\n            this.createFigure({\n              name: 'text',\n              attrs: {\n                x: candleTextX,\n                y: textY,\n                text: title.text\n              },\n              styles: {\n                color: title.color,\n                size: baseLegendSize,\n                family: baseLegendFamily,\n                weight: baseLegendWeight\n              }\n            })?.draw(ctx)\n            const value = data.value as TooltipLegendChild\n            this.createFigure({\n              name: 'text',\n              attrs: {\n                x: rectX + rectWidth - rectBorderSize - baseLegendMarginRight - rectPaddingRight,\n                y: textY,\n                text: value.text,\n                align: 'right'\n              },\n              styles: {\n                color: value.color,\n                size: baseLegendSize,\n                family: baseLegendFamily,\n                weight: baseLegendWeight\n              }\n            })?.draw(ctx)\n            textY += (baseLegendSize + baseLegendMarginBottom)\n          })\n        }\n        if (isDrawIndicatorTooltip) {\n          // render indicator legends\n          const indicatorTextX = rectX + rectBorderSize + rectPaddingLeft + indicatorLegendMarginLeft\n          indicatorLegendsArray.forEach(legends => {\n            legends.forEach(data => {\n              textY += indicatorLegendMarginTop\n              const title = data.title as TooltipLegendChild\n              const value = data.value as TooltipLegendChild\n              this.createFigure({\n                name: 'text',\n                attrs: {\n                  x: indicatorTextX,\n                  y: textY,\n                  text: title.text\n                },\n                styles: {\n                  color: title.color,\n                  size: indicatorLegendSize,\n                  family: indicatorLegendFamily,\n                  weight: indicatorLegendWeight\n                }\n              })?.draw(ctx)\n\n              this.createFigure({\n                name: 'text',\n                attrs: {\n                  x: rectX + rectWidth - rectBorderSize - indicatorLegendMarginRight - rectPaddingRight,\n                  y: textY,\n                  text: value.text,\n                  align: 'right'\n                },\n                styles: {\n                  color: value.color,\n                  size: indicatorLegendSize,\n                  family: indicatorLegendFamily,\n                  weight: indicatorLegendWeight\n                }\n              })?.draw(ctx)\n              textY += (indicatorLegendSize + indicatorLegendMarginBottom)\n            })\n          })\n        }\n      }\n    }\n  }\n\n  private _getCandleTooltipLegends (): TooltipLegend[] {\n    const chartStore = this.getWidget().getPane().getChart().getChartStore()\n    const styles = chartStore.getStyles().candle\n    const dataList = chartStore.getDataList()\n    const formatter = chartStore.getInnerFormatter()\n    const decimalFold = chartStore.getDecimalFold()\n    const thousandsSeparator = chartStore.getThousandsSeparator()\n    const locale = chartStore.getLocale()\n    const { pricePrecision = SymbolDefaultPrecisionConstants.PRICE, volumePrecision = SymbolDefaultPrecisionConstants.VOLUME } = chartStore.getSymbol() ?? {}\n    const period = chartStore.getPeriod()\n    const dataIndex = chartStore.getCrosshair().dataIndex ?? 0\n\n    const tooltipStyles = styles.tooltip\n    const { color: textColor, defaultValue, template } = tooltipStyles.legend\n    const prev = dataList[dataIndex - 1] ?? null\n    const current = dataList[dataIndex]\n\n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition -- ignore\n    const prevClose = prev?.close ?? current.close\n    const changeValue = current.close - prevClose\n    const mapping = {\n      ...current,\n      time: formatter.formatDate(current.timestamp, PeriodTypeCrosshairTooltipFormat[period?.type ?? 'day'], 'tooltip'),\n      open: decimalFold.format(thousandsSeparator.format(formatPrecision(current.open, pricePrecision))),\n      high: decimalFold.format(thousandsSeparator.format(formatPrecision(current.high, pricePrecision))),\n      low: decimalFold.format(thousandsSeparator.format(formatPrecision(current.low, pricePrecision))),\n      close: decimalFold.format(thousandsSeparator.format(formatPrecision(current.close, pricePrecision))),\n      volume: decimalFold.format(thousandsSeparator.format(\n        formatter.formatBigNumber(formatPrecision(current.volume ?? defaultValue, volumePrecision))\n      )),\n      turnover: decimalFold.format(thousandsSeparator.format(\n        formatPrecision(current.turnover ?? defaultValue, pricePrecision)\n      )),\n      change: prevClose === 0 ? defaultValue : `${thousandsSeparator.format(formatPrecision(changeValue / prevClose * 100))}%`\n    }\n    const legends = (\n      isFunction(template)\n        ? template({ prev, current, next: dataList[dataIndex + 1] ?? null }, styles)\n        : template\n    )\n    return legends.map(({ title, value }) => {\n      let t: TooltipLegendChild = { text: '', color: textColor }\n      if (isObject(title)) {\n        t = { ...title }\n      } else {\n        t.text = title\n      }\n      t.text = i18n(t.text, locale)\n      let v = { text: defaultValue, color: textColor }\n      if (isObject(value)) {\n        v = { ...value }\n      } else {\n        v.text = value\n      }\n      if (isValid(/{change}/.exec(v.text))) {\n        v.color = changeValue === 0 ? styles.priceMark.last.noChangeColor : (changeValue > 0 ? styles.priceMark.last.upColor : styles.priceMark.last.downColor)\n      }\n      v.text = formatTemplateString(v.text, mapping)\n      return { title: t, value: v }\n    })\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type Nullable from '../common/Nullable'\nimport type Crosshair from '../common/Crosshair'\nimport type { FeatureIconFontStyle, FeaturePathStyle, FeatureStyle } from '../common/Styles'\nimport { isString } from '../common/utils/typeChecks'\nimport { calcTextWidth } from '../common/utils/canvas'\nimport { SymbolDefaultPrecisionConstants } from '../common/SymbolInfo'\n\nimport type { YAxis } from '../component/YAxis'\n\nimport type DrawPane from '../pane/DrawPane'\nimport type DrawWidget from '../widget/DrawWidget'\nimport View from './View'\n\ninterface CrosshairFeatureInfo {\n  crosshair: Crosshair\n  feature: FeatureStyle\n}\n\nexport default class CrosshairFeatureView extends View<YAxis> {\n  private _activeFeatureInfo: Nullable<CrosshairFeatureInfo> = null\n\n  private readonly _featureClickEvent = (featureInfo: CrosshairFeatureInfo) => () => {\n    const pane = this.getWidget().getPane()\n    pane.getChart().getChartStore().executeAction('onCrosshairFeatureClick', featureInfo)\n    return true\n  }\n\n  private readonly _featureMouseMoveEvent = (featureInfo: CrosshairFeatureInfo) => () => {\n    this._activeFeatureInfo = featureInfo\n    this.getWidget().setForceCursor('pointer')\n    return true\n  }\n\n  constructor (widget: DrawWidget<DrawPane<YAxis>>) {\n    super(widget)\n    this.registerEvent('mouseMoveEvent', _ => {\n      this._activeFeatureInfo = null\n      this.getWidget().setForceCursor(null)\n      return false\n    })\n  }\n\n  override drawImp (ctx: CanvasRenderingContext2D): void {\n    const widget = this.getWidget()\n    const pane = widget.getPane()\n    const chartStore = widget.getPane().getChart().getChartStore()\n    const crosshair = chartStore.getCrosshair()\n    const weight = this.getWidget()\n    const yAxis = weight.getPane().getAxisComponent()\n    if (isString(crosshair.paneId) && crosshair.paneId === pane.getId() && yAxis.isInCandle()) {\n      const styles = chartStore.getStyles().crosshair\n      const features = styles.horizontal.features\n      if (styles.show && styles.horizontal.show && features.length > 0) {\n        const isRight = yAxis.position === 'right'\n        const bounding = weight.getBounding()\n\n        let yAxisTextWidth = 0\n        const horizontalTextStyles = styles.horizontal.text\n        if (yAxis.inside && horizontalTextStyles.show) {\n          const value = yAxis.convertFromPixel(crosshair.y!)\n          const range = yAxis.getRange()\n          let text = yAxis.displayValueToText(\n            yAxis.realValueToDisplayValue(\n              yAxis.valueToRealValue(value, { range }),\n              { range }\n            ),\n            chartStore.getSymbol()?.pricePrecision ?? SymbolDefaultPrecisionConstants.PRICE\n          )\n          text = chartStore.getDecimalFold().format(chartStore.getThousandsSeparator().format(text))\n          yAxisTextWidth = horizontalTextStyles.paddingLeft +\n            calcTextWidth(text, horizontalTextStyles.size, horizontalTextStyles.weight, horizontalTextStyles.family) +\n            horizontalTextStyles.paddingRight\n        }\n\n        let x = yAxisTextWidth\n        if (isRight) {\n          x = bounding.width - yAxisTextWidth\n        }\n        const y = crosshair.y!\n        features.forEach(feature => {\n          const {\n            marginLeft = 0, marginTop = 0, marginRight = 0,\n            paddingLeft = 0, paddingTop = 0, paddingRight = 0, paddingBottom = 0,\n            color, activeColor, backgroundColor, activeBackgroundColor,\n            borderRadius, size = 0, type, content\n          } = feature\n          let width = size\n          if (type === 'icon_font') {\n            const iconFont = content as FeatureIconFontStyle\n            width = paddingLeft + calcTextWidth(iconFont.code, size, 'normal', iconFont.family) + paddingRight\n          }\n          if (isRight) {\n            x -= (width + marginRight)\n          } else {\n            x += marginLeft\n          }\n          let finalColor = color\n          let finalBackgroundColor = backgroundColor\n          if (this._activeFeatureInfo?.feature.id === feature.id) {\n            // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition -- ignore\n            finalColor = activeColor ?? color\n            // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition -- ignore\n            finalBackgroundColor = activeBackgroundColor ?? backgroundColor\n          }\n          const eventHandler = {\n            mouseDownEvent: this._featureClickEvent({ crosshair, feature }),\n            mouseMoveEvent: this._featureMouseMoveEvent({ crosshair, feature })\n          }\n          if (type === 'icon_font') {\n            const iconFont = content as FeatureIconFontStyle\n            this.createFigure({\n              name: 'text',\n              attrs: {\n                text: iconFont.code,\n                x,\n                y: y + marginTop,\n                baseline: 'middle'\n              },\n              styles: {\n                paddingLeft,\n                paddingTop,\n                paddingRight,\n                paddingBottom,\n                borderRadius,\n                size,\n                family: iconFont.family,\n                color: finalColor,\n                backgroundColor: finalBackgroundColor\n              }\n            }, eventHandler)?.draw(ctx)\n          } else {\n            this.createFigure({\n              name: 'rect',\n              attrs: { x, y: y + marginTop - size / 2, width: size, height: size },\n              styles: {\n                paddingLeft,\n                paddingTop,\n                paddingRight,\n                paddingBottom,\n                color: finalBackgroundColor\n              }\n            }, eventHandler)?.draw(ctx)\n            const path = content as FeaturePathStyle\n            this.createFigure({\n              name: 'path',\n              attrs: { path: path.path, x, y: y + marginTop + paddingTop - size / 2, width: size, height: size },\n              styles: {\n                style: path.style,\n                lineWidth: path.lineWidth,\n                color: finalColor\n              }\n            })?.draw(ctx)\n          }\n          if (isRight) {\n            x -= marginLeft\n          } else {\n            x += (width + marginRight)\n          }\n        })\n      }\n    }\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport IndicatorWidget from './IndicatorWidget'\n\nimport CandleBarView from '../view/CandleBarView'\nimport CandleAreaView from '../view/CandleAreaView'\nimport CandleHighLowPriceView from '../view/CandleHighLowPriceView'\nimport CandleLastPriceLineView from '../view/CandleLastPriceLineView'\n\nimport type IndicatorTooltipView from '../view/IndicatorTooltipView'\nimport CandleTooltipView from '../view/CandleTooltipView'\nimport CrosshairFeatureView from '../view/CrosshairFeatureView'\n\nimport type AxisPane from '../pane/DrawPane'\n\nimport type { YAxis } from '../component/YAxis'\n\nexport default class CandleWidget extends IndicatorWidget {\n  private readonly _candleBarView = new CandleBarView(this)\n  private readonly _candleAreaView = new CandleAreaView(this)\n  private readonly _candleHighLowPriceView = new CandleHighLowPriceView(this)\n  private readonly _candleLastPriceLineView = new CandleLastPriceLineView(this)\n  private readonly _crosshairFeatureView = new CrosshairFeatureView(this)\n\n  constructor (rootContainer: HTMLElement, pane: AxisPane<YAxis>) {\n    super(rootContainer, pane)\n    this.addChild(this._candleBarView)\n    this.addChild(this._crosshairFeatureView)\n  }\n\n  override updateMainContent (ctx: CanvasRenderingContext2D): void {\n    const candleStyles = this.getPane().getChart().getStyles().candle\n    if (candleStyles.type !== 'area') {\n      this._candleBarView.draw(ctx)\n      this._candleHighLowPriceView.draw(ctx)\n      this._candleAreaView.stopAnimation()\n    } else {\n      this._candleAreaView.draw(ctx)\n    }\n    this._candleLastPriceLineView.draw(ctx)\n  }\n\n  override updateOverlayContent (ctx: CanvasRenderingContext2D): void {\n    this._crosshairFeatureView.draw(ctx)\n  }\n\n  override createTooltipView (): IndicatorTooltipView {\n    return new CandleTooltipView(this)\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type Bounding from '../common/Bounding'\nimport type { AxisStyle, Styles } from '../common/Styles'\n\nimport type { LineAttrs } from '../extension/figure/line'\nimport type { TextAttrs } from '../extension/figure/text'\n\nimport type { AxisTick, Axis } from '../component/Axis'\n\nimport View from './View'\n\nexport default abstract class AxisView<C extends Axis = Axis> extends View<C> {\n  override drawImp (ctx: CanvasRenderingContext2D, extend: unknown[]): void {\n    const widget = this.getWidget()\n    const pane = widget.getPane()\n    const bounding = widget.getBounding()\n    const axis = pane.getAxisComponent()\n    const styles: AxisStyle = this.getAxisStyles(pane.getChart().getStyles())\n    if (styles.show) {\n      if (styles.axisLine.show) {\n        this.createFigure({\n          name: 'line',\n          attrs: this.createAxisLine(bounding, styles),\n          styles: styles.axisLine\n        })?.draw(ctx)\n      }\n      if (!(extend[0] as boolean)) {\n        const ticks = axis.getTicks()\n        if (styles.tickLine.show) {\n          const lines = this.createTickLines(ticks, bounding, styles)\n          lines.forEach(line => {\n            this.createFigure({\n              name: 'line',\n              attrs: line,\n              styles: styles.tickLine\n            })?.draw(ctx)\n          })\n        }\n        if (styles.tickText.show) {\n          const texts = this.createTickTexts(ticks, bounding, styles)\n          this.createFigure({\n            name: 'text',\n            attrs: texts,\n            styles: styles.tickText\n          })?.draw(ctx)\n        }\n      }\n    }\n  }\n\n  protected abstract getAxisStyles (styles: Styles): AxisStyle\n\n  protected abstract createAxisLine (bounding: Bounding, styles: AxisStyle): LineAttrs\n  protected abstract createTickLines (ticks: AxisTick[], bounding: Bounding, styles: AxisStyle): LineAttrs[]\n  protected abstract createTickTexts (tick: AxisTick[], bounding: Bounding, styles: AxisStyle): TextAttrs[]\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type Bounding from '../common/Bounding'\nimport type { AxisStyle, Styles } from '../common/Styles'\n\nimport type { LineAttrs } from '../extension/figure/line'\nimport type { TextAttrs } from '../extension/figure/text'\n\nimport type { AxisTick } from '../component/Axis'\nimport type { YAxis } from '../component/YAxis'\n\nimport AxisView from './AxisView'\n\nexport default class YAxisView extends AxisView<YAxis> {\n  override getAxisStyles (styles: Styles): AxisStyle {\n    return styles.yAxis\n  }\n\n  override createAxisLine (bounding: Bounding, styles: AxisStyle): LineAttrs {\n    const yAxis = this.getWidget().getPane().getAxisComponent()\n    const size = styles.axisLine.size\n    let x = 0\n    if (yAxis.isFromZero()) {\n      x = 0\n    } else {\n      x = bounding.width - size\n    }\n    return {\n      coordinates: [\n        { x, y: 0 },\n        { x, y: bounding.height }\n      ]\n    }\n  }\n\n  override createTickLines (ticks: AxisTick[], bounding: Bounding, styles: AxisStyle): LineAttrs[] {\n    const yAxis = this.getWidget().getPane().getAxisComponent()\n    const axisLineStyles = styles.axisLine\n    const tickLineStyles = styles.tickLine\n\n    let startX = 0\n    let endX = 0\n    if (yAxis.isFromZero()) {\n      startX = 0\n      if (axisLineStyles.show) {\n        startX += axisLineStyles.size\n      }\n      endX = startX + tickLineStyles.length\n    } else {\n      startX = bounding.width\n      if (axisLineStyles.show) {\n        startX -= axisLineStyles.size\n      }\n      endX = startX - tickLineStyles.length\n    }\n    return ticks.map(tick => ({\n      coordinates: [\n        { x: startX, y: tick.coord },\n        { x: endX, y: tick.coord }\n      ]\n    }))\n  }\n\n  override createTickTexts (ticks: AxisTick[], bounding: Bounding, styles: AxisStyle): TextAttrs[] {\n    const yAxis = this.getWidget().getPane().getAxisComponent()\n    const axisLineStyles = styles.axisLine\n    const tickLineStyles = styles.tickLine\n    const tickTextStyles = styles.tickText\n\n    let x = 0\n    if (yAxis.isFromZero()) {\n      x = tickTextStyles.marginStart\n      if (axisLineStyles.show) {\n        x += axisLineStyles.size\n      }\n      if (tickLineStyles.show) {\n        x += tickLineStyles.length\n      }\n    } else {\n      x = bounding.width - tickTextStyles.marginEnd\n      if (axisLineStyles.show) {\n        x -= axisLineStyles.size\n      }\n      if (tickLineStyles.show) {\n        x -= tickLineStyles.length\n      }\n    }\n    const textAlign = this.getWidget().getPane().getAxisComponent().isFromZero() ? 'left' : 'right'\n    return ticks.map(tick => ({\n      x,\n      y: tick.coord,\n      text: tick.text,\n      align: textAlign,\n      baseline: 'middle'\n    }))\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { isValid } from '../common/utils/typeChecks'\nimport { calcTextWidth } from '../common/utils/canvas'\nimport type { TextStyle } from '../common/Styles'\nimport { SymbolDefaultPrecisionConstants } from '../common/SymbolInfo'\n\nimport View from './View'\n\nimport type { FigureCreate } from '../component/Figure'\nimport type YAxis from '../component/YAxis'\nimport type { TextAttrs } from '../extension/figure/text'\n\nexport default class CandleLastPriceLabelView extends View {\n  override drawImp (ctx: CanvasRenderingContext2D): void {\n    const widget = this.getWidget()\n    const pane = widget.getPane()\n    const bounding = widget.getBounding()\n    const chartStore = pane.getChart().getChartStore()\n    const priceMarkStyles = chartStore.getStyles().candle.priceMark\n    const lastPriceMarkStyles = priceMarkStyles.last\n    const lastPriceMarkTextStyles = lastPriceMarkStyles.text\n    if (priceMarkStyles.show && lastPriceMarkStyles.show && lastPriceMarkTextStyles.show) {\n      const precision = chartStore.getSymbol()?.pricePrecision ?? SymbolDefaultPrecisionConstants.PRICE\n      const yAxis = pane.getAxisComponent() as YAxis\n      const dataList = chartStore.getDataList()\n      const data = dataList[dataList.length - 1]\n      if (isValid(data)) {\n        const { close, open } = data\n        const comparePrice = lastPriceMarkStyles.compareRule === 'current_open' ? open : (dataList[dataList.length - 2]?.close ?? close)\n        const priceY = yAxis.convertToNicePixel(close)\n        let backgroundColor = ''\n        if (close > comparePrice) {\n          backgroundColor = lastPriceMarkStyles.upColor\n        } else if (close < comparePrice) {\n          backgroundColor = lastPriceMarkStyles.downColor\n        } else {\n          backgroundColor = lastPriceMarkStyles.noChangeColor\n        }\n        let x = 0\n        let textAlgin: CanvasTextAlign = 'left'\n        if (yAxis.isFromZero()) {\n          x = 0\n          textAlgin = 'left'\n        } else {\n          x = bounding.width\n          textAlgin = 'right'\n        }\n\n        const textFigures: Array<FigureCreate<TextAttrs, TextStyle>> = []\n        const yAxisRange = yAxis.getRange()\n        let priceText = yAxis.displayValueToText(\n          yAxis.realValueToDisplayValue(\n            yAxis.valueToRealValue(close, { range: yAxisRange }),\n            { range: yAxisRange }\n          ),\n          precision\n        )\n        priceText = chartStore.getDecimalFold().format(chartStore.getThousandsSeparator().format(priceText))\n        const { paddingLeft, paddingRight, paddingTop, paddingBottom, size, family, weight } = lastPriceMarkTextStyles\n        let textWidth = paddingLeft + calcTextWidth(priceText, size, weight, family) + paddingRight\n        const priceTextHeight = paddingTop + size + paddingBottom\n        textFigures.push({\n          name: 'text',\n          attrs: {\n            x,\n            y: priceY,\n            width: textWidth,\n            height: priceTextHeight,\n            text: priceText,\n            align: textAlgin,\n            baseline: 'middle'\n          },\n          styles: {\n            ...lastPriceMarkTextStyles,\n            backgroundColor\n          }\n        })\n        const formatExtendText = chartStore.getInnerFormatter().formatExtendText\n        const priceTextHalfHeight = size / 2\n        let aboveY = priceY - priceTextHalfHeight - paddingTop\n        let belowY = priceY + priceTextHalfHeight + paddingBottom\n        lastPriceMarkStyles.extendTexts.forEach((item, index) => {\n          const text = formatExtendText({ type: 'last_price', data, index })\n          if (text.length > 0 && item.show) {\n            const textHalfHeight = item.size / 2\n            let textY = 0\n            if (item.position === 'above_price') {\n              aboveY -= (item.paddingBottom + textHalfHeight)\n              textY = aboveY\n              aboveY -= (textHalfHeight + item.paddingTop)\n            } else {\n              belowY += (item.paddingTop + textHalfHeight)\n              textY = belowY\n              belowY += (textHalfHeight + item.paddingBottom)\n            }\n            textWidth = Math.max(textWidth, item.paddingLeft + calcTextWidth(text, item.size, item.weight, item.family) + item.paddingRight)\n            textFigures.push({\n              name: 'text',\n              attrs: {\n                x,\n                y: textY,\n                width: textWidth,\n                height: item.paddingTop + item.size + item.paddingBottom,\n                text,\n                align: textAlgin,\n                baseline: 'middle'\n              },\n              styles: { ...item, backgroundColor }\n            })\n          }\n        })\n        textFigures.forEach(figure => {\n          figure.attrs.width = textWidth\n          this.createFigure(figure)?.draw(ctx)\n        })\n      }\n    }\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { isNumber, isValid } from '../common/utils/typeChecks'\n\nimport { eachFigures, type IndicatorFigure, type IndicatorFigureStyle } from '../component/Indicator'\n\nimport View from './View'\n\nimport type { YAxis } from '../component/YAxis'\n\nexport default class IndicatorLastValueView extends View<YAxis> {\n  override drawImp (ctx: CanvasRenderingContext2D): void {\n    const widget = this.getWidget()\n    const pane = widget.getPane()\n    const bounding = widget.getBounding()\n    const chartStore = pane.getChart().getChartStore()\n    const defaultStyles = chartStore.getStyles().indicator\n    const lastValueMarkStyles = defaultStyles.lastValueMark\n    const lastValueMarkTextStyles = lastValueMarkStyles.text\n    if (lastValueMarkStyles.show) {\n      const yAxis = pane.getAxisComponent()\n      const yAxisRange = yAxis.getRange()\n      const dataList = chartStore.getDataList()\n      const dataIndex = dataList.length - 1\n      const indicators = chartStore.getIndicatorsByPaneId(pane.getId())\n      const formatter = chartStore.getInnerFormatter()\n      const decimalFold = chartStore.getDecimalFold()\n      const thousandsSeparator = chartStore.getThousandsSeparator()\n      indicators.forEach(indicator => {\n        const result = indicator.result\n        const data = result[dataIndex] ?? {}\n        if (isValid(data) && indicator.visible) {\n          const precision = indicator.precision\n          eachFigures(indicator, dataIndex, defaultStyles, (figure: IndicatorFigure, figureStyles: Required<IndicatorFigureStyle>) => {\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment -- ignore\n            const value = data[figure.key]\n            if (isNumber(value)) {\n              const y = yAxis.convertToNicePixel(value)\n              let text = yAxis.displayValueToText(\n                yAxis.realValueToDisplayValue(\n                  yAxis.valueToRealValue(value, { range: yAxisRange }),\n                  { range: yAxisRange }\n                ),\n                precision\n              )\n              if (indicator.shouldFormatBigNumber) {\n                text = formatter.formatBigNumber(text)\n              }\n              text = decimalFold.format(thousandsSeparator.format(text))\n              let x = 0\n              let textAlign: CanvasTextAlign = 'left'\n              if (yAxis.isFromZero()) {\n                x = 0\n                textAlign = 'left'\n              } else {\n                x = bounding.width\n                textAlign = 'right'\n              }\n\n              this.createFigure({\n                name: 'text',\n                attrs: {\n                  x,\n                  y,\n                  text,\n                  align: textAlign,\n                  baseline: 'middle'\n                },\n                styles: {\n                  ...lastValueMarkTextStyles,\n                  backgroundColor: figureStyles.color\n                }\n              })?.draw(ctx)\n            }\n          })\n        }\n      })\n    }\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type Nullable from '../common/Nullable'\nimport type Coordinate from '../common/Coordinate'\nimport { formatPrecision } from '../common/utils/format'\nimport { isNumber } from '../common/utils/typeChecks'\nimport { SymbolDefaultPrecisionConstants } from '../common/SymbolInfo'\n\nimport type { Axis } from '../component/Axis'\nimport type { YAxis } from '../component/YAxis'\nimport type { OverlayFigure, Overlay } from '../component/Overlay'\nimport type OverlayImp from '../component/Overlay'\n\nimport OverlayView from './OverlayView'\n\nimport type YAxisImp from '../component/YAxis'\n\nexport default class OverlayYAxisView<C extends Axis = YAxis> extends OverlayView<C> {\n  override coordinateToPointTimestampDataIndexFlag (): boolean {\n    return false\n  }\n\n  override drawDefaultFigures (\n    ctx: CanvasRenderingContext2D,\n    overlay: OverlayImp,\n    coordinates: Coordinate[]\n  ): void {\n    this.drawFigures(\n      ctx,\n      overlay,\n      this.getDefaultFigures(overlay, coordinates)\n    )\n  }\n\n  protected getDefaultFigures (\n    overlay: Overlay,\n    coordinates: Coordinate[]\n  ): OverlayFigure[] {\n    const widget = this.getWidget()\n    const pane = widget.getPane()\n    const chartStore = pane.getChart().getChartStore()\n    const clickOverlayInfo = chartStore.getClickOverlayInfo()\n    const figures: OverlayFigure[] = []\n    if (\n      overlay.needDefaultYAxisFigure &&\n      overlay.id === clickOverlayInfo.overlay?.id &&\n      clickOverlayInfo.paneId === pane.getId()\n    ) {\n      const yAxis = pane.getAxisComponent() as unknown as YAxisImp\n      const bounding = widget.getBounding()\n      let topY = Number.MAX_SAFE_INTEGER\n      let bottomY = Number.MIN_SAFE_INTEGER\n      const isFromZero = yAxis.isFromZero()\n      let textAlign: CanvasTextAlign = 'left'\n      let x = 0\n      if (isFromZero) {\n        textAlign = 'left'\n        x = 0\n      } else {\n        textAlign = 'right'\n        x = bounding.width\n      }\n      const decimalFold = chartStore.getDecimalFold()\n      const thousandsSeparator = chartStore.getThousandsSeparator()\n      coordinates.forEach((coordinate, index) => {\n        const point = overlay.points[index]\n        if (isNumber(point.value)) {\n          topY = Math.min(topY, coordinate.y)\n          bottomY = Math.max(bottomY, coordinate.y)\n          const text = decimalFold.format(thousandsSeparator.format(formatPrecision(point.value, chartStore.getSymbol()?.pricePrecision ?? SymbolDefaultPrecisionConstants.PRICE)))\n          figures.push({ type: 'text', attrs: { x, y: coordinate.y, text, align: textAlign, baseline: 'middle' }, ignoreEvent: true })\n        }\n      })\n      if (coordinates.length > 1) {\n        figures.unshift({ type: 'rect', attrs: { x: 0, y: topY, width: bounding.width, height: bottomY - topY }, ignoreEvent: true })\n      }\n    }\n    return figures\n  }\n\n  override getFigures (\n    overlay: Overlay,\n    coordinates: Coordinate[]\n  ): OverlayFigure | OverlayFigure[] {\n    const widget = this.getWidget()\n    const pane = widget.getPane()\n    const chart = pane.getChart()\n    const yAxis = pane.getAxisComponent() as unknown as Nullable<YAxis>\n    const xAxis = chart.getXAxisPane().getAxisComponent()\n    const bounding = widget.getBounding()\n    return overlay.createYAxisFigures?.({ chart, overlay, coordinates, bounding, xAxis, yAxis }) ?? []\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type Bounding from '../common/Bounding'\nimport type Crosshair from '../common/Crosshair'\nimport type { CrosshairStyle, CrosshairDirectionStyle, StateTextStyle } from '../common/Styles'\nimport { isString } from '../common/utils/typeChecks'\nimport { createFont } from '../common/utils/canvas'\nimport { SymbolDefaultPrecisionConstants } from '../common/SymbolInfo'\n\nimport type { Axis } from '../component/Axis'\nimport type YAxis from '../component/YAxis'\n\nimport type { TextAttrs } from '../extension/figure/text'\n\nimport type ChartStore from '../Store'\n\nimport View from './View'\n\nexport default class CrosshairHorizontalLabelView<C extends Axis = YAxis> extends View<C> {\n  override drawImp (ctx: CanvasRenderingContext2D): void {\n    const widget = this.getWidget()\n    const pane = widget.getPane()\n    const chartStore = widget.getPane().getChart().getChartStore()\n    const crosshair = chartStore.getCrosshair()\n    if (isString(crosshair.paneId) && this.compare(crosshair, pane.getId())) {\n      const styles = chartStore.getStyles().crosshair\n      if (styles.show) {\n        const directionStyles = this.getDirectionStyles(styles)\n        const textStyles = directionStyles.text\n        if (directionStyles.show && textStyles.show) {\n          const bounding = widget.getBounding()\n          const axis = pane.getAxisComponent()\n          const text = this.getText(crosshair, chartStore, axis)\n          ctx.font = createFont(textStyles.size, textStyles.weight, textStyles.family)\n          this.createFigure({\n            name: 'text',\n            attrs: this.getTextAttrs(text, ctx.measureText(text).width, crosshair, bounding, axis, textStyles),\n            styles: textStyles\n          })?.draw(ctx)\n        }\n      }\n    }\n  }\n\n  protected compare (crosshair: Crosshair, paneId: string): boolean {\n    return crosshair.paneId === paneId\n  }\n\n  protected getDirectionStyles (styles: CrosshairStyle): CrosshairDirectionStyle {\n    return styles.horizontal\n  }\n\n  protected getText (crosshair: Crosshair, chartStore: ChartStore, axis: Axis): string {\n    const yAxis = axis as unknown as YAxis\n    const value = axis.convertFromPixel(crosshair.y!)\n    let precision = 0\n    let shouldFormatBigNumber = false\n    if (yAxis.isInCandle()) {\n      precision = chartStore.getSymbol()?.pricePrecision ?? SymbolDefaultPrecisionConstants.PRICE\n    } else {\n      const indicators = chartStore.getIndicatorsByPaneId(crosshair.paneId!)\n      indicators.forEach(indicator => {\n        precision = Math.max(indicator.precision, precision)\n        shouldFormatBigNumber ||= indicator.shouldFormatBigNumber\n      })\n    }\n    const yAxisRange = yAxis.getRange()\n    let text = yAxis.displayValueToText(\n      yAxis.realValueToDisplayValue(\n        yAxis.valueToRealValue(value, { range: yAxisRange }),\n        { range: yAxisRange }\n      ),\n      precision\n    )\n\n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition -- ignore\n    if (shouldFormatBigNumber) {\n      text = chartStore.getInnerFormatter().formatBigNumber(text)\n    }\n    return chartStore.getDecimalFold().format(chartStore.getThousandsSeparator().format(text))\n  }\n\n  protected getTextAttrs (text: string, _textWidth: number, crosshair: Crosshair, bounding: Bounding, axis: Axis, _styles: StateTextStyle): TextAttrs {\n    const yAxis = axis as unknown as YAxis\n    let x = 0\n    let textAlign: CanvasTextAlign = 'left'\n    if (yAxis.isFromZero()) {\n      x = 0\n      textAlign = 'left'\n    } else {\n      x = bounding.width\n      textAlign = 'right'\n    }\n\n    return { x, y: crosshair.y!, text, align: textAlign, baseline: 'middle' }\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type DrawPane from '../pane/DrawPane'\n\nimport { WidgetNameConstants } from './types'\nimport DrawWidget from './DrawWidget'\n\nimport type { YAxis } from '../component/YAxis'\n\nimport YAxisView from '../view/YAxisView'\nimport CandleLastPriceLabelView from '../view/CandleLastPriceLabelView'\nimport IndicatorLastValueView from '../view/IndicatorLastValueView'\nimport OverlayYAxisView from '../view/OverlayYAxisView'\nimport CrosshairHorizontalLabelView from '../view/CrosshairHorizontalLabelView'\n\nexport default class YAxisWidget extends DrawWidget<DrawPane<YAxis>> {\n  private readonly _yAxisView = new YAxisView(this)\n  private readonly _candleLastPriceLabelView = new CandleLastPriceLabelView(this)\n  private readonly _indicatorLastValueView = new IndicatorLastValueView(this)\n  private readonly _overlayYAxisView = new OverlayYAxisView(this)\n  private readonly _crosshairHorizontalLabelView = new CrosshairHorizontalLabelView(this)\n\n  constructor (rootContainer: HTMLElement, pane: DrawPane<YAxis>) {\n    super(rootContainer, pane)\n    this.setCursor('ns-resize')\n    this.addChild(this._overlayYAxisView)\n  }\n\n  override getName (): string {\n    return WidgetNameConstants.Y_AXIS\n  }\n\n  override updateMain (ctx: CanvasRenderingContext2D): void {\n    const minimize = this.getPane().getOptions().state === 'minimize'\n    this._yAxisView.draw(ctx, minimize)\n    if (!minimize) {\n      if (this.getPane().getAxisComponent().isInCandle()) {\n        this._candleLastPriceLabelView.draw(ctx)\n      }\n      this._indicatorLastValueView.draw(ctx)\n    }\n  }\n\n  override updateOverlay (ctx: CanvasRenderingContext2D): void {\n    if (this.getPane().getOptions().state !== 'minimize') {\n      this._overlayYAxisView.draw(ctx)\n      this._crosshairHorizontalLabelView.draw(ctx)\n    }\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type Updater from '../common/Updater'\nimport { UpdateLevel } from '../common/Updater'\nimport type Bounding from '../common/Bounding'\nimport { createDefaultBounding } from '../common/Bounding'\nimport { createDom } from '../common/utils/dom'\nimport { merge } from '../common/utils/typeChecks'\n\nimport type Chart from '../Chart'\n\nexport default abstract class Pane implements Updater {\n  private readonly _container: HTMLElement\n  private readonly _id: string\n  private readonly _chart: Chart\n\n  private readonly _bounding = createDefaultBounding()\n\n  private readonly _originalBounding = createDefaultBounding()\n\n  private _visible = true\n\n  constructor (chart: Chart, id: string) {\n    this._chart = chart\n    this._id = id\n    this._container = createDom('div', {\n      width: '100%',\n      margin: '0',\n      padding: '0',\n      position: 'relative',\n      overflow: 'hidden',\n      boxSizing: 'border-box'\n    })\n  }\n\n  getContainer (): HTMLElement {\n    return this._container\n  }\n\n  setVisible (visible: boolean): void {\n    if (this._visible !== visible) {\n      this._container.style.display = visible ? 'block' : 'none'\n      this._visible = visible\n    }\n  }\n\n  getVisible (): boolean {\n    return this._visible\n  }\n\n  getId (): string {\n    return this._id\n  }\n\n  getChart (): Chart {\n    return this._chart\n  }\n\n  getBounding (): Bounding {\n    return this._bounding\n  }\n\n  setOriginalBounding (bounding: Partial<Bounding>): void {\n    merge(this._originalBounding, bounding)\n  }\n\n  getOriginalBounding (): Bounding {\n    return this._originalBounding\n  }\n\n  update (level?: UpdateLevel): void {\n    if (this._bounding.height !== this._container.clientHeight) {\n      this._container.style.height = `${this._bounding.height}px`\n    }\n    this.updateImp(level ?? UpdateLevel.Drawer, this._container, this._bounding)\n  }\n\n  abstract setBounding (...bounding: Array<Partial<Bounding>>): Pane\n\n  abstract getImage (includeOverlay: boolean): HTMLCanvasElement\n\n  abstract updateImp (level: UpdateLevel, container: HTMLElement, bounding: Bounding): void\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type DeepRequired from '../common/DeepRequired'\nimport type Nullable from '../common/Nullable'\nimport type { UpdateLevel } from '../common/Updater'\nimport type Bounding from '../common/Bounding'\n\nimport { isValid, merge } from '../common/utils/typeChecks'\n\nimport type { Axis } from '../component/Axis'\n\nimport type DrawWidget from '../widget/DrawWidget'\nimport type YAxisWidget from '../widget/YAxisWidget'\n\nimport Pane from './Pane'\nimport { type PaneOptions, PANE_DEFAULT_HEIGHT, PANE_MIN_HEIGHT, PaneIdConstants } from './types'\n\nimport type Chart from '../Chart'\n\nimport { createDom } from '../common/utils/dom'\nimport { getPixelRatio } from '../common/utils/canvas'\nimport YAxisImp, { type YAxis } from '../component/YAxis'\n\nexport default abstract class DrawPane<C extends Axis = Axis> extends Pane {\n  private readonly _mainWidget: DrawWidget<DrawPane<C>>\n  private readonly _yAxisWidget: Nullable<YAxisWidget> = null\n\n  private _axis: C\n\n  private readonly _options: DeepRequired<PaneOptions> = {\n    id: '',\n    minHeight: PANE_MIN_HEIGHT,\n    dragEnabled: true,\n    order: 0,\n    height: PANE_DEFAULT_HEIGHT,\n    state: 'normal',\n    axis: { name: 'normal', scrollZoomEnabled: true }\n  }\n\n  constructor (chart: Chart, id: string, options: Omit<PaneOptions, 'id' | 'height'>) {\n    super(chart, id)\n    const container = this.getContainer()\n    this._mainWidget = this.createMainWidget(container)\n    this._yAxisWidget = this.createYAxisWidget(container)\n    this.setOptions(options)\n  }\n\n  setOptions (options: PaneOptions): this {\n    const paneId = this.getId()\n    if (paneId === PaneIdConstants.CANDLE || paneId === PaneIdConstants.X_AXIS) {\n      const axisName = options.axis?.name\n      if (\n        !isValid(this._axis) ||\n        (isValid(axisName) && this._options.axis.name !== axisName)\n      ) {\n        this._axis = this.createAxisComponent(axisName ?? 'normal')\n      }\n    } else {\n      if (!isValid(this._axis)) {\n        this._axis = this.createAxisComponent('normal')\n      }\n    }\n    if (this._axis instanceof YAxisImp) {\n      this._axis.setAutoCalcTickFlag(true)\n    }\n    merge(this._options, options)\n    this._axis.override({\n      ...this._options.axis,\n      name: options.axis?.name ?? 'normal'\n    })\n    let container: Nullable<HTMLElement> = null\n    let cursor = 'default'\n    if (this.getId() === PaneIdConstants.X_AXIS) {\n      container = this.getMainWidget().getContainer()\n      cursor = 'ew-resize'\n    } else {\n      container = this.getYAxisWidget()!.getContainer()\n      cursor = 'ns-resize'\n    }\n    if (options.axis?.scrollZoomEnabled ?? true) {\n      container.style.cursor = cursor\n    } else {\n      container.style.cursor = 'default'\n    }\n    return this\n  }\n\n  getOptions (): DeepRequired<PaneOptions> { return this._options }\n\n  getAxisComponent (): C {\n    return this._axis\n  }\n\n  override setBounding (\n    rootBounding: Partial<Bounding>,\n    mainBounding?: Partial<Bounding>,\n    leftYAxisBounding?: Partial<Bounding>,\n    rightYAxisBounding?: Partial<Bounding>\n  ): this {\n    merge(this.getBounding(), rootBounding)\n    const contentBounding: Partial<Bounding> = {}\n    if (isValid(rootBounding.height)) {\n      contentBounding.height = rootBounding.height\n    }\n    if (isValid(rootBounding.top)) {\n      contentBounding.top = rootBounding.top\n    }\n    this._mainWidget.setBounding(contentBounding)\n    const mainBoundingValid = isValid(mainBounding)\n    if (mainBoundingValid) {\n      this._mainWidget.setBounding(mainBounding)\n    }\n    if (isValid(this._yAxisWidget)) {\n      this._yAxisWidget.setBounding(contentBounding)\n      const yAxis = this._axis as unknown as YAxis\n      if (yAxis.position === 'left') {\n        if (isValid(leftYAxisBounding)) {\n          this._yAxisWidget.setBounding({ ...leftYAxisBounding, left: 0 })\n        }\n      } else {\n        if (isValid(rightYAxisBounding)) {\n          this._yAxisWidget.setBounding(rightYAxisBounding)\n          if (mainBoundingValid) {\n            this._yAxisWidget.setBounding({\n              left: (mainBounding.left ?? 0) +\n                (mainBounding.width ?? 0) +\n                (mainBounding.right ?? 0) -\n                (rightYAxisBounding.width ?? 0)\n            })\n          }\n        }\n      }\n    }\n    return this\n  }\n\n  getMainWidget (): DrawWidget<DrawPane<C>> { return this._mainWidget }\n\n  getYAxisWidget (): Nullable<YAxisWidget> { return this._yAxisWidget }\n\n  override updateImp (level: UpdateLevel): void {\n    this._mainWidget.update(level)\n    this._yAxisWidget?.update(level)\n  }\n\n  destroy (): void {\n    this._mainWidget.destroy()\n    this._yAxisWidget?.destroy()\n  }\n\n  override getImage (includeOverlay: boolean): HTMLCanvasElement {\n    const { width, height } = this.getBounding()\n    const canvas = createDom('canvas', {\n      width: `${width}px`,\n      height: `${height}px`,\n      boxSizing: 'border-box'\n    })\n    const ctx = canvas.getContext('2d')!\n    const pixelRatio = getPixelRatio(canvas)\n    canvas.width = width * pixelRatio\n    canvas.height = height * pixelRatio\n    ctx.scale(pixelRatio, pixelRatio)\n\n    const mainBounding = this._mainWidget.getBounding()\n    ctx.drawImage(\n      this._mainWidget.getImage(includeOverlay),\n      mainBounding.left, 0,\n      mainBounding.width, mainBounding.height\n    )\n    if (this._yAxisWidget !== null) {\n      const yAxisBounding = this._yAxisWidget.getBounding()\n      ctx.drawImage(\n        this._yAxisWidget.getImage(includeOverlay),\n        yAxisBounding.left, 0,\n        yAxisBounding.width, yAxisBounding.height\n      )\n    }\n    return canvas\n  }\n\n  protected abstract createAxisComponent (name: string): C\n\n  protected createYAxisWidget (_container: HTMLElement): Nullable<YAxisWidget> { return null }\n\n  protected abstract createMainWidget (container: HTMLElement): DrawWidget<DrawPane<C>>\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type Nullable from '../common/Nullable'\n\nimport type DrawWidget from '../widget/DrawWidget'\nimport IndicatorWidget from '../widget/IndicatorWidget'\nimport YAxisWidget from '../widget/YAxisWidget'\n\nimport type { YAxis } from '../component/YAxis'\n\nimport { getYAxisClass } from '../extension/y-axis'\n\nimport DrawPane from './DrawPane'\n\nexport default class IndicatorPane extends DrawPane<YAxis> {\n  override createAxisComponent (name?: string): YAxis {\n    const YAxisClass = getYAxisClass(name ?? 'default')\n    return new YAxisClass(this)\n  }\n\n  override createMainWidget (container: HTMLElement): DrawWidget<DrawPane<YAxis>> {\n    return new IndicatorWidget(container, this)\n  }\n\n  override createYAxisWidget (container: HTMLElement): Nullable<YAxisWidget> {\n    return new YAxisWidget(container, this)\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type DrawWidget from '../widget/DrawWidget'\nimport CandleWidget from '../widget/CandleWidget'\n\nimport type DrawPane from './DrawPane'\nimport IndicatorPane from './IndicatorPane'\nimport type { YAxis } from '../component/YAxis'\n\nexport default class CandlePane extends IndicatorPane {\n  override createMainWidget (container: HTMLElement): DrawWidget<DrawPane<YAxis>> {\n    return new CandleWidget(container, this)\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type Bounding from '../common/Bounding'\nimport type { AxisStyle, Styles } from '../common/Styles'\n\nimport type { LineAttrs } from '../extension/figure/line'\nimport type { TextAttrs } from '../extension/figure/text'\n\nimport type { AxisTick } from '../component/Axis'\nimport type { XAxis } from '../component/XAxis'\n\nimport AxisView from './AxisView'\n\nexport default class XAxisView extends AxisView<XAxis> {\n  override getAxisStyles (styles: Styles): AxisStyle {\n    return styles.xAxis\n  }\n\n  override createAxisLine (bounding: Bounding): LineAttrs {\n    return {\n      coordinates: [\n        { x: 0, y: 0 },\n        { x: bounding.width, y: 0 }\n      ]\n    }\n  }\n\n  override createTickLines (ticks: AxisTick[], _bounding: Bounding, styles: AxisStyle): LineAttrs[] {\n    const tickLineStyles = styles.tickLine\n    const axisLineSize = styles.axisLine.size\n    return ticks.map(tick => ({\n      coordinates: [\n        { x: tick.coord, y: 0 },\n        { x: tick.coord, y: axisLineSize + tickLineStyles.length }\n      ]\n    }))\n  }\n\n  override createTickTexts (ticks: AxisTick[], _bounding: Bounding, styles: AxisStyle): TextAttrs[] {\n    const tickTickStyles = styles.tickText\n    const axisLineSize = styles.axisLine.size\n    const tickLineLength = styles.tickLine.length\n    return ticks.map(tick => ({\n      x: tick.coord,\n      y: axisLineSize + tickLineLength + tickTickStyles.marginStart,\n      text: tick.text,\n      align: 'center',\n      baseline: 'top'\n    }))\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type Nullable from '../common/Nullable'\nimport type Coordinate from '../common/Coordinate'\n\nimport { isNumber } from '../common/utils/typeChecks'\n\nimport type { XAxis } from '../component/XAxis'\nimport type { YAxis } from '../component/YAxis'\nimport type { OverlayFigure, Overlay } from '../component/Overlay'\nimport type OverlayImp from '../component/Overlay'\n\nimport OverlayYAxisView from './OverlayYAxisView'\n\nexport default class OverlayXAxisView extends OverlayYAxisView<XAxis> {\n  override coordinateToPointTimestampDataIndexFlag (): boolean {\n    return true\n  }\n\n  override coordinateToPointValueFlag (): boolean {\n    return false\n  }\n\n  override getCompleteOverlays (): OverlayImp[] {\n    return this.getWidget().getPane().getChart().getChartStore().getOverlaysByPaneId()\n  }\n\n  override getProgressOverlay (): Nullable<OverlayImp> {\n    return this.getWidget().getPane().getChart().getChartStore().getProgressOverlayInfo()?.overlay ?? null\n  }\n\n  override getDefaultFigures (\n    overlay: Overlay,\n    coordinates: Coordinate[]\n  ): OverlayFigure[] {\n    const figures: OverlayFigure[] = []\n    const widget = this.getWidget()\n    const pane = widget.getPane()\n    const chartStore = pane.getChart().getChartStore()\n    const clickOverlayInfo = chartStore.getClickOverlayInfo()\n    if (overlay.needDefaultXAxisFigure && overlay.id === clickOverlayInfo.overlay?.id) {\n      let leftX = Number.MAX_SAFE_INTEGER\n      let rightX = Number.MIN_SAFE_INTEGER\n      coordinates.forEach((coordinate, index) => {\n        leftX = Math.min(leftX, coordinate.x)\n        rightX = Math.max(rightX, coordinate.x)\n        const point = overlay.points[index]\n        if (isNumber(point.timestamp)) {\n          const text = chartStore.getInnerFormatter().formatDate(point.timestamp, 'YYYY-MM-DD HH:mm', 'crosshair')\n          figures.push({ type: 'text', attrs: { x: coordinate.x, y: 0, text, align: 'center' }, ignoreEvent: true })\n        }\n      })\n      if (coordinates.length > 1) {\n        figures.unshift({ type: 'rect', attrs: { x: leftX, y: 0, width: rightX - leftX, height: widget.getBounding().height }, ignoreEvent: true })\n      }\n    }\n    return figures\n  }\n\n  override getFigures (\n    o: Overlay,\n    coordinates: Coordinate[]\n  ): OverlayFigure | OverlayFigure[] {\n    const widget = this.getWidget()\n    const pane = widget.getPane()\n    const chart = pane.getChart()\n    const yAxis = pane.getAxisComponent() as unknown as Nullable<YAxis>\n    const xAxis = chart.getXAxisPane().getAxisComponent()\n    const bounding = widget.getBounding()\n    return o.createXAxisFigures?.({ chart, overlay: o, coordinates, bounding, xAxis, yAxis }) ?? []\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type Bounding from '../common/Bounding'\nimport type Crosshair from '../common/Crosshair'\nimport type { CrosshairStyle, CrosshairDirectionStyle, StateTextStyle } from '../common/Styles'\nimport { isValid } from '../common/utils/typeChecks'\n\nimport type { Axis } from '../component/Axis'\nimport type { XAxis } from '../component/XAxis'\n\nimport type ChartStore from '../Store'\n\nimport CrosshairHorizontalLabelView from './CrosshairHorizontalLabelView'\nimport type { TextAttrs } from '../extension/figure/text'\nimport { PeriodTypeCrosshairTooltipFormat } from '../common/Period'\n\nexport default class CrosshairVerticalLabelView extends CrosshairHorizontalLabelView<XAxis> {\n  override compare (crosshair: Crosshair): boolean {\n    return isValid(crosshair.timestamp)\n  }\n\n  override getDirectionStyles (styles: CrosshairStyle): CrosshairDirectionStyle {\n    return styles.vertical\n  }\n\n  override getText (crosshair: Crosshair, chartStore: ChartStore): string {\n    const timestamp = crosshair.timestamp!\n    return chartStore.getInnerFormatter().formatDate(timestamp, PeriodTypeCrosshairTooltipFormat[chartStore.getPeriod()?.type ?? 'day'], 'crosshair')\n  }\n\n  override getTextAttrs (text: string, textWidth: number, crosshair: Crosshair, bounding: Bounding, _axis: Axis, styles: StateTextStyle): TextAttrs {\n    const x = crosshair.realX!\n    let optimalX = 0\n    let align: CanvasTextAlign = 'center'\n    if (x - textWidth / 2 - styles.paddingLeft < 0) {\n      optimalX = 0\n      align = 'left'\n    } else if (x + textWidth / 2 + styles.paddingRight > bounding.width) {\n      optimalX = bounding.width\n      align = 'right'\n    } else {\n      optimalX = x\n    }\n    return { x: optimalX, y: 0, text, align, baseline: 'top' }\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { WidgetNameConstants } from './types'\nimport DrawWidget from './DrawWidget'\n\nimport type DrawPane from '../pane/DrawPane'\n\nimport type { XAxis } from '../component/XAxis'\n\nimport XAxisView from '../view/XAxisView'\nimport OverlayXAxisView from '../view/OverlayXAxisView'\nimport CrosshairVerticalLabelView from '../view/CrosshairVerticalLabelView'\n\nexport default class XAxisWidget extends DrawWidget<DrawPane<XAxis>> {\n  private readonly _xAxisView = new XAxisView(this)\n  private readonly _overlayXAxisView = new OverlayXAxisView(this)\n  private readonly _crosshairVerticalLabelView = new CrosshairVerticalLabelView(this)\n\n  constructor (rootContainer: HTMLElement, pane: DrawPane<XAxis>) {\n    super(rootContainer, pane)\n    this.setCursor('ew-resize')\n    this.addChild(this._overlayXAxisView)\n  }\n\n  override getName (): string {\n    return WidgetNameConstants.X_AXIS\n  }\n\n  override updateMain (ctx: CanvasRenderingContext2D): void {\n    this._xAxisView.draw(ctx)\n  }\n\n  override updateOverlay (ctx: CanvasRenderingContext2D): void {\n    this._overlayXAxisView.draw(ctx)\n    this._crosshairVerticalLabelView.draw(ctx)\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type DrawWidget from '../widget/DrawWidget'\nimport XAxisWidget from '../widget/XAxisWidget'\n\nimport type { XAxis } from '../component/XAxis'\n\nimport DrawPane from './DrawPane'\n\nimport { getXAxisClass } from '../extension/x-axis'\n\nexport default class XAxisPane extends DrawPane<XAxis> {\n  override createAxisComponent (name: string): XAxis {\n    const XAxisClass = getXAxisClass(name)\n    return new XAxisClass(this)\n  }\n\n  override createMainWidget (container: HTMLElement): DrawWidget<DrawPane<XAxis>> {\n    return new XAxisWidget(container, this)\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport function throttle (func: (...args: unknown[]) => unknown, wait?: number): () => void {\n  let previous = 0\n  return function () {\n    const now = Date.now()\n    if (now - previous > (wait ?? 20)) {\n      func.apply(this, arguments)\n      previous = now\n    }\n  }\n}\n\n// export function memoize<R1 = any, R2 = any> (func: (...args: any[]) => R1, resolver?: (...args: any[]) => R2): (...args: any[]) => R1 {\n//   if (!isFunction(func) || (isValid(resolver) && !isFunction(resolver))) {\n//     throw new TypeError('Expected a function')\n//   }\n//   const memoized = function (...args: any[]): any {\n//     const key = isFunction(resolver) ? resolver.apply(this, args) : args[0]\n//     const cache = memoized.cache\n\n//     if (cache.has(key)) {\n//       return cache.get(key)\n//     }\n//     const result = func.apply(this, args)\n//     // eslint-disable-next-line @typescript-eslint/strict-boolean-expressions\n//     memoized.cache = cache.set(key, result) || cache\n//     return result\n//   }\n//   // eslint-disable-next-line @typescript-eslint/strict-boolean-expressions\n//   memoized.cache = new (memoize.Cache || Map)()\n//   return memoized\n// }\n// memoize.Cache = Map\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type Bounding from '../common/Bounding'\nimport { UpdateLevel } from '../common/Updater'\nimport type { MouseTouchEvent } from '../common/EventHandler'\nimport { createDom } from '../common/utils/dom'\nimport { throttle } from '../common/utils/performance'\nimport type Nullable from '../common/Nullable'\nimport { isValid } from '../common/utils/typeChecks'\n\nimport Widget from './Widget'\nimport { WidgetNameConstants, REAL_SEPARATOR_HEIGHT } from './types'\n\nimport type SeparatorPane from '../pane/SeparatorPane'\nimport type DrawPane from '../pane/DrawPane'\n\nexport default class SeparatorWidget extends Widget<SeparatorPane> {\n  private _dragFlag = false\n  private _dragStartY = 0\n\n  private _topPaneHeight = 0\n  private _bottomPaneHeight = 0\n\n  private _topPane: Nullable<DrawPane> = null\n  private _bottomPane: Nullable<DrawPane> = null\n\n  constructor (rootContainer: HTMLElement, pane: SeparatorPane) {\n    super(rootContainer, pane)\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-argument -- ignore\n    this.registerEvent('touchStartEvent', this._mouseDownEvent.bind(this))\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-argument -- ignore\n      .registerEvent('touchMoveEvent', this._pressedMouseMoveEvent.bind(this))\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-argument -- ignore\n      .registerEvent('touchEndEvent', this._mouseUpEvent.bind(this))\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-argument -- ignore\n      .registerEvent('mouseDownEvent', this._mouseDownEvent.bind(this))\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-argument -- ignore\n      .registerEvent('mouseUpEvent', this._mouseUpEvent.bind(this))\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-argument -- ignore\n      .registerEvent('pressedMouseMoveEvent', this._pressedMouseMoveEvent.bind(this))\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-argument -- ignore\n      .registerEvent('mouseEnterEvent', this._mouseEnterEvent.bind(this))\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-argument -- ignore\n      .registerEvent('mouseLeaveEvent', this._mouseLeaveEvent.bind(this))\n  }\n\n  override getName (): string {\n    return WidgetNameConstants.SEPARATOR\n  }\n\n  private _mouseDownEvent (event: MouseTouchEvent): boolean {\n    this._dragFlag = true\n    this._dragStartY = event.pageY\n    const pane = this.getPane()\n    const chart = pane.getChart()\n    this._topPane = pane.getTopPane()\n    this._bottomPane = pane.getBottomPane()\n    const drawPanes = chart.getDrawPanes()\n    if (this._topPane.getOptions().state === 'minimize') {\n      const index = drawPanes.findIndex(pane => pane.getId() === this._topPane?.getId())\n      for (let i = index - 1; i > -1; i--) {\n        const pane = drawPanes[i]\n        if (pane.getOptions().state !== 'minimize') {\n          this._topPane = pane\n          break\n        }\n      }\n    }\n    if (this._bottomPane.getOptions().state === 'minimize') {\n      const index = drawPanes.findIndex(pane => pane.getId() === this._bottomPane?.getId())\n      for (let i = index + 1; i < drawPanes.length; i++) {\n        const pane = drawPanes[i]\n        if (pane.getOptions().state !== 'minimize') {\n          this._bottomPane = pane\n          break\n        }\n      }\n    }\n    this._topPaneHeight = this._topPane.getBounding().height\n    this._bottomPaneHeight = this._bottomPane.getBounding().height\n    return true\n  }\n\n  private _mouseUpEvent (): boolean {\n    this._dragFlag = false\n    this._topPane = null\n    this._bottomPane = null\n    this._topPaneHeight = 0\n    this._bottomPaneHeight = 0\n    return this._mouseLeaveEvent()\n  }\n\n  // eslint-disable-next-line @typescript-eslint/unbound-method -- ignore\n  private readonly _pressedMouseMoveEvent = throttle(this._pressedTouchMouseMoveEvent, 20)\n\n  private _pressedTouchMouseMoveEvent (event: MouseTouchEvent): boolean {\n    const dragDistance = event.pageY - this._dragStartY\n\n    const isUpDrag = dragDistance < 0\n    if (isValid(this._topPane) && isValid(this._bottomPane)) {\n      const bottomPaneOptions = this._bottomPane.getOptions()\n      if (\n        this._topPane.getOptions().state !== 'minimize' &&\n        bottomPaneOptions.state !== 'minimize' &&\n        bottomPaneOptions.dragEnabled\n      ) {\n        let reducedPane: Nullable<DrawPane> = null\n        let increasedPane: Nullable<DrawPane> = null\n        let startDragReducedPaneHeight = 0\n        let startDragIncreasedPaneHeight = 0\n        if (isUpDrag) {\n          reducedPane = this._topPane\n          increasedPane = this._bottomPane\n          startDragReducedPaneHeight = this._topPaneHeight\n          startDragIncreasedPaneHeight = this._bottomPaneHeight\n        } else {\n          reducedPane = this._bottomPane\n          increasedPane = this._topPane\n          startDragReducedPaneHeight = this._bottomPaneHeight\n          startDragIncreasedPaneHeight = this._topPaneHeight\n        }\n        const reducedPaneMinHeight = reducedPane.getOptions().minHeight\n        if (startDragReducedPaneHeight > reducedPaneMinHeight) {\n          const reducedPaneHeight = Math.max(startDragReducedPaneHeight - Math.abs(dragDistance), reducedPaneMinHeight)\n          const diffHeight = startDragReducedPaneHeight - reducedPaneHeight\n          reducedPane.setBounding({ height: reducedPaneHeight })\n          increasedPane.setBounding({ height: startDragIncreasedPaneHeight + diffHeight })\n          const currentPane = this.getPane()\n          const chart = currentPane.getChart()\n          chart.getChartStore().executeAction('onPaneDrag', { paneId: currentPane.getId() })\n          chart.layout({\n            measureHeight: true,\n            measureWidth: true,\n            update: true,\n            buildYAxisTick: true,\n            forceBuildYAxisTick: true\n          })\n        }\n      }\n    }\n\n    return true\n  }\n\n  private _mouseEnterEvent (): boolean {\n    const pane = this.getPane()\n    const bottomPane = pane.getBottomPane()\n    if (bottomPane.getOptions().dragEnabled) {\n      const chart = pane.getChart()\n      const styles = chart.getStyles().separator\n      this.getContainer().style.background = styles.activeBackgroundColor\n      return true\n    }\n    return false\n  }\n\n  private _mouseLeaveEvent (): boolean {\n    if (!this._dragFlag) {\n      this.getContainer().style.background = 'transparent'\n      return true\n    }\n    return false\n  }\n\n  override createContainer (): HTMLElement {\n    return createDom('div', {\n      width: '100%',\n      height: `${REAL_SEPARATOR_HEIGHT}px`,\n      margin: '0',\n      padding: '0',\n      position: 'absolute',\n      top: '-3px',\n      zIndex: '20',\n      boxSizing: 'border-box',\n      cursor: 'ns-resize'\n    })\n  }\n\n  override updateImp (container: HTMLElement, _bounding: Bounding, level: UpdateLevel): void {\n    if (level === UpdateLevel.All || level === UpdateLevel.Separator) {\n      const styles = this.getPane().getChart().getStyles().separator\n      container.style.top = `${-Math.floor((REAL_SEPARATOR_HEIGHT - styles.size) / 2)}px`\n      container.style.height = `${REAL_SEPARATOR_HEIGHT}px`\n    }\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { UpdateLevel } from '../common/Updater'\nimport type Bounding from '../common/Bounding'\nimport { merge } from '../common/utils/typeChecks'\nimport { createDom } from '../common/utils/dom'\nimport { getPixelRatio } from '../common/utils/canvas'\n\nimport type Chart from '../Chart'\n\nimport type DrawPane from './DrawPane'\nimport Pane from './Pane'\n\nimport SeparatorWidget from '../widget/SeparatorWidget'\n\nexport default class SeparatorPane extends Pane {\n  private _topPane: DrawPane\n  private _bottomPane: DrawPane\n\n  private readonly _separatorWidget: SeparatorWidget\n\n  constructor (chart: Chart, id: string, topPane: DrawPane, bottomPane: DrawPane) {\n    super(chart, id)\n    this.getContainer().style.overflow = ''\n    this._topPane = topPane\n    this._bottomPane = bottomPane\n    this._separatorWidget = new SeparatorWidget(this.getContainer(), this)\n  }\n\n  override setBounding (rootBounding: Partial<Bounding>): Pane {\n    merge(this.getBounding(), rootBounding)\n    return this\n  }\n\n  getTopPane (): DrawPane {\n    return this._topPane\n  }\n\n  setTopPane (pane: DrawPane): Pane {\n    this._topPane = pane\n    return this\n  }\n\n  getBottomPane (): DrawPane {\n    return this._bottomPane\n  }\n\n  setBottomPane (pane: DrawPane): Pane {\n    this._bottomPane = pane\n    return this\n  }\n\n  getWidget (): SeparatorWidget { return this._separatorWidget }\n\n  override getImage (_includeOverlay: boolean): HTMLCanvasElement {\n    const { width, height } = this.getBounding()\n\n    const styles = this.getChart().getStyles().separator\n    const canvas = createDom('canvas', {\n      width: `${width}px`,\n      height: `${height}px`,\n      boxSizing: 'border-box'\n    })\n    const ctx = canvas.getContext('2d')!\n    const pixelRatio = getPixelRatio(canvas)\n    canvas.width = width * pixelRatio\n    canvas.height = height * pixelRatio\n    ctx.scale(pixelRatio, pixelRatio)\n    ctx.fillStyle = styles.color\n    ctx.fillRect(0, 0, width, height)\n    return canvas\n  }\n\n  override updateImp (level: UpdateLevel, container: HTMLElement, bounding: Bounding): void {\n    if (level === UpdateLevel.All || level === UpdateLevel.Separator) {\n      const styles = this.getChart().getStyles().separator\n      container.style.backgroundColor = styles.color\n      container.style.height = `${bounding.height}px`\n      container.style.marginLeft = `${bounding.left}px`\n      container.style.width = `${bounding.width}px`\n      this._separatorWidget.update(level)\n    }\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport function isFF (): boolean {\n  if (typeof window === 'undefined') {\n    return false\n  }\n  return window.navigator.userAgent.toLowerCase().includes('firefox')\n}\n\nexport function isIOS (): boolean {\n  if (typeof window === 'undefined') {\n    return false\n  }\n  return /iPhone|iPad|iPod|iOS/.test(window.navigator.userAgent)\n}\n","/* eslint-disable eslint-comments/require-description -- ignore */\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * This file uses most of the logic of lightweight-charts/mouse-event-handler.ts(https://github.com/tradingview/lightweight-charts) for reference.\n * Makes some modifications to add some events.\n * The use of the source code of this file is also subject to the terms\n * and consitions of the license of \"lightweight-charts\" (Apache License V2, see\n * </licenses/LICENSE-lightweight-charts>).\n */\n\nimport type Coordinate from './Coordinate'\n\nimport type Nullable from './Nullable'\n\nimport { isFF, isIOS } from './utils/platform'\nimport { isValid } from './utils/typeChecks'\n\nexport interface MouseTouchEvent extends Coordinate {\n  pageX: number\n  pageY: number\n  isTouch?: boolean\n  preventDefault?: () => void\n}\n\nexport type MouseTouchEventCallback = (event: MouseTouchEvent, other?: number) => boolean\n\nexport interface EventHandler {\n  pinchStartEvent?: MouseTouchEventCallback\n  pinchEvent?: MouseTouchEventCallback\n  pinchEndEvent?: MouseTouchEventCallback\n\n  mouseWheelHortEvent?: MouseTouchEventCallback\n  mouseWheelVertEvent?: MouseTouchEventCallback\n\n  mouseClickEvent?: MouseTouchEventCallback\n  mouseRightClickEvent?: MouseTouchEventCallback\n  tapEvent?: MouseTouchEventCallback\n\n  mouseDoubleClickEvent?: MouseTouchEventCallback\n  doubleTapEvent?: MouseTouchEventCallback\n\n  mouseDownEvent?: MouseTouchEventCallback\n  touchStartEvent?: MouseTouchEventCallback\n\n  mouseUpEvent?: MouseTouchEventCallback\n  touchEndEvent?: MouseTouchEventCallback\n\n  mouseDownOutsideEvent?: MouseTouchEventCallback\n\n  mouseEnterEvent?: MouseTouchEventCallback\n  mouseLeaveEvent?: MouseTouchEventCallback\n\n  mouseMoveEvent?: MouseTouchEventCallback\n\n  pressedMouseMoveEvent?: MouseTouchEventCallback\n  touchMoveEvent?: MouseTouchEventCallback\n\n  longTapEvent?: MouseTouchEventCallback\n}\n\nexport type EventName = keyof EventHandler\n\nexport interface EventOptions {\n  treatVertDragAsPageScroll: () => boolean\n  treatHorzDragAsPageScroll: () => boolean\n}\n\n// we can use `const name = 500;` but with `const enum` this values will be inlined into code\n// so we do not need to have it as variables\nconst Delay = {\n  ResetClick: 500,\n  LongTap: 500,\n  PreventFiresTouchEvents: 500\n}\n\nconst ManhattanDistance = {\n  CancelClick: 5,\n  CancelTap: 5,\n  DoubleClick: 5,\n  DoubleTap: 30\n}\n\nconst MouseEventButton = {\n  Left: 0,\n  Middle: 1,\n  Right: 2\n}\n\nexport const TOUCH_MIN_RADIUS = 10\n\ntype TimerId = ReturnType<typeof setTimeout>\n\ninterface MouseTouchMoveWithDownInfo {\n  xOffset: number\n  yOffset: number\n  manhattanDistance: number\n}\n\n// TODO: get rid of a lot of boolean flags, probably we should replace it with some enum\nexport default class EventHandlerImp {\n  private readonly _target: HTMLElement\n  private readonly _handler: EventHandler\n\n  private readonly _options: EventOptions\n\n  private _clickCount = 0\n  private _clickTimeoutId: Nullable<TimerId> = null\n  private _clickCoordinate: Coordinate = { x: Number.NEGATIVE_INFINITY, y: Number.POSITIVE_INFINITY }\n\n  private _tapCount = 0\n  private _tapTimeoutId: Nullable<TimerId> = null\n  private _tapCoordinate: Coordinate = { x: Number.NEGATIVE_INFINITY, y: Number.POSITIVE_INFINITY }\n\n  private _longTapTimeoutId: Nullable<TimerId> = null\n  private _longTapActive = false\n\n  private _mouseMoveStartCoordinate: Nullable<Coordinate> = null\n\n  private _touchMoveStartCoordinate: Nullable<Coordinate> = null\n  private _touchMoveExceededManhattanDistance = false\n\n  private _cancelClick = false\n  private _cancelTap = false\n\n  private _unsubscribeOutsideMouseEvents: Nullable<() => void> = null\n  private _unsubscribeOutsideTouchEvents: Nullable<() => void> = null\n  private _unsubscribeMobileSafariEvents: Nullable<() => void> = null\n\n  private _unsubscribeMousemove: Nullable<() => void> = null\n\n  private _unsubscribeMouseWheel: Nullable<() => void> = null\n\n  private _unsubscribeContextMenu: Nullable<() => void> = null\n\n  private _unsubscribeRootMouseEvents: Nullable<() => void> = null\n  private _unsubscribeRootTouchEvents: Nullable<() => void> = null\n\n  private _startPinchMiddleCoordinate: Nullable<Coordinate> = null\n  private _startPinchDistance = 0\n  private _pinchPrevented = false\n  private _preventTouchDragProcess = false\n\n  private _mousePressed = false\n\n  private _lastTouchEventTimeStamp = 0\n\n  // for touchstart/touchmove/touchend events we handle only first touch\n  // i.e. we don't support several active touches at the same time (except pinch event)\n  private _activeTouchId: Nullable<number> = null\n\n  // accept all mouse leave events if it's not an iOS device\n  // see _mouseEnterHandler, _mouseMoveHandler, _mouseLeaveHandler\n  private _acceptMouseLeave = !isIOS()\n\n  constructor(\n    target: HTMLElement,\n    handler: EventHandler,\n    options: EventOptions\n  ) {\n    this._target = target\n    this._handler = handler\n    this._options = options\n\n    this._init()\n  }\n\n  destroy(): void {\n    if (this._unsubscribeOutsideMouseEvents !== null) {\n      this._unsubscribeOutsideMouseEvents()\n      this._unsubscribeOutsideMouseEvents = null\n    }\n\n    if (this._unsubscribeOutsideTouchEvents !== null) {\n      this._unsubscribeOutsideTouchEvents()\n      this._unsubscribeOutsideTouchEvents = null\n    }\n\n    if (this._unsubscribeMousemove !== null) {\n      this._unsubscribeMousemove()\n      this._unsubscribeMousemove = null\n    }\n\n    if (this._unsubscribeMouseWheel !== null) {\n      this._unsubscribeMouseWheel()\n      this._unsubscribeMouseWheel = null\n    }\n\n    if (this._unsubscribeContextMenu !== null) {\n      this._unsubscribeContextMenu()\n      this._unsubscribeContextMenu = null\n    }\n\n    if (this._unsubscribeRootMouseEvents !== null) {\n      this._unsubscribeRootMouseEvents()\n      this._unsubscribeRootMouseEvents = null\n    }\n\n    if (this._unsubscribeRootTouchEvents !== null) {\n      this._unsubscribeRootTouchEvents()\n      this._unsubscribeRootTouchEvents = null\n    }\n\n    if (this._unsubscribeMobileSafariEvents !== null) {\n      this._unsubscribeMobileSafariEvents()\n      this._unsubscribeMobileSafariEvents = null\n    }\n\n    this._clearLongTapTimeout()\n    this._resetClickTimeout()\n  }\n\n  private _mouseEnterHandler(enterEvent: MouseEvent): void {\n    this._unsubscribeMousemove?.()\n    this._unsubscribeMouseWheel?.()\n    this._unsubscribeContextMenu?.()\n\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n    const boundMouseMoveHandler = this._mouseMoveHandler.bind(this)\n    this._unsubscribeMousemove = () => {\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n      this._target.removeEventListener('mousemove', boundMouseMoveHandler)\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n    this._target.addEventListener('mousemove', boundMouseMoveHandler)\n\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n    const boundMouseWheel = this._mouseWheelHandler.bind(this)\n    this._unsubscribeMouseWheel = () => {\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n      this._target.removeEventListener('wheel', boundMouseWheel)\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n    this._target.addEventListener('wheel', boundMouseWheel, { passive: false })\n\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n    const boundContextMenu = this._contextMenuHandler.bind(this)\n    this._unsubscribeContextMenu = () => {\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n      this._target.removeEventListener('contextmenu', boundContextMenu)\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n    this._target.addEventListener('contextmenu', boundContextMenu, { passive: false })\n\n    if (this._firesTouchEvents(enterEvent)) {\n      return\n    }\n\n    this._processEvent(this._makeCompatEvent(enterEvent), this._handler.mouseEnterEvent)\n    this._acceptMouseLeave = true\n  }\n\n  private _resetClickTimeout(): void {\n    if (this._clickTimeoutId !== null) {\n      clearTimeout(this._clickTimeoutId)\n    }\n\n    this._clickCount = 0\n    this._clickTimeoutId = null\n    this._clickCoordinate = { x: Number.NEGATIVE_INFINITY, y: Number.POSITIVE_INFINITY }\n  }\n\n  private _resetTapTimeout(): void {\n    if (this._tapTimeoutId !== null) {\n      clearTimeout(this._tapTimeoutId)\n    }\n\n    this._tapCount = 0\n    this._tapTimeoutId = null\n    this._tapCoordinate = { x: Number.NEGATIVE_INFINITY, y: Number.POSITIVE_INFINITY }\n  }\n\n  private _mouseMoveHandler(moveEvent: MouseEvent): void {\n    if (this._mousePressed || this._touchMoveStartCoordinate !== null) {\n      return\n    }\n\n    if (this._firesTouchEvents(moveEvent)) {\n      return\n    }\n\n    this._processEvent(this._makeCompatEvent(moveEvent), this._handler.mouseMoveEvent)\n    this._acceptMouseLeave = true\n  }\n\n  private _mouseWheelHandler(wheelEvent: WheelEvent): void {\n    this._preventDefault(wheelEvent)\n    const evt = this._makeCompatEvent(wheelEvent)\n\n    // Handle horizontal pan (deltaX)\n    if (Math.abs(wheelEvent.deltaX) > 0 && isValid(this._handler.mouseWheelHortEvent)) {\n      this._handler.mouseWheelHortEvent(evt, -wheelEvent.deltaX)\n    }\n\n    // Handle vertical zoom (deltaY) — both axes fire from same event\n    if (isValid(this._handler.mouseWheelVertEvent)) {\n      let deltaY = -(wheelEvent.deltaY / 100)\n      if (deltaY !== 0) {\n        switch (wheelEvent.deltaMode) {\n          case wheelEvent.DOM_DELTA_PAGE: {\n            deltaY *= 120\n            break\n          }\n          case wheelEvent.DOM_DELTA_LINE: {\n            deltaY *= 32\n            break\n          }\n        }\n        if (deltaY !== 0) {\n          const scale = Math.sign(deltaY) * Math.min(1, Math.abs(deltaY))\n          this._handler.mouseWheelVertEvent(evt, scale)\n        }\n      }\n    }\n  }\n\n  private _contextMenuHandler(mouseEvent: MouseEvent): void {\n    this._preventDefault(mouseEvent)\n  }\n\n  private _touchMoveHandler(moveEvent: TouchEvent): void {\n    const touch = this._touchWithId(moveEvent.changedTouches, this._activeTouchId)\n    if (touch === null) {\n      return\n    }\n\n    this._lastTouchEventTimeStamp = this._eventTimeStamp(moveEvent)\n\n    if (this._startPinchMiddleCoordinate !== null) {\n      return\n    }\n\n    if (this._preventTouchDragProcess) {\n      return\n    }\n\n    // prevent pinch if move event comes faster than the second touch\n    this._pinchPrevented = true\n\n    const moveInfo = this._mouseTouchMoveWithDownInfo(this._getCoordinate(touch), this._touchMoveStartCoordinate!)\n    const { xOffset, yOffset, manhattanDistance } = moveInfo\n\n    if (!this._touchMoveExceededManhattanDistance && manhattanDistance < ManhattanDistance.CancelTap) {\n      return\n    }\n\n    if (!this._touchMoveExceededManhattanDistance) {\n      // first time when current position exceeded manhattan distance\n\n      // vertical drag is more important than horizontal drag\n      // because we scroll the page vertically often than horizontally\n      const correctedXOffset = xOffset * 0.5\n\n      // a drag can be only if touch page scroll isn't allowed\n      const isVertDrag = yOffset >= correctedXOffset && !this._options.treatVertDragAsPageScroll()\n      const isHorzDrag = correctedXOffset > yOffset && !this._options.treatHorzDragAsPageScroll()\n\n      // if drag event happened then we should revert preventDefault state to original one\n      // and try to process the drag event\n      // else we shouldn't prevent default of the event and ignore processing the drag event\n      if (!isVertDrag && !isHorzDrag) {\n        this._preventTouchDragProcess = true\n      }\n\n      this._touchMoveExceededManhattanDistance = true\n      // if manhattan distance is more that 5 - we should cancel tap event\n      this._cancelTap = true\n      this._clearLongTapTimeout()\n      this._resetTapTimeout()\n    }\n\n    if (!this._preventTouchDragProcess) {\n      this._processEvent(this._makeCompatEvent(moveEvent, touch), this._handler.touchMoveEvent)\n\n      // we should prevent default in case of touch only\n      // to prevent scroll of the page\n      // preventDefault(moveEvent)\n    }\n  }\n\n  private _mouseMoveWithDownHandler(moveEvent: MouseEvent): void {\n    if (moveEvent.button !== MouseEventButton.Left) {\n      return\n    }\n\n    const moveInfo = this._mouseTouchMoveWithDownInfo(this._getCoordinate(moveEvent), this._mouseMoveStartCoordinate!)\n    const { manhattanDistance } = moveInfo\n\n    if (manhattanDistance >= ManhattanDistance.CancelClick) {\n      // if manhattan distance is more that 5 - we should cancel click event\n      this._cancelClick = true\n      this._resetClickTimeout()\n    }\n    if (this._cancelClick) {\n      // if this._cancelClick is true, that means that minimum manhattan distance is already exceeded\n      this._processEvent(this._makeCompatEvent(moveEvent), this._handler.pressedMouseMoveEvent)\n    }\n  }\n\n  private _mouseTouchMoveWithDownInfo(currentCoordinate: Coordinate, startCoordinate: Coordinate): MouseTouchMoveWithDownInfo {\n    const xOffset = Math.abs(startCoordinate.x - currentCoordinate.x)\n    const yOffset = Math.abs(startCoordinate.y - currentCoordinate.y)\n\n    const manhattanDistance = xOffset + yOffset\n\n    return { xOffset, yOffset, manhattanDistance }\n  }\n\n  /**\n   * In Firefox mouse events dont't fire if the mouse position is outside of the browser's border.\n   * To prevent the mouse from hanging while pressed we're subscribing on the mouseleave event of the document element.\n   * We're subscribing on mouseleave, but this event is actually fired on mouseup outside of the browser's border.\n   */\n  private readonly _onFirefoxOutsideMouseUp = (mouseUpEvent: MouseEvent): void => {\n    this._mouseUpHandler(mouseUpEvent)\n  }\n\n  /**\n   * Safari doesn't fire touchstart/mousedown events on double tap since iOS 13.\n   * There are two possible solutions:\n   * 1) Call preventDefault in touchEnd handler. But it also prevents click event from firing.\n   * 2) Add listener on dblclick event that fires with the preceding mousedown/mouseup.\n   * https://developer.apple.com/forums/thread/125073\n   */\n  private readonly _onMobileSafariDoubleClick = (dblClickEvent: MouseEvent): void => {\n    if (this._firesTouchEvents(dblClickEvent)) {\n      ++this._tapCount\n\n      if (this._tapTimeoutId !== null && this._tapCount > 1) {\n        const { manhattanDistance } = this._mouseTouchMoveWithDownInfo(this._getCoordinate(dblClickEvent), this._tapCoordinate)\n\n        if (manhattanDistance < ManhattanDistance.DoubleTap && !this._cancelTap) {\n          this._processEvent(this._makeCompatEvent(dblClickEvent), this._handler.doubleTapEvent)\n        }\n        this._resetTapTimeout()\n      }\n    } else {\n      ++this._clickCount\n\n      if (this._clickTimeoutId !== null && this._clickCount > 1) {\n        const { manhattanDistance } = this._mouseTouchMoveWithDownInfo(this._getCoordinate(dblClickEvent), this._clickCoordinate)\n\n        if (manhattanDistance < ManhattanDistance.DoubleClick && !this._cancelClick) {\n          this._processEvent(this._makeCompatEvent(dblClickEvent), this._handler.mouseDoubleClickEvent)\n        }\n        this._resetClickTimeout()\n      }\n    }\n  }\n\n  private _touchEndHandler(touchEndEvent: TouchEvent): void {\n    let touch = this._touchWithId(touchEndEvent.changedTouches, this._activeTouchId)\n    if (touch === null && touchEndEvent.touches.length === 0) {\n      // something went wrong, somehow we missed the required touchend event\n      // probably the browser has not sent this event\n      touch = touchEndEvent.changedTouches[0]\n    }\n\n    if (touch === null) {\n      return\n    }\n\n    this._activeTouchId = null\n    this._lastTouchEventTimeStamp = this._eventTimeStamp(touchEndEvent)\n    this._clearLongTapTimeout()\n    this._touchMoveStartCoordinate = null\n\n    if (this._unsubscribeRootTouchEvents !== null) {\n      this._unsubscribeRootTouchEvents()\n      this._unsubscribeRootTouchEvents = null\n    }\n\n    const compatEvent = this._makeCompatEvent(touchEndEvent, touch)\n    this._processEvent(compatEvent, this._handler.touchEndEvent)\n    ++this._tapCount\n\n    if (this._tapTimeoutId !== null && this._tapCount > 1) {\n      // check that both clicks are near enough\n      const { manhattanDistance } = this._mouseTouchMoveWithDownInfo(this._getCoordinate(touch), this._tapCoordinate)\n      if (manhattanDistance < ManhattanDistance.DoubleTap && !this._cancelTap) {\n        this._processEvent(compatEvent, this._handler.doubleTapEvent)\n      }\n      this._resetTapTimeout()\n    } else {\n      if (!this._cancelTap) {\n        this._processEvent(compatEvent, this._handler.tapEvent)\n\n        // do not fire mouse events if tap handler was executed\n        // prevent click event on new dom element (who appeared after tap)\n        if (isValid(this._handler.tapEvent)) {\n          this._preventDefault(touchEndEvent)\n        }\n      }\n    }\n\n    // prevent, for example, safari's dblclick-to-zoom or fast-click after long-tap\n    // we handle mouseDoubleClickEvent here ourselves\n    if (this._tapCount === 0) {\n      this._preventDefault(touchEndEvent)\n    }\n\n    if (touchEndEvent.touches.length === 0) {\n      if (this._longTapActive) {\n        this._longTapActive = false\n        // prevent native click event\n        this._preventDefault(touchEndEvent)\n      }\n    }\n  }\n\n  private _mouseUpHandler(mouseUpEvent: MouseEvent): void {\n    if (mouseUpEvent.button !== MouseEventButton.Left) {\n      return\n    }\n\n    const compatEvent = this._makeCompatEvent(mouseUpEvent)\n\n    this._mouseMoveStartCoordinate = null\n    this._mousePressed = false\n\n    if (this._unsubscribeRootMouseEvents !== null) {\n      this._unsubscribeRootMouseEvents()\n      this._unsubscribeRootMouseEvents = null\n    }\n\n    if (isFF()) {\n      const rootElement = this._target.ownerDocument.documentElement\n      rootElement.removeEventListener('mouseleave', this._onFirefoxOutsideMouseUp)\n    }\n\n    if (this._firesTouchEvents(mouseUpEvent)) {\n      return\n    }\n\n    this._processEvent(compatEvent, this._handler.mouseUpEvent)\n    ++this._clickCount\n\n    if (this._clickTimeoutId !== null && this._clickCount > 1) {\n      // check that both clicks are near enough\n      const { manhattanDistance } = this._mouseTouchMoveWithDownInfo(this._getCoordinate(mouseUpEvent), this._clickCoordinate)\n      if (manhattanDistance < ManhattanDistance.DoubleClick && !this._cancelClick) {\n        this._processEvent(compatEvent, this._handler.mouseDoubleClickEvent)\n      }\n      this._resetClickTimeout()\n    } else {\n      if (!this._cancelClick) {\n        this._processEvent(compatEvent, this._handler.mouseClickEvent)\n      }\n    }\n  }\n\n  private _clearLongTapTimeout(): void {\n    if (this._longTapTimeoutId === null) {\n      return\n    }\n\n    clearTimeout(this._longTapTimeoutId)\n    this._longTapTimeoutId = null\n  }\n\n  private _touchStartHandler(downEvent: TouchEvent): void {\n    if (this._activeTouchId !== null) {\n      return\n    }\n    const touch = downEvent.changedTouches[0]\n    this._activeTouchId = touch.identifier\n\n    this._lastTouchEventTimeStamp = this._eventTimeStamp(downEvent)\n\n    const rootElement = this._target.ownerDocument.documentElement\n\n    this._cancelTap = false\n    this._touchMoveExceededManhattanDistance = false\n    this._preventTouchDragProcess = false\n\n    this._touchMoveStartCoordinate = this._getCoordinate(touch)\n\n    if (this._unsubscribeRootTouchEvents !== null) {\n      this._unsubscribeRootTouchEvents()\n      this._unsubscribeRootTouchEvents = null\n    }\n\n    {\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n      const boundTouchMoveWithDownHandler = this._touchMoveHandler.bind(this)\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n      const boundTouchEndHandler = this._touchEndHandler.bind(this)\n\n      this._unsubscribeRootTouchEvents = () => {\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n        rootElement.removeEventListener('touchmove', boundTouchMoveWithDownHandler)\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n        rootElement.removeEventListener('touchend', boundTouchEndHandler)\n      }\n\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n      rootElement.addEventListener('touchmove', boundTouchMoveWithDownHandler, { passive: false })\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n      rootElement.addEventListener('touchend', boundTouchEndHandler, { passive: false })\n\n      this._clearLongTapTimeout()\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n      this._longTapTimeoutId = setTimeout(this._longTapHandler.bind(this, downEvent), Delay.LongTap)\n    }\n\n    this._processEvent(this._makeCompatEvent(downEvent, touch), this._handler.touchStartEvent)\n\n    if (this._tapTimeoutId === null) {\n      this._tapCount = 0\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n      this._tapTimeoutId = setTimeout(this._resetTapTimeout.bind(this), Delay.ResetClick)\n      this._tapCoordinate = this._getCoordinate(touch)\n    }\n  }\n\n  private _mouseDownHandler(downEvent: MouseEvent): void {\n    if (downEvent.button === MouseEventButton.Right) {\n      this._preventDefault(downEvent)\n      this._processEvent(this._makeCompatEvent(downEvent), this._handler.mouseRightClickEvent)\n      return\n    }\n\n    if (downEvent.button !== MouseEventButton.Left) {\n      return\n    }\n\n    const rootElement = this._target.ownerDocument.documentElement\n    if (isFF()) {\n      rootElement.addEventListener('mouseleave', this._onFirefoxOutsideMouseUp)\n    }\n\n    this._cancelClick = false\n\n    this._mouseMoveStartCoordinate = this._getCoordinate(downEvent)\n\n    if (this._unsubscribeRootMouseEvents !== null) {\n      this._unsubscribeRootMouseEvents()\n      this._unsubscribeRootMouseEvents = null\n    }\n\n    {\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n      const boundMouseMoveWithDownHandler = this._mouseMoveWithDownHandler.bind(this)\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n      const boundMouseUpHandler = this._mouseUpHandler.bind(this)\n\n      this._unsubscribeRootMouseEvents = () => {\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n        rootElement.removeEventListener('mousemove', boundMouseMoveWithDownHandler)\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n        rootElement.removeEventListener('mouseup', boundMouseUpHandler)\n      }\n\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n      rootElement.addEventListener('mousemove', boundMouseMoveWithDownHandler)\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n      rootElement.addEventListener('mouseup', boundMouseUpHandler)\n    }\n\n    this._mousePressed = true\n\n    if (this._firesTouchEvents(downEvent)) {\n      return\n    }\n\n    this._processEvent(this._makeCompatEvent(downEvent), this._handler.mouseDownEvent)\n\n    if (this._clickTimeoutId === null) {\n      this._clickCount = 0\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n      this._clickTimeoutId = setTimeout(this._resetClickTimeout.bind(this), Delay.ResetClick)\n      this._clickCoordinate = this._getCoordinate(downEvent)\n    }\n  }\n\n  private _init(): void {\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n    this._target.addEventListener('mouseenter', this._mouseEnterHandler.bind(this))\n\n    // Do not show context menu when something went wrong\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n    this._target.addEventListener('touchcancel', this._clearLongTapTimeout.bind(this))\n\n    {\n      const doc = this._target.ownerDocument\n\n      const outsideHandler = (event: MouseEvent | TouchEvent): void => {\n        if (this._handler.mouseDownOutsideEvent == null) {\n          return\n        }\n\n        if (event.composed && this._target.contains(event.composedPath()[0] as Element)) {\n          return\n        }\n\n        if ((event.target !== null) && this._target.contains(event.target as Element)) {\n          return\n        }\n\n        this._handler.mouseDownOutsideEvent({ x: 0, y: 0, pageX: 0, pageY: 0 })\n      }\n\n      this._unsubscribeOutsideTouchEvents = () => {\n        doc.removeEventListener('touchstart', outsideHandler)\n      }\n\n      this._unsubscribeOutsideMouseEvents = () => {\n        doc.removeEventListener('mousedown', outsideHandler)\n      }\n\n      doc.addEventListener('mousedown', outsideHandler)\n      doc.addEventListener('touchstart', outsideHandler, { passive: true })\n    }\n\n    if (isIOS()) {\n      this._unsubscribeMobileSafariEvents = () => {\n        this._target.removeEventListener('dblclick', this._onMobileSafariDoubleClick)\n      }\n      this._target.addEventListener('dblclick', this._onMobileSafariDoubleClick)\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n    this._target.addEventListener('mouseleave', this._mouseLeaveHandler.bind(this))\n\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n    this._target.addEventListener('touchstart', this._touchStartHandler.bind(this), { passive: true })\n\n    this._target.addEventListener('mousedown', (e: MouseEvent) => {\n      if (e.button === MouseEventButton.Middle) {\n        // prevent incorrect scrolling event\n        e.preventDefault()\n        return false\n      }\n      return undefined\n    })\n\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n    this._target.addEventListener('mousedown', this._mouseDownHandler.bind(this))\n    this._initPinch()\n\n    // Hey mobile Safari, what's up?\n    // If mobile Safari doesn't have any touchmove handler with passive=false\n    // it treats a touchstart and the following touchmove events as cancelable=false,\n    // so we can't prevent them (as soon we subscribe on touchmove inside touchstart's handler).\n    // And we'll get scroll of the page along with chart's one instead of only chart's scroll.\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    this._target.addEventListener('touchmove', () => { }, { passive: false })\n  }\n\n  private _initPinch(): void {\n    if (!isValid(this._handler.pinchStartEvent) &&\n      !isValid(this._handler.pinchEvent) &&\n      !isValid(this._handler.pinchEndEvent)\n    ) {\n      return\n    }\n\n    this._target.addEventListener(\n      'touchstart',\n      (event: TouchEvent) => { this._checkPinchState(event.touches) },\n      { passive: true }\n    )\n\n    this._target.addEventListener(\n      'touchmove',\n      (event: TouchEvent) => {\n        if (event.touches.length !== 2 || this._startPinchMiddleCoordinate === null) {\n          return\n        }\n        if (isValid(this._handler.pinchEvent)) {\n          const currentDistance = this._getTouchDistance(event.touches[0], event.touches[1])\n          const scale = currentDistance / this._startPinchDistance\n          this._handler.pinchEvent({ ...this._startPinchMiddleCoordinate, pageX: 0, pageY: 0 }, scale)\n          this._preventDefault(event)\n        }\n      },\n      { passive: false }\n    )\n\n    this._target.addEventListener('touchend', (event: TouchEvent) => {\n      this._checkPinchState(event.touches)\n    })\n  }\n\n  private _checkPinchState(touches: TouchList): void {\n    if (touches.length === 1) {\n      this._pinchPrevented = false\n    }\n\n    if (touches.length !== 2 || this._pinchPrevented || this._longTapActive) {\n      this._stopPinch()\n    } else {\n      this._startPinch(touches)\n    }\n  }\n\n  private _startPinch(touches: TouchList): void {\n    const box = this._target.getBoundingClientRect()\n    this._startPinchMiddleCoordinate = {\n      x: ((touches[0].clientX - box.left) + (touches[1].clientX - box.left)) / 2,\n      y: ((touches[0].clientY - box.top) + (touches[1].clientY - box.top)) / 2\n    }\n\n    this._startPinchDistance = this._getTouchDistance(touches[0], touches[1])\n\n    if (isValid(this._handler.pinchStartEvent)) {\n      this._handler.pinchStartEvent({ x: 0, y: 0, pageX: 0, pageY: 0 })\n    }\n\n    this._clearLongTapTimeout()\n  }\n\n  private _stopPinch(): void {\n    if (this._startPinchMiddleCoordinate === null) {\n      return\n    }\n\n    this._startPinchMiddleCoordinate = null\n\n    if (isValid(this._handler.pinchEndEvent)) {\n      this._handler.pinchEndEvent({ x: 0, y: 0, pageX: 0, pageY: 0 })\n    }\n  }\n\n  private _mouseLeaveHandler(event: MouseEvent): void {\n    this._unsubscribeMousemove?.()\n    this._unsubscribeMouseWheel?.()\n    this._unsubscribeContextMenu?.()\n\n    if (this._firesTouchEvents(event)) {\n      return\n    }\n\n    if (!this._acceptMouseLeave) {\n      // mobile Safari sometimes emits mouse leave event for no reason, there is no way to handle it in other way\n      // just ignore this event if there was no mouse move or mouse enter events\n      return\n    }\n\n    this._processEvent(this._makeCompatEvent(event), this._handler.mouseLeaveEvent)\n\n    // accept all mouse leave events if it's not an iOS device\n    this._acceptMouseLeave = !isIOS()\n  }\n\n  private _longTapHandler(event: TouchEvent): void {\n    const touch = this._touchWithId(event.touches, this._activeTouchId)\n    if (touch === null) {\n      return\n    }\n\n    this._processEvent(this._makeCompatEvent(event, touch), this._handler.longTapEvent)\n    this._cancelTap = true\n\n    // long tap is active until touchend event with 0 touches occurred\n    this._longTapActive = true\n  }\n\n  private _firesTouchEvents(e: MouseEvent): boolean {\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-expect-error\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n    if (isValid(e.sourceCapabilities?.firesTouchEvents)) {\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-expect-error\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-return, @typescript-eslint/no-unsafe-member-access\n      return e.sourceCapabilities.firesTouchEvents\n    }\n\n    return this._eventTimeStamp(e) < this._lastTouchEventTimeStamp + Delay.PreventFiresTouchEvents\n  }\n\n  private _processEvent(event: MouseTouchEvent, callback?: MouseTouchEventCallback): void {\n    callback?.call(this._handler, event)\n  }\n\n  private _makeCompatEvent(event: MouseEvent | TouchEvent, touch?: Touch): MouseTouchEvent {\n    // TouchEvent has no clientX/Y coordinates:\n    // We have to use the last Touch instead\n    const eventLike = touch ?? (event as MouseEvent)\n    const box = this._target.getBoundingClientRect()\n    return {\n      x: eventLike.clientX - box.left,\n      y: eventLike.clientY - box.top,\n\n      pageX: eventLike.pageX,\n      pageY: eventLike.pageY,\n      isTouch: !event.type.startsWith('mouse') && event.type !== 'contextmenu' && event.type !== 'click' && event.type !== 'wheel',\n\n      preventDefault: () => {\n        if (event.type !== 'touchstart') {\n          // touchstart is passive and cannot be prevented\n          this._preventDefault(event)\n        }\n      }\n    }\n  }\n\n  private _getTouchDistance(p1: Touch, p2: Touch): number {\n    const xDiff = p1.clientX - p2.clientX\n    const yDiff = p1.clientY - p2.clientY\n    return Math.sqrt(xDiff * xDiff + yDiff * yDiff)\n  }\n\n  private _preventDefault(event: Event): void {\n    if (event.cancelable) {\n      event.preventDefault()\n    }\n  }\n\n  private _getCoordinate(eventLike: Touch | MouseEvent): Coordinate {\n    return {\n      x: eventLike.pageX,\n      y: eventLike.pageY\n    }\n  }\n\n  private _eventTimeStamp(e: TouchEvent | MouseEvent): number {\n    // for some reason e.timestamp is always 0 on iPad with magic mouse, so we use performance.now() as a fallback\n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n    return e.timeStamp ?? performance.now()\n  }\n\n  private _touchWithId(touches: TouchList, id: Nullable<number>): Nullable<Touch> {\n    // eslint-disable-next-line @typescript-eslint/prefer-for-of\n    for (let i = 0; i < touches.length; ++i) {\n      if (touches[i].identifier === id) {\n        return touches[i]\n      }\n    }\n    return null\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type Nullable from './common/Nullable'\nimport EventHandlerImp, { type EventHandler, type MouseTouchEvent, TOUCH_MIN_RADIUS } from './common/EventHandler'\nimport type Coordinate from './common/Coordinate'\nimport { UpdateLevel } from './common/Updater'\nimport type Crosshair from './common/Crosshair'\nimport { requestAnimationFrame, cancelAnimationFrame } from './common/utils/compatible'\nimport { isValid } from './common/utils/typeChecks'\n\nimport type { AxisRange } from './component/Axis'\nimport type YAxis from './component/YAxis'\nimport type XAxis from './component/XAxis'\n\nimport type Chart from './Chart'\nimport type Pane from './pane/Pane'\nimport type DrawPane from './pane/DrawPane'\nimport { PaneIdConstants } from './pane/types'\nimport type Widget from './widget/Widget'\nimport { WidgetNameConstants, REAL_SEPARATOR_HEIGHT } from './widget/types'\n\ninterface EventTriggerWidgetInfo {\n  pane: Nullable<Pane>\n  widget: Nullable<Widget>\n}\n\nexport default class Event implements EventHandler {\n  private readonly _container: HTMLElement\n  private readonly _chart: Chart\n  private readonly _event: EventHandlerImp\n\n  // 惯性滚动开始时间\n  private _flingStartTime = new Date().getTime()\n  // 惯性滚动定时器\n  private _flingScrollRequestId: Nullable<number> = null\n  // 开始滚动时坐标点\n  private _startScrollCoordinate: Nullable<Coordinate> = null\n  // 开始触摸时坐标\n  private _touchCoordinate: Nullable<Coordinate> = null\n  // 是否是取消了十字光标\n  private _touchCancelCrosshair = false\n  // 是否缩放过\n  private _touchZoomed = false\n  // 用来记录捏合缩放的尺寸\n  private _pinchScale = 1\n\n  private _mouseDownWidget: Nullable<Widget> = null\n\n  private _prevYAxisRange: Nullable<AxisRange> = null\n\n  private _xAxisStartScaleCoordinate: Nullable<Coordinate> = null\n  private _xAxisStartScaleDistance = 0\n  private _xAxisScale = 1\n\n  private _yAxisStartScaleDistance = 0\n\n  private _mouseMoveTriggerWidgetInfo: EventTriggerWidgetInfo = { pane: null, widget: null }\n\n  private readonly _boundKeyBoardDownEvent: ((event: KeyboardEvent) => void) = (event: KeyboardEvent) => {\n    if (event.shiftKey) {\n      switch (event.code) {\n        case 'Equal': {\n          this._chart.getChartStore().zoom(0.5, null, 'main')\n          break\n        }\n        case 'Minus': {\n          this._chart.getChartStore().zoom(-0.5, null, 'main')\n          break\n        }\n        case 'ArrowLeft': {\n          const store = this._chart.getChartStore()\n          store.startScroll()\n          store.scroll(-3 * store.getBarSpace().bar)\n          break\n        }\n        case 'ArrowRight': {\n          const store = this._chart.getChartStore()\n          store.startScroll()\n          store.scroll(3 * store.getBarSpace().bar)\n          break\n        }\n        default: {\n          break\n        }\n      }\n    }\n  }\n\n  constructor (container: HTMLElement, chart: Chart) {\n    this._container = container\n    this._chart = chart\n    this._event = new EventHandlerImp(container, this, {\n      treatVertDragAsPageScroll: () => false,\n      treatHorzDragAsPageScroll: () => false\n    })\n    container.addEventListener('keydown', this._boundKeyBoardDownEvent)\n  }\n\n  pinchStartEvent (): boolean {\n    this._touchZoomed = true\n    this._pinchScale = 1\n    return true\n  }\n\n  pinchEvent (e: MouseTouchEvent, scale: number): boolean {\n    const { pane, widget } = this._findWidgetByEvent(e)\n    if (pane?.getId() !== PaneIdConstants.X_AXIS && widget?.getName() === WidgetNameConstants.MAIN) {\n      const event = this._makeWidgetEvent(e, widget)\n      const zoomScale = (scale - this._pinchScale) * 5\n      this._pinchScale = scale\n      this._chart.getChartStore().zoom(zoomScale, { x: event.x, y: event.y }, 'main')\n      return true\n    }\n    return false\n  }\n\n  mouseWheelHortEvent (_: MouseTouchEvent, distance: number): boolean {\n    const store = this._chart.getChartStore()\n    store.startScroll()\n    store.scroll(distance)\n    return true\n  }\n\n  mouseWheelVertEvent (e: MouseTouchEvent, scale: number): boolean {\n    const { widget } = this._findWidgetByEvent(e)\n    const event = this._makeWidgetEvent(e, widget)\n    const name = widget?.getName()\n    if (name === WidgetNameConstants.MAIN) {\n      this._chart.getChartStore().zoom(scale, { x: event.x, y: event.y }, 'main')\n      return true\n    }\n    return false\n  }\n\n  mouseDownEvent (e: MouseTouchEvent): boolean {\n    const { pane, widget } = this._findWidgetByEvent(e)\n    this._mouseDownWidget = widget\n    if (widget !== null) {\n      const event = this._makeWidgetEvent(e, widget)\n      const name = widget.getName()\n      switch (name) {\n        case WidgetNameConstants.SEPARATOR: {\n          return widget.dispatchEvent('mouseDownEvent', event)\n        }\n        case WidgetNameConstants.MAIN: {\n          const yAxis = (pane as DrawPane<YAxis>).getAxisComponent()\n          if (!yAxis.getAutoCalcTickFlag()) {\n            const range = yAxis.getRange()\n            this._prevYAxisRange = { ...range }\n          }\n          this._startScrollCoordinate = { x: event.x, y: event.y }\n          this._chart.getChartStore().startScroll()\n          return widget.dispatchEvent('mouseDownEvent', event)\n        }\n        case WidgetNameConstants.X_AXIS: {\n          return this._processXAxisScrollStartEvent(widget, event)\n        }\n        case WidgetNameConstants.Y_AXIS: {\n          return this._processYAxisScaleStartEvent(widget as Widget<DrawPane<YAxis>>, event)\n        }\n      }\n    }\n    return false\n  }\n\n  mouseMoveEvent (e: MouseTouchEvent): boolean {\n    const { pane, widget } = this._findWidgetByEvent(e)\n    const event = this._makeWidgetEvent(e, widget)\n    if (\n      this._mouseMoveTriggerWidgetInfo.pane?.getId() !== pane?.getId() ||\n      this._mouseMoveTriggerWidgetInfo.widget?.getName() !== widget?.getName()\n    ) {\n      widget?.dispatchEvent('mouseEnterEvent', event)\n      this._mouseMoveTriggerWidgetInfo.widget?.dispatchEvent('mouseLeaveEvent', event)\n      this._mouseMoveTriggerWidgetInfo = { pane, widget }\n    }\n    if (widget !== null) {\n      const name = widget.getName()\n      switch (name) {\n        case WidgetNameConstants.MAIN: {\n          const consumed = widget.dispatchEvent('mouseMoveEvent', event)\n          let crosshair: Crosshair | undefined = { x: event.x, y: event.y, paneId: pane?.getId() }\n          if (consumed) {\n            if (widget.getForceCursor() !== 'pointer') {\n              crosshair = undefined\n            }\n            widget.setCursor('pointer')\n          } else {\n            widget.setCursor('crosshair')\n          }\n          this._chart.getChartStore().setCrosshair(crosshair)\n          return consumed\n        }\n        case WidgetNameConstants.SEPARATOR:\n        case WidgetNameConstants.X_AXIS:\n        case WidgetNameConstants.Y_AXIS: {\n          const consumed = widget.dispatchEvent('mouseMoveEvent', event)\n          this._chart.getChartStore().setCrosshair()\n          return consumed\n        }\n      }\n    }\n    return false\n  }\n\n  pressedMouseMoveEvent (e: MouseTouchEvent): boolean {\n    if (this._mouseDownWidget !== null && this._mouseDownWidget.getName() === WidgetNameConstants.SEPARATOR) {\n      return this._mouseDownWidget.dispatchEvent('pressedMouseMoveEvent', e)\n    }\n    const { pane, widget } = this._findWidgetByEvent(e)\n    if (\n      widget !== null &&\n      this._mouseDownWidget?.getPane().getId() === pane?.getId() &&\n      this._mouseDownWidget?.getName() === widget.getName()\n    ) {\n      const event = this._makeWidgetEvent(e, widget)\n      const name = widget.getName()\n      switch (name) {\n        case WidgetNameConstants.MAIN: {\n          // eslint-disable-next-line @typescript-eslint/init-declarations -- ignore\n          let crosshair: Crosshair | undefined\n          const consumed = widget.dispatchEvent('pressedMouseMoveEvent', event)\n          if (!consumed) {\n            this._processMainScrollingEvent(widget as Widget<DrawPane<YAxis>>, event)\n          }\n          if (!consumed || widget.getForceCursor() === 'pointer') {\n            crosshair = { x: event.x, y: event.y, paneId: pane?.getId() }\n          }\n          this._chart.getChartStore().setCrosshair(crosshair, { forceInvalidate: true })\n          return consumed\n        }\n        case WidgetNameConstants.X_AXIS: {\n          return this._processXAxisScrollingEvent(widget as Widget<DrawPane<XAxis>>, event)\n        }\n        case WidgetNameConstants.Y_AXIS: {\n          return this._processYAxisScalingEvent(widget as Widget<DrawPane<YAxis>>, event)\n        }\n      }\n    }\n    return false\n  }\n\n  mouseUpEvent (e: MouseTouchEvent): boolean {\n    const { widget } = this._findWidgetByEvent(e)\n    let consumed = false\n    if (widget !== null) {\n      const event = this._makeWidgetEvent(e, widget)\n      const name = widget.getName()\n      switch (name) {\n        case WidgetNameConstants.MAIN:\n        case WidgetNameConstants.SEPARATOR:\n        case WidgetNameConstants.X_AXIS:\n        case WidgetNameConstants.Y_AXIS: {\n          consumed = widget.dispatchEvent('mouseUpEvent', event)\n          break\n        }\n      }\n      if (consumed) {\n        this._chart.updatePane(UpdateLevel.Overlay)\n      }\n    }\n    this._mouseDownWidget = null\n    this._startScrollCoordinate = null\n    this._prevYAxisRange = null\n    this._xAxisStartScaleCoordinate = null\n    this._xAxisStartScaleDistance = 0\n    this._xAxisScale = 1\n    this._yAxisStartScaleDistance = 0\n    return consumed\n  }\n\n  mouseClickEvent (e: MouseTouchEvent): boolean {\n    const { widget } = this._findWidgetByEvent(e)\n    if (widget !== null) {\n      const event = this._makeWidgetEvent(e, widget)\n      return widget.dispatchEvent('mouseClickEvent', event)\n    }\n    return false\n  }\n\n  mouseRightClickEvent (e: MouseTouchEvent): boolean {\n    const { widget } = this._findWidgetByEvent(e)\n    let consumed = false\n    if (widget !== null) {\n      const event = this._makeWidgetEvent(e, widget)\n      const name = widget.getName()\n      switch (name) {\n        case WidgetNameConstants.MAIN:\n        case WidgetNameConstants.X_AXIS:\n        case WidgetNameConstants.Y_AXIS: {\n          consumed = widget.dispatchEvent('mouseRightClickEvent', event)\n          break\n        }\n      }\n      if (consumed) {\n        this._chart.updatePane(UpdateLevel.Overlay)\n      }\n    }\n    return false\n  }\n\n  mouseDoubleClickEvent (e: MouseTouchEvent): boolean {\n    const { pane, widget } = this._findWidgetByEvent(e)\n    if (widget !== null) {\n      const name = widget.getName()\n      switch (name) {\n        case WidgetNameConstants.MAIN: {\n          const event = this._makeWidgetEvent(e, widget)\n          return widget.dispatchEvent('mouseDoubleClickEvent', event)\n        }\n        case WidgetNameConstants.Y_AXIS: {\n          const yAxis = (pane as DrawPane<YAxis>).getAxisComponent()\n          if (!yAxis.getAutoCalcTickFlag()) {\n            yAxis.setAutoCalcTickFlag(true)\n            this._chart.layout({\n              measureWidth: true,\n              update: true,\n              buildYAxisTick: true\n            })\n            return true\n          }\n          break\n        }\n      }\n    }\n    return false\n  }\n\n  mouseLeaveEvent (): boolean {\n    this._chart.getChartStore().setCrosshair()\n    return true\n  }\n\n  touchStartEvent (e: MouseTouchEvent): boolean {\n    const { pane, widget } = this._findWidgetByEvent(e)\n    if (widget !== null) {\n      const event = this._makeWidgetEvent(e, widget)\n      event.preventDefault?.()\n      const name = widget.getName()\n      switch (name) {\n        case WidgetNameConstants.MAIN: {\n          const chartStore = this._chart.getChartStore()\n          if (widget.dispatchEvent('mouseDownEvent', event)) {\n            this._touchCancelCrosshair = true\n            this._touchCoordinate = null\n            chartStore.setCrosshair(undefined, { notInvalidate: true })\n            this._chart.updatePane(UpdateLevel.Overlay)\n            return true\n          }\n          if (this._flingScrollRequestId !== null) {\n            cancelAnimationFrame(this._flingScrollRequestId)\n            this._flingScrollRequestId = null\n          }\n          this._flingStartTime = new Date().getTime()\n          const yAxis = (pane as DrawPane<YAxis>).getAxisComponent()\n          if (!yAxis.getAutoCalcTickFlag()) {\n            const range = yAxis.getRange()\n            this._prevYAxisRange = { ...range }\n          }\n          this._startScrollCoordinate = { x: event.x, y: event.y }\n          chartStore.startScroll()\n          this._touchZoomed = false\n          if (this._touchCoordinate !== null) {\n            const xDif = event.x - this._touchCoordinate.x\n            const yDif = event.y - this._touchCoordinate.y\n            const radius = Math.sqrt(xDif * xDif + yDif * yDif)\n            if (radius < TOUCH_MIN_RADIUS) {\n              this._touchCoordinate = { x: event.x, y: event.y }\n              chartStore.setCrosshair({ x: event.x, y: event.y, paneId: pane?.getId() })\n            } else {\n              this._touchCoordinate = null\n              this._touchCancelCrosshair = true\n              chartStore.setCrosshair()\n            }\n          }\n          return true\n        }\n        case WidgetNameConstants.X_AXIS: {\n          return this._processXAxisScrollStartEvent(widget, event)\n        }\n        case WidgetNameConstants.Y_AXIS: {\n          return this._processYAxisScaleStartEvent(widget as Widget<DrawPane<YAxis>>, event)\n        }\n      }\n    }\n    return false\n  }\n\n  touchMoveEvent (e: MouseTouchEvent): boolean {\n    const { pane, widget } = this._findWidgetByEvent(e)\n    if (widget !== null) {\n      const event = this._makeWidgetEvent(e, widget)\n      const name = widget.getName()\n      const chartStore = this._chart.getChartStore()\n      switch (name) {\n        case WidgetNameConstants.MAIN: {\n          if (widget.dispatchEvent('pressedMouseMoveEvent', event)) {\n            event.preventDefault?.()\n            chartStore.setCrosshair(undefined, { notInvalidate: true })\n            this._chart.updatePane(UpdateLevel.Overlay)\n            return true\n          }\n          if (this._touchCoordinate !== null) {\n            event.preventDefault?.()\n            chartStore.setCrosshair({ x: event.x, y: event.y, paneId: pane?.getId() })\n          } else {\n            this._processMainScrollingEvent(widget as Widget<DrawPane<YAxis>>, event)\n          }\n          return true\n        }\n        case WidgetNameConstants.X_AXIS: {\n          event.preventDefault?.()\n          return this._processXAxisScrollingEvent(widget as Widget<DrawPane<XAxis>>, event)\n        }\n        case WidgetNameConstants.Y_AXIS: {\n          return this._processYAxisScalingEvent(widget as Widget<DrawPane<YAxis>>, event)\n        }\n      }\n    }\n    return false\n  }\n\n  touchEndEvent (e: MouseTouchEvent): boolean {\n    const { widget } = this._findWidgetByEvent(e)\n    if (widget !== null) {\n      const event = this._makeWidgetEvent(e, widget)\n      const name = widget.getName()\n      switch (name) {\n        case WidgetNameConstants.MAIN: {\n          widget.dispatchEvent('mouseUpEvent', event)\n          if (this._startScrollCoordinate !== null) {\n            const time = new Date().getTime() - this._flingStartTime\n            const distance = event.x - this._startScrollCoordinate.x\n            let v = distance / (time > 0 ? time : 1) * 20\n            if (time < 200 && Math.abs(v) > 0) {\n              const store = this._chart.getChartStore()\n              const flingScroll: (() => void) = () => {\n                this._flingScrollRequestId = requestAnimationFrame(() => {\n                  store.startScroll()\n                  store.scroll(v)\n                  v = v * (1 - 0.025)\n                  if (Math.abs(v) < 1) {\n                    if (this._flingScrollRequestId !== null) {\n                      cancelAnimationFrame(this._flingScrollRequestId)\n                      this._flingScrollRequestId = null\n                    }\n                  } else {\n                    flingScroll()\n                  }\n                })\n              }\n              flingScroll()\n            }\n          }\n          return true\n        }\n        case WidgetNameConstants.X_AXIS:\n        case WidgetNameConstants.Y_AXIS: {\n          const consumed = widget.dispatchEvent('mouseUpEvent', event)\n          if (consumed) {\n            this._chart.updatePane(UpdateLevel.Overlay)\n          }\n        }\n      }\n      this._startScrollCoordinate = null\n      this._prevYAxisRange = null\n      this._xAxisStartScaleCoordinate = null\n      this._xAxisStartScaleDistance = 0\n      this._xAxisScale = 1\n      this._yAxisStartScaleDistance = 0\n    }\n    return false\n  }\n\n  tapEvent (e: MouseTouchEvent): boolean {\n    const { pane, widget } = this._findWidgetByEvent(e)\n    let consumed = false\n    if (widget !== null) {\n      const event = this._makeWidgetEvent(e, widget)\n      const result = widget.dispatchEvent('mouseClickEvent', event)\n      if (widget.getName() === WidgetNameConstants.MAIN) {\n        const event = this._makeWidgetEvent(e, widget)\n        const chartStore = this._chart.getChartStore()\n        if (result) {\n          this._touchCancelCrosshair = true\n          this._touchCoordinate = null\n          chartStore.setCrosshair(undefined, { notInvalidate: true })\n          consumed = true\n        } else {\n          if (!this._touchCancelCrosshair && !this._touchZoomed) {\n            this._touchCoordinate = { x: event.x, y: event.y }\n            chartStore.setCrosshair({ x: event.x, y: event.y, paneId: pane?.getId() }, { notInvalidate: true })\n            consumed = true\n          }\n          this._touchCancelCrosshair = false\n        }\n      }\n      if (consumed || result) {\n        this._chart.updatePane(UpdateLevel.Overlay)\n      }\n    }\n    return consumed\n  }\n\n  doubleTapEvent (e: MouseTouchEvent): boolean {\n    return this.mouseDoubleClickEvent(e)\n  }\n\n  longTapEvent (e: MouseTouchEvent): boolean {\n    const { pane, widget } = this._findWidgetByEvent(e)\n    if (widget !== null && widget.getName() === WidgetNameConstants.MAIN) {\n      const event = this._makeWidgetEvent(e, widget)\n      this._touchCoordinate = { x: event.x, y: event.y }\n      this._chart.getChartStore().setCrosshair({ x: event.x, y: event.y, paneId: pane?.getId() })\n      return true\n    }\n    return false\n  }\n\n  private _processMainScrollingEvent (widget: Widget<DrawPane<YAxis>>, event: MouseTouchEvent): void {\n    if (this._startScrollCoordinate !== null) {\n      const yAxis = widget.getPane().getAxisComponent()\n      if (this._prevYAxisRange !== null && !yAxis.getAutoCalcTickFlag() && yAxis.scrollZoomEnabled) {\n        event.preventDefault?.()\n        const { from, to, range } = this._prevYAxisRange\n        let distance = 0\n        if (yAxis.reverse) {\n          distance = this._startScrollCoordinate.y - event.y\n        } else {\n          distance = event.y - this._startScrollCoordinate.y\n        }\n        const bounding = widget.getBounding()\n        const scale = distance / bounding.height\n        const difRange = range * scale\n        const newFrom = from + difRange\n        const newTo = to + difRange\n        const newRealFrom = yAxis.valueToRealValue(newFrom, { range: this._prevYAxisRange })\n        const newRealTo = yAxis.valueToRealValue(newTo, { range: this._prevYAxisRange })\n        const newDisplayFrom = yAxis.realValueToDisplayValue(newRealFrom, { range: this._prevYAxisRange })\n        const newDisplayTo = yAxis.realValueToDisplayValue(newRealTo, { range: this._prevYAxisRange })\n        yAxis.setRange({\n          from: newFrom,\n          to: newTo,\n          range: newTo - newFrom,\n          realFrom: newRealFrom,\n          realTo: newRealTo,\n          realRange: newRealTo - newRealFrom,\n          displayFrom: newDisplayFrom,\n          displayTo: newDisplayTo,\n          displayRange: newDisplayTo - newDisplayFrom\n        })\n      }\n      const distance = event.x - this._startScrollCoordinate.x\n      this._chart.getChartStore().scroll(distance)\n    }\n  }\n\n  private _processXAxisScrollStartEvent (widget: Widget, event: MouseTouchEvent): boolean {\n    const consumed = widget.dispatchEvent('mouseDownEvent', event)\n    if (consumed) {\n      this._chart.updatePane(UpdateLevel.Overlay)\n    }\n    this._xAxisStartScaleCoordinate = { x: event.x, y: event.y }\n    this._xAxisStartScaleDistance = event.pageX\n    return consumed\n  }\n\n  private _processXAxisScrollingEvent (widget: Widget<DrawPane<XAxis>>, event: MouseTouchEvent): boolean {\n    const consumed = widget.dispatchEvent('pressedMouseMoveEvent', event)\n    if (!consumed) {\n      const xAxis = widget.getPane().getAxisComponent()\n      if (xAxis.scrollZoomEnabled && this._xAxisStartScaleDistance !== 0) {\n        const scale = this._xAxisStartScaleDistance / event.pageX\n        if (Number.isFinite(scale)) {\n          const zoomScale = (scale - this._xAxisScale) * 10\n          this._xAxisScale = scale\n          this._chart.getChartStore().zoom(zoomScale, this._xAxisStartScaleCoordinate, 'xAxis')\n        }\n      }\n    } else {\n      this._chart.updatePane(UpdateLevel.Overlay)\n    }\n    return consumed\n  }\n\n  private _processYAxisScaleStartEvent (widget: Widget<DrawPane<YAxis>>, event: MouseTouchEvent): boolean {\n    const consumed = widget.dispatchEvent('mouseDownEvent', event)\n    if (consumed) {\n      this._chart.updatePane(UpdateLevel.Overlay)\n    }\n    const range = widget.getPane().getAxisComponent().getRange()\n    this._prevYAxisRange = { ...range }\n    this._yAxisStartScaleDistance = event.pageY\n    return consumed\n  }\n\n  private _processYAxisScalingEvent (widget: Widget<DrawPane<YAxis>>, event: MouseTouchEvent): boolean {\n    const consumed = widget.dispatchEvent('pressedMouseMoveEvent', event)\n    if (!consumed) {\n      const yAxis = widget.getPane().getAxisComponent()\n      if (this._prevYAxisRange !== null && yAxis.scrollZoomEnabled && this._yAxisStartScaleDistance !== 0) {\n        event.preventDefault?.()\n        const { from, to, range } = this._prevYAxisRange\n        const scale = event.pageY / this._yAxisStartScaleDistance\n        const newRange = range * scale\n        const difRange = (newRange - range) / 2\n        const newFrom = from - difRange\n        const newTo = to + difRange\n        const newRealFrom = yAxis.valueToRealValue(newFrom, { range: this._prevYAxisRange })\n        const newRealTo = yAxis.valueToRealValue(newTo, { range: this._prevYAxisRange })\n        const newDisplayFrom = yAxis.realValueToDisplayValue(newRealFrom, { range: this._prevYAxisRange })\n        const newDisplayTo = yAxis.realValueToDisplayValue(newRealTo, { range: this._prevYAxisRange })\n        yAxis.setRange({\n          from: newFrom,\n          to: newTo,\n          range: newRange,\n          realFrom: newRealFrom,\n          realTo: newRealTo,\n          realRange: newRealTo - newRealFrom,\n          displayFrom: newDisplayFrom,\n          displayTo: newDisplayTo,\n          displayRange: newDisplayTo - newDisplayFrom\n        })\n        this._chart.layout({\n          measureWidth: true,\n          update: true,\n          buildYAxisTick: true\n        })\n      }\n    } else {\n      this._chart.updatePane(UpdateLevel.Overlay)\n    }\n    return consumed\n  }\n\n  private _findWidgetByEvent (event: MouseTouchEvent): EventTriggerWidgetInfo {\n    const { x, y } = event\n    const separatorPanes = this._chart.getSeparatorPanes()\n    const separatorSize = this._chart.getStyles().separator.size\n    for (const items of separatorPanes) {\n      const pane = items[1]\n      const bounding = pane.getBounding()\n      const top = bounding.top - Math.round((REAL_SEPARATOR_HEIGHT - separatorSize) / 2)\n      if (\n        x >= bounding.left && x <= bounding.left + bounding.width &&\n        y >= top && y <= top + REAL_SEPARATOR_HEIGHT\n      ) {\n        return { pane, widget: pane.getWidget() }\n      }\n    }\n\n    const drawPanes = this._chart.getDrawPanes()\n\n    let pane: Nullable<DrawPane> = null\n    for (const p of drawPanes) {\n      const bounding = p.getBounding()\n      if (\n        x >= bounding.left && x <= bounding.left + bounding.width &&\n        y >= bounding.top && y <= bounding.top + bounding.height\n      ) {\n        pane = p\n        break\n      }\n    }\n    let widget: Nullable<Widget> = null\n    if (pane !== null) {\n      if (!isValid(widget)) {\n        const mainWidget = pane.getMainWidget()\n        const mainBounding = mainWidget.getBounding()\n        if (\n          x >= mainBounding.left && x <= mainBounding.left + mainBounding.width &&\n          y >= mainBounding.top && y <= mainBounding.top + mainBounding.height\n        ) {\n          widget = mainWidget\n        }\n      }\n      if (!isValid(widget)) {\n        const yAxisWidget = pane.getYAxisWidget()\n        if (yAxisWidget !== null) {\n          const yAxisBounding = yAxisWidget.getBounding()\n          if (\n            x >= yAxisBounding.left && x <= yAxisBounding.left + yAxisBounding.width &&\n            y >= yAxisBounding.top && y <= yAxisBounding.top + yAxisBounding.height\n          ) {\n            widget = yAxisWidget\n          }\n        }\n      }\n    }\n    return { pane, widget }\n  }\n\n  private _makeWidgetEvent (event: MouseTouchEvent, widget: Nullable<Widget>): MouseTouchEvent {\n    const bounding = widget?.getBounding() ?? null\n    return {\n      ...event,\n      x: event.x - (bounding?.left ?? 0),\n      y: event.y - (bounding?.top ?? 0)\n    }\n  }\n\n  destroy (): void {\n    this._container.removeEventListener('keydown', this._boundKeyBoardDownEvent)\n    this._event.destroy()\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type Nullable from './common/Nullable'\nimport type DeepPartial from './common/DeepPartial'\nimport type PickPartial from './common/PickPartial'\nimport type Bounding from './common/Bounding'\nimport { createDefaultBounding } from './common/Bounding'\nimport type { KLineData } from './common/Data'\nimport type Coordinate from './common/Coordinate'\nimport type Point from './common/Point'\nimport { UpdateLevel } from './common/Updater'\nimport type Crosshair from './common/Crosshair'\nimport type { ActionType, ActionCallback } from './common/Action'\nimport type { DataLoader } from './common/DataLoader'\nimport type VisibleRange from './common/VisibleRange'\nimport type { Formatter, DecimalFold, LayoutChild, Options, ThousandsSeparator, ZoomAnchor } from './Options'\nimport Animation from './common/Animation'\nimport { createId } from './common/utils/id'\nimport { createDom } from './common/utils/dom'\nimport { getPixelRatio } from './common/utils/canvas'\nimport { isString, isArray, isValid, merge, isNumber } from './common/utils/typeChecks'\nimport { logWarn } from './common/utils/logger'\nimport { binarySearchNearest } from './common/utils/number'\nimport type { Styles } from './common/Styles'\nimport type BarSpace from './common/BarSpace'\nimport type PickRequired from './common/PickRequired'\nimport type { SymbolInfo } from './common/SymbolInfo'\nimport type { Period } from './common/Period'\n\nimport ChartStore, { SCALE_MULTIPLIER, type Store } from './Store'\n\nimport CandlePane from './pane/CandlePane'\nimport IndicatorPane from './pane/IndicatorPane'\nimport XAxisPane from './pane/XAxisPane'\nimport type DrawPane from './pane/DrawPane'\nimport SeparatorPane from './pane/SeparatorPane'\n\nimport { type PaneOptions, PANE_DEFAULT_HEIGHT, PaneIdConstants, PANE_MIN_HEIGHT } from './pane/types'\n\nimport type AxisImp from './component/Axis'\nimport type { YAxis } from './component/YAxis'\n\nimport type { IndicatorFilter, Indicator, IndicatorCreate, IndicatorOverride } from './component/Indicator'\nimport type { OverlayFilter, Overlay, OverlayCreate, OverlayOverride } from './component/Overlay'\n\nimport { getIndicatorClass } from './extension/indicator/index'\n\nimport Event from './Event'\n\nexport type DomPosition = 'root' | 'main' | 'yAxis'\n\nexport interface ConvertFilter {\n  paneId?: string\n  absolute?: boolean\n}\n\nexport interface DomFilter {\n  paneId: string\n  position?: DomPosition\n}\n\nexport interface Chart extends Store {\n  id: string\n  getDom: (paneId?: string, position?: DomPosition) => Nullable<HTMLElement>\n  getSize: (paneId?: string, position?: DomPosition) => Nullable<Bounding>\n  createIndicator: (value: string | IndicatorCreate, isStack?: boolean, paneOptions?: PaneOptions) => Nullable<string>\n  getIndicators: (filter?: IndicatorFilter) => Indicator[]\n  createOverlay: (value: string | OverlayCreate | Array<string | OverlayCreate>) => Nullable<string> | Array<Nullable<string>>\n  getOverlays: (filter?: OverlayFilter) => Overlay[]\n  setPaneOptions: (options: PaneOptions) => void\n  getPaneOptions: (id?: string) => Nullable<PaneOptions> | PaneOptions[]\n  scrollByDistance: (distance: number, animationDuration?: number) => void\n  scrollToRealTime: (animationDuration?: number) => void\n  scrollToDataIndex: (dataIndex: number, animationDuration?: number) => void\n  scrollToTimestamp: (timestamp: number, animationDuration?: number) => void\n  zoomAtCoordinate: (scale: number, coordinate?: Coordinate, animationDuration?: number) => void\n  zoomAtDataIndex: (scale: number, dataIndex: number, animationDuration?: number) => void\n  zoomAtTimestamp: (scale: number, timestamp: number, animationDuration?: number) => void\n  convertToPixel: (points: Partial<Point> | Array<Partial<Point>>, filter?: ConvertFilter) => Partial<Coordinate> | Array<Partial<Coordinate>>\n  convertFromPixel: (coordinates: Array<Partial<Coordinate>>, filter?: ConvertFilter) => Partial<Point> | Array<Partial<Point>>\n  executeAction: (type: ActionType, data: Crosshair) => void\n  subscribeAction: (type: ActionType, callback: ActionCallback) => void\n  unsubscribeAction: (type: ActionType, callback?: ActionCallback) => void\n  getConvertPictureUrl: (includeOverlay?: boolean, type?: 'png' | 'jpeg' | 'bmp', backgroundColor?: string) => string\n  resize: () => void\n  applyNewData: (data: KLineData[], more?: boolean) => void\n  applyMoreData: (data: KLineData[], more?: boolean) => void\n  updateData: (data: KLineData) => void\n  setYScrolling: (yScrolling: boolean) => void\n  getYScrolling: () => boolean\n  loadMore: (cb: (timestamp: Nullable<number>) => void) => void\n  setPriceVolumePrecision: (pricePrecision: number, volumePrecision: number) => void\n}\n\nexport default class ChartImp implements Chart {\n  id: string\n\n  private _container: HTMLElement\n  private _chartContainer: HTMLElement\n  private readonly _chartBounding = createDefaultBounding()\n  private readonly _chartEvent: Event\n  private readonly _chartStore: ChartStore\n  private _drawPanes: DrawPane[] = []\n  private _candlePane: CandlePane\n  private _xAxisPane: XAxisPane\n  private readonly _separatorPanes = new Map<DrawPane, SeparatorPane>()\n\n  private _layoutOptions = {\n    sort: true,\n    measureHeight: true,\n    measureWidth: true,\n    update: true,\n    buildYAxisTick: false,\n    cacheYAxisWidth: false,\n    forceBuildYAxisTick: false\n  }\n\n  private _layoutPending = false\n\n  private readonly _cacheYAxisWidth = { left: 0, right: 0 }\n\n  constructor(container: HTMLElement, options?: Options) {\n    this._initContainer(container)\n    this._chartEvent = new Event(this._chartContainer, this)\n    this._chartStore = new ChartStore(this, options)\n    this._initPanes(options)\n    this._layout()\n  }\n\n  private _initContainer(container: HTMLElement): void {\n    this._container = container\n    this._chartContainer = createDom('div', {\n      position: 'relative',\n      width: '100%',\n      height: '100%',\n      outline: 'none',\n      borderStyle: 'none',\n      cursor: 'crosshair',\n      boxSizing: 'border-box',\n      userSelect: 'none',\n      webkitUserSelect: 'none',\n      overflow: 'hidden',\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment -- ignore\n      // @ts-expect-error\n      msUserSelect: 'none',\n      MozUserSelect: 'none',\n      webkitTapHighlightColor: 'transparent'\n    })\n    this._chartContainer.tabIndex = 1\n    container.appendChild(this._chartContainer)\n    this._cacheChartBounding()\n  }\n\n  private _cacheChartBounding(): void {\n    this._chartBounding.width = Math.floor(this._chartContainer.clientWidth)\n    this._chartBounding.height = Math.floor(this._chartContainer.clientHeight)\n  }\n\n  private _initPanes(options?: Options): void {\n    const layout = options?.layout ?? [{ type: 'candle' }]\n\n    const createCandlePane: ((child: LayoutChild) => void) = child => {\n      if (!isValid(this._candlePane)) {\n        const paneOptions = child.options ?? {}\n        merge(paneOptions, { id: PaneIdConstants.CANDLE })\n        this._candlePane = this._createPane<CandlePane>(CandlePane, PaneIdConstants.CANDLE, paneOptions)\n        const content = child.content ?? []\n        content.forEach(v => {\n          this.createIndicator(v, true, paneOptions)\n        })\n      }\n    }\n\n    const createXAxisPane: ((ops?: PaneOptions) => void) = (ops?: PaneOptions) => {\n      if (!isValid(this._xAxisPane)) {\n        const pane = this._createPane<XAxisPane>(XAxisPane, PaneIdConstants.X_AXIS, ops ?? {})\n        this._xAxisPane = pane\n      }\n    }\n\n    layout.forEach(child => {\n      switch (child.type) {\n        case 'candle': {\n          createCandlePane(child)\n          break\n        }\n        case 'indicator': {\n          const content = child.content ?? []\n          if (content.length > 0) {\n            let paneId: Nullable<string> = child.options?.id ?? null\n            if (isValid(paneId)) {\n              paneId = createId(PaneIdConstants.INDICATOR)\n            }\n            const paneOptions = { ...child.options, id: paneId! }\n            content.forEach(v => {\n              this.createIndicator(v, true, paneOptions)\n            })\n          }\n          break\n        }\n        case 'xAxis': {\n          createXAxisPane(child.options)\n          break\n        }\n      }\n    })\n    createCandlePane({ type: 'candle' })\n    createXAxisPane({ order: Number.MAX_SAFE_INTEGER })\n  }\n\n  private _createPane<P extends DrawPane>(\n    DrawPaneClass: new (chart: Chart, id: string, options: Omit<PaneOptions, 'id' | 'height'>) => P,\n    id: string,\n    options?: PaneOptions\n  ): P {\n    const pane = new DrawPaneClass(this, id, options ?? {})\n    this._drawPanes.push(pane)\n    return pane\n  }\n\n  private _recalculatePaneHeight(currentPane: DrawPane, currentHeight: number, changeHeight: number): boolean {\n    if (changeHeight === 0) {\n      return false\n    }\n    const normalStatePanes = this._drawPanes.filter(pane => {\n      const paneId = pane.getId()\n      return (\n        pane.getOptions().state === 'normal' &&\n        paneId !== currentPane.getId() &&\n        paneId !== PaneIdConstants.X_AXIS\n      )\n    })\n\n    const count = normalStatePanes.length\n    if (count === 0) {\n      return false\n    }\n    if (\n      currentPane.getId() !== PaneIdConstants.CANDLE &&\n      isValid(this._candlePane) &&\n      this._candlePane.getOptions().state === 'normal'\n    ) {\n      const height = this._candlePane.getBounding().height\n      if (height > 0) {\n        const minHeight = this._candlePane.getOptions().minHeight\n        let newHeight = height + changeHeight\n        if (newHeight < minHeight) {\n          newHeight = minHeight\n          currentHeight -= (height + changeHeight - newHeight)\n        }\n        this._candlePane.setBounding({ height: newHeight })\n      }\n    } else {\n      let remainingHeight = changeHeight\n      const normalStatePaneChangeHeight = Math.floor(changeHeight / count)\n      normalStatePanes.forEach((pane, index) => {\n        const height = pane.getBounding().height\n        let newHeight = 0\n        if (index === count - 1) {\n          newHeight = height + remainingHeight\n        } else {\n          newHeight = height + normalStatePaneChangeHeight\n        }\n        if (newHeight < pane.getOptions().minHeight) {\n          newHeight = pane.getOptions().minHeight\n        }\n        pane.setBounding({ height: newHeight })\n        remainingHeight -= (newHeight - height)\n      })\n      if (Math.abs(remainingHeight) > 0) {\n        currentHeight -= remainingHeight\n      }\n    }\n    currentPane.setBounding({ height: currentHeight })\n    return true\n  }\n\n  getDrawPaneById(paneId: string): Nullable<DrawPane> {\n    if (paneId === PaneIdConstants.CANDLE) {\n      return this._candlePane\n    }\n    if (paneId === PaneIdConstants.X_AXIS) {\n      return this._xAxisPane\n    }\n    const pane = this._drawPanes.find(p => p.getId() === paneId)\n    return pane ?? null\n  }\n\n  getContainer(): HTMLElement { return this._container }\n\n  getChartStore(): ChartStore { return this._chartStore }\n\n  getXAxisPane(): XAxisPane { return this._xAxisPane }\n\n  getDrawPanes(): DrawPane[] { return this._drawPanes }\n\n  getSeparatorPanes(): Map<DrawPane, SeparatorPane> { return this._separatorPanes }\n\n  layout(options: {\n    sort?: boolean\n    measureHeight?: boolean\n    measureWidth?: boolean\n    update?: boolean\n    buildYAxisTick?: boolean\n    cacheYAxisWidth?: boolean\n    forceBuildYAxisTick?: boolean\n  }): void {\n    if (options.sort ?? false) {\n      this._layoutOptions.sort = options.sort!\n    }\n    if (options.measureHeight ?? false) {\n      this._layoutOptions.measureHeight = options.measureHeight!\n    }\n    if (options.measureWidth ?? false) {\n      this._layoutOptions.measureWidth = options.measureWidth!\n    }\n    if (options.update ?? false) {\n      this._layoutOptions.update = options.update!\n    }\n    if (options.buildYAxisTick ?? false) {\n      this._layoutOptions.buildYAxisTick = options.buildYAxisTick!\n    }\n    if (options.cacheYAxisWidth ?? false) {\n      this._layoutOptions.cacheYAxisWidth = options.cacheYAxisWidth!\n    }\n    if (options.buildYAxisTick ?? false) {\n      this._layoutOptions.forceBuildYAxisTick = options.forceBuildYAxisTick!\n    }\n    if (!this._layoutPending) {\n      this._layoutPending = true\n      Promise.resolve().then(_ => {\n        this._layout()\n        this._layoutPending = false\n      }).catch((_: unknown) => {\n        // todo\n      })\n    }\n  }\n\n  private _layout(): void {\n    const { sort, measureHeight, measureWidth, update, buildYAxisTick, cacheYAxisWidth, forceBuildYAxisTick } = this._layoutOptions\n    if (sort) {\n      while (isValid(this._chartContainer.firstChild)) {\n        this._chartContainer.removeChild(this._chartContainer.firstChild)\n      }\n      this._separatorPanes.clear()\n      this._drawPanes.sort((a, b) => a.getOptions().order - b.getOptions().order)\n      let prevPane: Nullable<DrawPane> = null\n      this._drawPanes.forEach(pane => {\n        if (pane.getId() !== PaneIdConstants.X_AXIS) {\n          if (isValid(prevPane)) {\n            const separatorPane = new SeparatorPane(this, '', prevPane, pane)\n            this._chartContainer.appendChild(separatorPane.getContainer())\n            this._separatorPanes.set(pane, separatorPane)\n          }\n          prevPane = pane\n        }\n        this._chartContainer.appendChild(pane.getContainer())\n      })\n    }\n    if (measureHeight) {\n      const totalHeight = this._chartBounding.height\n      const separatorSize = this.getStyles().separator.size\n      const xAxisHeight = this._xAxisPane.getAxisComponent().getAutoSize()\n      let remainingHeight = totalHeight - xAxisHeight\n      if (remainingHeight < 0) {\n        remainingHeight = 0\n      }\n      this._drawPanes.forEach(pane => {\n        const paneId = pane.getId()\n        if (isValid(this._separatorPanes.get(pane))) {\n          remainingHeight -= separatorSize\n        }\n        if (paneId !== PaneIdConstants.X_AXIS && paneId !== PaneIdConstants.CANDLE && pane.getVisible()) {\n          let paneHeight = pane.getBounding().height\n          if (paneHeight > remainingHeight) {\n            paneHeight = remainingHeight\n            remainingHeight = 0\n          } else {\n            remainingHeight -= paneHeight\n          }\n          pane.setBounding({ height: paneHeight })\n        }\n      })\n\n      this._candlePane.setBounding({ height: Math.max(remainingHeight, 0) })\n      this._xAxisPane.setBounding({ height: xAxisHeight })\n\n      let top = 0\n      this._drawPanes.forEach(pane => {\n        const separatorPane = this._separatorPanes.get(pane)\n        if (isValid(separatorPane)) {\n          separatorPane.setBounding({ height: separatorSize, top })\n          top += separatorSize\n        }\n        pane.setBounding({ top })\n        top += pane.getBounding().height\n      })\n    }\n    let forceMeasureWidth = measureWidth\n    if (buildYAxisTick || forceBuildYAxisTick) {\n      this._drawPanes.forEach(pane => {\n        const success = (pane.getAxisComponent() as AxisImp).buildTicks(forceBuildYAxisTick)\n        forceMeasureWidth ||= success\n      })\n    }\n    if (forceMeasureWidth) {\n      const totalWidth = this._chartBounding.width\n      const styles = this.getStyles()\n\n      let leftYAxisWidth = 0\n      let leftYAxisOutside = true\n      let rightYAxisWidth = 0\n      let rightYAxisOutside = true\n\n      this._drawPanes.forEach(pane => {\n        if (pane.getId() !== PaneIdConstants.X_AXIS) {\n          const yAxis = pane.getAxisComponent() as YAxis\n          const inside = yAxis.inside\n          const yAxisWidth = yAxis.getAutoSize()\n          if (yAxis.position === 'left') {\n            leftYAxisWidth = Math.max(leftYAxisWidth, yAxisWidth)\n            if (inside) {\n              leftYAxisOutside = false\n            }\n          } else {\n            rightYAxisWidth = Math.max(rightYAxisWidth, yAxisWidth)\n            if (inside) {\n              rightYAxisOutside = false\n            }\n          }\n        }\n      })\n\n      if (cacheYAxisWidth) {\n        leftYAxisWidth = Math.max(this._cacheYAxisWidth.left, leftYAxisWidth)\n        rightYAxisWidth = Math.max(this._cacheYAxisWidth.right, rightYAxisWidth)\n      }\n\n      this._cacheYAxisWidth.left = leftYAxisWidth\n      this._cacheYAxisWidth.right = rightYAxisWidth\n\n      let mainWidth = totalWidth\n      let mainLeft = 0\n      let mainRight = 0\n      // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition -- ignore\n      if (leftYAxisOutside) {\n        mainWidth -= leftYAxisWidth\n        mainLeft = leftYAxisWidth\n      }\n\n      // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition -- ignore\n      if (rightYAxisOutside) {\n        mainWidth -= rightYAxisWidth\n        mainRight = rightYAxisWidth\n      }\n\n      this._chartStore.setTotalBarSpace(mainWidth)\n\n      const paneBounding = { width: totalWidth }\n      const mainBounding = { width: mainWidth, left: mainLeft, right: mainRight }\n      const leftYAxisBounding = { width: leftYAxisWidth }\n      const rightYAxisBounding = { width: rightYAxisWidth }\n      const separatorFill = styles.separator.fill\n      let separatorBounding: Partial<Bounding> = {}\n      if (!separatorFill) {\n        separatorBounding = mainBounding\n      } else {\n        separatorBounding = paneBounding\n      }\n      this._drawPanes.forEach((pane) => {\n        this._separatorPanes.get(pane)?.setBounding(separatorBounding)\n        pane.setBounding(paneBounding, mainBounding, leftYAxisBounding, rightYAxisBounding)\n      })\n    }\n    if (update) {\n      (this._xAxisPane.getAxisComponent() as unknown as AxisImp).buildTicks(true)\n      this.updatePane(UpdateLevel.All)\n    }\n    this._layoutOptions = {\n      sort: false,\n      measureHeight: false,\n      measureWidth: false,\n      update: false,\n      buildYAxisTick: false,\n      cacheYAxisWidth: false,\n      forceBuildYAxisTick: false\n    }\n  }\n\n  updatePane(level: UpdateLevel, paneId?: string): void {\n    if (isValid(paneId)) {\n      const pane = this.getDrawPaneById(paneId)\n      pane?.update(level)\n    } else {\n      this._drawPanes.forEach(pane => {\n        pane.update(level)\n        this._separatorPanes.get(pane)?.update(level)\n      })\n    }\n  }\n\n  getDom(paneId?: string, position?: DomPosition): Nullable<HTMLElement> {\n    if (isValid(paneId)) {\n      const pane = this.getDrawPaneById(paneId)\n      if (isValid(pane)) {\n        const pos = position ?? 'root'\n        switch (pos) {\n          case 'root': {\n            return pane.getContainer()\n          }\n          case 'main': {\n            return pane.getMainWidget().getContainer()\n          }\n          case 'yAxis': {\n            return pane.getYAxisWidget()?.getContainer() ?? null\n          }\n        }\n      }\n    } else {\n      return this._chartContainer\n    }\n    return null\n  }\n\n  getSize(paneId?: string, position?: DomPosition): Nullable<Bounding> {\n    if (isValid(paneId)) {\n      const pane = this.getDrawPaneById(paneId)\n      if (isValid(pane)) {\n        const pos = position ?? 'root'\n        switch (pos) {\n          case 'root': {\n            return pane.getBounding()\n          }\n          case 'main': {\n            return pane.getMainWidget().getBounding()\n          }\n          case 'yAxis': {\n            return pane.getYAxisWidget()?.getBounding() ?? null\n          }\n        }\n      }\n    } else {\n      return this._chartBounding\n    }\n    return null\n  }\n\n  private _resetYAxisAutoCalcTickFlag(): void {\n    this._drawPanes.forEach(pane => {\n      (pane.getAxisComponent() as AxisImp).setAutoCalcTickFlag(true)\n    })\n  }\n\n  setSymbol(symbol: PickPartial<SymbolInfo, 'pricePrecision' | 'volumePrecision'>): void {\n    if (symbol !== this.getSymbol()) {\n      this._resetYAxisAutoCalcTickFlag()\n      this._chartStore.setSymbol(symbol)\n    }\n  }\n\n  getSymbol(): Nullable<SymbolInfo> {\n    return this._chartStore.getSymbol()\n  }\n\n  setPeriod(period: Period): void {\n    if (period !== this.getPeriod()) {\n      this._resetYAxisAutoCalcTickFlag()\n      this._chartStore.setPeriod(period)\n    }\n  }\n\n  getPeriod(): Nullable<Period> {\n    return this._chartStore.getPeriod()\n  }\n\n  setStyles(value: string | DeepPartial<Styles>): void {\n    this._setOptions(() => {\n      this._chartStore.setStyles(value)\n    })\n  }\n\n  getStyles(): Styles { return this._chartStore.getStyles() }\n\n  setFormatter(formatter: Partial<Formatter>): void {\n    this._setOptions(() => {\n      this._chartStore.setFormatter(formatter)\n    })\n  }\n\n  getFormatter(): Formatter { return this._chartStore.getFormatter() }\n\n  setLocale(locale: string): void {\n    this._setOptions(() => {\n      this._chartStore.setLocale(locale)\n    })\n  }\n\n  getLocale(): string { return this._chartStore.getLocale() }\n\n  setTimezone(timezone: string): void {\n    this._setOptions(() => {\n      this._chartStore.setTimezone(timezone)\n    })\n  }\n\n  getTimezone(): string { return this._chartStore.getTimezone() }\n\n  setThousandsSeparator(thousandsSeparator: Partial<ThousandsSeparator>): void {\n    this._setOptions(() => {\n      this._chartStore.setThousandsSeparator(thousandsSeparator)\n    })\n  }\n\n  getThousandsSeparator(): ThousandsSeparator { return this._chartStore.getThousandsSeparator() }\n\n  setDecimalFold(decimalFold: Partial<DecimalFold>): void {\n    this._setOptions(() => {\n      this._chartStore.setDecimalFold(decimalFold)\n    })\n  }\n\n  getDecimalFold(): DecimalFold { return this._chartStore.getDecimalFold() }\n\n  private _setOptions(fuc: () => void): void {\n    fuc()\n    this.layout({\n      measureHeight: true,\n      measureWidth: true,\n      update: true,\n      buildYAxisTick: true,\n      forceBuildYAxisTick: true\n    })\n  }\n\n  setOffsetRightDistance(distance: number): void {\n    this._chartStore.setOffsetRightDistance(distance, true)\n  }\n\n  getOffsetRightDistance(): number {\n    return this._chartStore.getOffsetRightDistance()\n  }\n\n  setMaxOffsetLeftDistance(distance: number): void {\n    if (distance < 0) {\n      logWarn('setMaxOffsetLeftDistance', 'distance', 'distance must greater than zero!!!')\n      return\n    }\n    this._chartStore.setMaxOffsetLeftDistance(distance)\n  }\n\n  setMaxOffsetRightDistance(distance: number): void {\n    if (distance < 0) {\n      logWarn('setMaxOffsetRightDistance', 'distance', 'distance must greater than zero!!!')\n      return\n    }\n    this._chartStore.setMaxOffsetRightDistance(distance)\n  }\n\n  setLeftMinVisibleBarCount(barCount: number): void {\n    if (barCount < 0) {\n      logWarn('setLeftMinVisibleBarCount', 'barCount', 'barCount must greater than zero!!!')\n      return\n    }\n    this._chartStore.setLeftMinVisibleBarCount(Math.ceil(barCount))\n  }\n\n  setRightMinVisibleBarCount(barCount: number): void {\n    if (barCount < 0) {\n      logWarn('setRightMinVisibleBarCount', 'barCount', 'barCount must greater than zero!!!')\n      return\n    }\n    this._chartStore.setRightMinVisibleBarCount(Math.ceil(barCount))\n  }\n\n  setBarSpace(space: number): void {\n    this._chartStore.setBarSpace(space)\n  }\n\n  getBarSpace(): BarSpace {\n    return this._chartStore.getBarSpace()\n  }\n\n  getVisibleRange(): VisibleRange {\n    return this._chartStore.getVisibleRange()\n  }\n\n  resetData(): void {\n    this._chartStore.resetData()\n  }\n\n  getDataList(): KLineData[] {\n    return this._chartStore.getDataList()\n  }\n\n  setDataLoader(dataLoader: DataLoader): void {\n    this._resetYAxisAutoCalcTickFlag()\n    this._chartStore.setDataLoader(dataLoader)\n  }\n\n  createIndicator(value: string | IndicatorCreate, isStack?: boolean, paneOptions?: PaneOptions): Nullable<string> {\n    const indicator = isString(value) ? { name: value } : value\n    if (getIndicatorClass(indicator.name) === null) {\n      logWarn('createIndicator', 'value', 'indicator not supported, you may need to use registerIndicator to add one!!!')\n      return null\n    }\n\n    const paneOpts = paneOptions ?? {}\n\n    if (!isString(paneOpts.id)) {\n      paneOpts.id = createId(PaneIdConstants.INDICATOR)\n    }\n    if (!isString(indicator.id)) {\n      indicator.id = createId(indicator.name)\n    }\n    const result = this._chartStore.addIndicator(indicator as PickRequired<IndicatorCreate, 'id' | 'name'>, paneOpts.id, isStack ?? false)\n    if (result) {\n      let shouldSort = false\n      if (!isValid(this.getDrawPaneById(paneOpts.id))) {\n        this._createPane(IndicatorPane, paneOpts.id, paneOpts)\n        paneOpts.height ??= PANE_DEFAULT_HEIGHT\n        shouldSort = true\n      }\n      this.setPaneOptions(paneOpts)\n      this.layout({\n        sort: shouldSort,\n        measureHeight: true,\n        measureWidth: true,\n        update: true,\n        buildYAxisTick: true,\n        forceBuildYAxisTick: true\n      })\n      return indicator.id\n    }\n    return null\n  }\n\n  overrideIndicator(override: IndicatorOverride): boolean {\n    return this._chartStore.overrideIndicator(override)\n  }\n\n  getIndicators(filter?: IndicatorFilter): Indicator[] {\n    return this._chartStore.getIndicatorsByFilter(filter ?? {})\n  }\n\n  removeIndicator(filter?: IndicatorFilter): boolean {\n    const removed = this._chartStore.removeIndicator(filter ?? {})\n    if (removed) {\n      let shouldMeasureHeight = false\n      const paneIds: string[] = []\n      this._drawPanes.forEach(pane => {\n        const paneId = pane.getId()\n        if (paneId !== PaneIdConstants.CANDLE && paneId !== PaneIdConstants.X_AXIS) {\n          paneIds.push(paneId)\n        }\n      })\n\n      paneIds.forEach(paneId => {\n        if (!this._chartStore.hasIndicators(paneId)) {\n          const index = this._drawPanes.findIndex(pane => pane.getId() === paneId)\n          const pane = this._drawPanes[index]\n          if (isValid(pane)) {\n            shouldMeasureHeight = true\n            this._recalculatePaneHeight(pane, 0, pane.getBounding().height)\n            this._drawPanes.splice(index, 1)\n            pane.destroy()\n          }\n        }\n      })\n      if (this._drawPanes.length === 2) {\n        this._candlePane.setVisible(true)\n        this._candlePane.setBounding({ height: this._chartBounding.height - this._xAxisPane.getBounding().height })\n      }\n      this.layout({\n        sort: shouldMeasureHeight,\n        measureHeight: shouldMeasureHeight,\n        measureWidth: true,\n        update: true,\n        buildYAxisTick: true,\n        forceBuildYAxisTick: true\n      })\n    }\n    return removed\n  }\n\n  createOverlay(value: string | OverlayCreate | Array<string | OverlayCreate>): Nullable<string> | Array<Nullable<string>> {\n    const overlays: OverlayCreate[] = []\n    const appointPaneFlags: boolean[] = []\n\n    const build: ((overlay: OverlayCreate) => void) = overlay => {\n      if (!isValid(overlay.paneId) || this.getDrawPaneById(overlay.paneId) === null) {\n        overlay.paneId = PaneIdConstants.CANDLE\n        appointPaneFlags.push(false)\n      } else {\n        appointPaneFlags.push(true)\n      }\n      overlays.push(overlay)\n    }\n\n    if (isString(value)) {\n      build({ name: value })\n    } else if (isArray<Array<string | OverlayCreate>>(value)) {\n      (value as Array<string | OverlayCreate>).forEach(v => {\n        let overlay: Nullable<OverlayCreate> = null\n        if (isString(v)) {\n          overlay = { name: v }\n        } else {\n          overlay = v\n        }\n        build(overlay)\n      })\n    } else {\n      build(value as OverlayCreate)\n    }\n    const ids = this._chartStore.addOverlays(overlays, appointPaneFlags)\n    if (isArray(value)) {\n      return ids\n    }\n    return ids[0]\n  }\n\n  getOverlays(filter?: OverlayFilter): Overlay[] {\n    return this._chartStore.getOverlaysByFilter(filter ?? {})\n  }\n\n  overrideOverlay(override: OverlayOverride): boolean {\n    return this._chartStore.overrideOverlay(override)\n  }\n\n  removeOverlay(filter?: OverlayFilter): boolean {\n    return this._chartStore.removeOverlay(filter ?? {})\n  }\n\n  setPaneOptions(options: PaneOptions): void {\n    let shouldMeasureHeight = false\n    let shouldLayout = false\n    const validId = isValid(options.id)\n    for (const currentPane of this._drawPanes) {\n      const currentPaneId = currentPane.getId()\n      if ((validId && options.id === currentPaneId) || !validId) {\n        if (currentPaneId !== PaneIdConstants.X_AXIS) {\n          if (isNumber(options.height) && options.height > 0) {\n            const minHeight = Math.max(options.minHeight ?? currentPane.getOptions().minHeight, 0)\n            const height = Math.max(minHeight, options.height)\n            shouldLayout = true\n            shouldMeasureHeight = true\n            currentPane.setOriginalBounding({ height })\n            this._recalculatePaneHeight(currentPane, height, -height)\n          }\n          if (\n            isValid(options.state) &&\n            currentPane.getOptions().state !== options.state\n          ) {\n            shouldMeasureHeight = true\n            shouldLayout = true\n            const state = options.state\n            switch (state) {\n              case 'maximize': {\n                const maximizePane = this._drawPanes.find(pane => {\n                  const paneId = pane.getId()\n                  return pane.getOptions().state === 'maximize' && paneId !== PaneIdConstants.X_AXIS\n                })\n                if (!isValid(maximizePane)) {\n                  if (currentPane.getOptions().state === 'normal') {\n                    currentPane.setOriginalBounding({ height: currentPane.getBounding().height })\n                  }\n                  currentPane.setOptions({ state })\n                  const totalHeight = this._chartBounding.height\n                  currentPane.setBounding({ height: totalHeight - this._xAxisPane.getBounding().height })\n                  this._drawPanes.forEach(pane => {\n                    if (pane.getId() !== PaneIdConstants.X_AXIS && pane.getId() !== currentPaneId) {\n                      pane.setBounding({ height: pane.getOriginalBounding().height })\n                      pane.setVisible(false)\n                      this._separatorPanes.get(pane)?.setVisible(false)\n                    }\n                  })\n                }\n                break\n              }\n              case 'minimize': {\n                const height = currentPane.getBounding().height\n                const currentState = currentPane.getOptions().state\n                let changeHeight = height - PANE_MIN_HEIGHT\n                if (currentState === 'maximize') {\n                  changeHeight = currentPane.getOriginalBounding().height - PANE_MIN_HEIGHT\n                }\n                if (\n                  this._recalculatePaneHeight(\n                    currentPane,\n                    PANE_MIN_HEIGHT,\n                    changeHeight\n                  )\n                ) {\n                  if (currentState === 'normal') {\n                    currentPane.setOriginalBounding({ height })\n                  }\n                  currentPane.setOptions({ state })\n                }\n                this._drawPanes.forEach(pane => {\n                  if (pane.getId() !== PaneIdConstants.X_AXIS) {\n                    pane.setVisible(true)\n                    this._separatorPanes.get(pane)?.setVisible(true)\n                  }\n                })\n                break\n              }\n              default: {\n                const height = currentPane.getOriginalBounding().height\n                if (\n                  this._recalculatePaneHeight(\n                    currentPane,\n                    height,\n                    currentPane.getBounding().height - height\n                  )\n                ) {\n                  currentPane.setOptions({ state })\n                }\n                this._drawPanes.forEach(pane => {\n                  if (pane.getId() !== PaneIdConstants.X_AXIS) {\n                    pane.setVisible(true)\n                    this._separatorPanes.get(pane)?.setVisible(true)\n                  }\n                })\n                break\n              }\n            }\n          }\n        }\n        if (isValid(options.axis)) {\n          shouldLayout = true\n        }\n        const ops = { ...options }\n        delete ops.state\n        currentPane.setOptions(ops)\n        if (currentPaneId === options.id) {\n          break\n        }\n      }\n    }\n    if (shouldLayout) {\n      this.layout({\n        measureHeight: shouldMeasureHeight,\n        measureWidth: true,\n        update: true,\n        buildYAxisTick: true,\n        forceBuildYAxisTick: true\n      })\n    }\n  }\n\n  getPaneOptions(id?: string): Nullable<PaneOptions> | PaneOptions[] {\n    if (isValid(id)) {\n      const pane = this.getDrawPaneById(id)\n      return pane?.getOptions() ?? null\n    }\n    return this._drawPanes.map(pane => pane.getOptions())\n  }\n\n  setZoomEnabled(enabled: boolean): void {\n    this._chartStore.setZoomEnabled(enabled)\n  }\n\n  isZoomEnabled(): boolean {\n    return this._chartStore.isZoomEnabled()\n  }\n\n  setZoomAnchor(anchor: ZoomAnchor): void {\n    this._chartStore.setZoomAnchor(anchor)\n  }\n\n  getZoomAnchor(): ZoomAnchor {\n    return this._chartStore.getZoomAnchor()\n  }\n\n  setScrollEnabled(enabled: boolean): void {\n    this._chartStore.setScrollEnabled(enabled)\n  }\n\n  isScrollEnabled(): boolean {\n    return this._chartStore.isScrollEnabled()\n  }\n\n  scrollByDistance(distance: number, animationDuration?: number): void {\n    const duration = isNumber(animationDuration) && animationDuration > 0 ? animationDuration : 0\n    this._chartStore.startScroll()\n    if (duration > 0) {\n      const animation = new Animation({ duration })\n      animation.doFrame(frameTime => {\n        const progressDistance = distance * (frameTime / duration)\n        this._chartStore.scroll(progressDistance)\n      })\n      animation.start()\n    } else {\n      this._chartStore.scroll(distance)\n    }\n  }\n\n  scrollToRealTime(animationDuration?: number): void {\n    const { bar: barSpace } = this._chartStore.getBarSpace()\n    const difBarCount = this._chartStore.getLastBarRightSideDiffBarCount() - this._chartStore.getInitialOffsetRightDistance() / barSpace\n    const distance = difBarCount * barSpace\n    this.scrollByDistance(distance, animationDuration)\n  }\n\n  scrollToDataIndex(dataIndex: number, animationDuration?: number): void {\n    const distance = (\n      this._chartStore.getLastBarRightSideDiffBarCount() + (this.getDataList().length - 1 - dataIndex)\n    ) * this._chartStore.getBarSpace().bar\n    this.scrollByDistance(distance, animationDuration)\n  }\n\n  scrollToTimestamp(timestamp: number, animationDuration?: number): void {\n    const dataIndex = binarySearchNearest(this.getDataList(), 'timestamp', timestamp)\n    this.scrollToDataIndex(dataIndex, animationDuration)\n  }\n\n  zoomAtCoordinate(scale: number, coordinate?: Coordinate, animationDuration?: number): void {\n    const duration = isNumber(animationDuration) && animationDuration > 0 ? animationDuration : 0\n    const { bar: barSpace } = this._chartStore.getBarSpace()\n    const scaleBarSpace = barSpace * scale\n    const difSpace = scaleBarSpace - barSpace\n    if (duration > 0) {\n      let prevProgressBarSpace = 0\n      const animation = new Animation({ duration })\n      animation.doFrame(frameTime => {\n        const progressBarSpace = difSpace * (frameTime / duration)\n        const scale = (progressBarSpace - prevProgressBarSpace) / this._chartStore.getBarSpace().bar * SCALE_MULTIPLIER\n        this._chartStore.zoom(scale, coordinate ?? null, 'main')\n        prevProgressBarSpace = progressBarSpace\n      })\n      animation.start()\n    } else {\n      this._chartStore.zoom(difSpace / barSpace * SCALE_MULTIPLIER, coordinate ?? null, 'main')\n    }\n  }\n\n  zoomAtDataIndex(scale: number, dataIndex: number, animationDuration?: number): void {\n    const x = this._chartStore.dataIndexToCoordinate(dataIndex)\n    this.zoomAtCoordinate(scale, { x, y: 0 }, animationDuration)\n  }\n\n  zoomAtTimestamp(scale: number, timestamp: number, animationDuration?: number): void {\n    const dataIndex = binarySearchNearest(this.getDataList(), 'timestamp', timestamp)\n    this.zoomAtDataIndex(scale, dataIndex, animationDuration)\n  }\n\n  convertToPixel(points: Partial<Point> | Array<Partial<Point>>, filter?: ConvertFilter): Partial<Coordinate> | Array<Partial<Coordinate>> {\n    const { paneId = PaneIdConstants.CANDLE, absolute = false } = filter ?? {}\n    let coordinates: Array<Partial<Coordinate>> = []\n    if (paneId !== PaneIdConstants.X_AXIS) {\n      const pane = this.getDrawPaneById(paneId)\n      if (pane !== null) {\n        const bounding = pane.getBounding()\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment -- ignore\n        // @ts-expect-error\n        const ps: Array<Partial<Point>> = [].concat(points)\n        const xAxis = this._xAxisPane.getAxisComponent()\n        const yAxis = pane.getAxisComponent()\n        coordinates = ps.map(point => {\n          const coordinate: Partial<Coordinate> = {}\n          let dataIndex = point.dataIndex\n          if (isNumber(point.timestamp)) {\n            dataIndex = this._chartStore.timestampToDataIndex(point.timestamp)\n          }\n          if (isNumber(dataIndex)) {\n            coordinate.x = xAxis.convertToPixel(dataIndex)\n          }\n          if (isNumber(point.value)) {\n            const y = yAxis.convertToPixel(point.value)\n            coordinate.y = absolute ? bounding.top + y : y\n          }\n          return coordinate\n        })\n      }\n    }\n    return isArray(points) ? coordinates : (coordinates[0] ?? {})\n  }\n\n  convertFromPixel(coordinates: Array<Partial<Coordinate>>, filter?: ConvertFilter): Partial<Point> | Array<Partial<Point>> {\n    const { paneId = PaneIdConstants.CANDLE, absolute = false } = filter ?? {}\n    let points: Array<Partial<Point>> = []\n    if (paneId !== PaneIdConstants.X_AXIS) {\n      const pane = this.getDrawPaneById(paneId)\n      if (pane !== null) {\n        const bounding = pane.getBounding()\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment -- ignore\n        // @ts-expect-error\n        const cs: Array<Partial<Coordinate>> = [].concat(coordinates)\n        const xAxis = this._xAxisPane.getAxisComponent()\n        const yAxis = pane.getAxisComponent()\n        points = cs.map(coordinate => {\n          const point: Partial<Point> = {}\n          if (isNumber(coordinate.x)) {\n            const dataIndex = xAxis.convertFromPixel(coordinate.x)\n            point.dataIndex = dataIndex\n            point.timestamp = this._chartStore.dataIndexToTimestamp(dataIndex) ?? undefined\n          }\n          if (isNumber(coordinate.y)) {\n            const y = absolute ? coordinate.y - bounding.top : coordinate.y\n            point.value = yAxis.convertFromPixel(y)\n          }\n          return point\n        })\n      }\n    }\n    return isArray(coordinates) ? points : (points[0] ?? {})\n  }\n\n  executeAction(type: ActionType, data: Nullable<Crosshair>): void {\n    switch (type) {\n      case 'onCrosshairChange': {\n        let crosshair: Nullable<Crosshair> = null\n        if (isValid(data)) {\n          crosshair = { ...data }\n          crosshair.paneId ??= PaneIdConstants.CANDLE\n        }\n        this._chartStore.setCrosshair(crosshair, { notExecuteAction: true })\n        break\n      }\n      default: { break }\n    }\n  }\n\n  subscribeAction(type: ActionType, callback: ActionCallback): void {\n    this._chartStore.subscribeAction(type, callback)\n  }\n\n  unsubscribeAction(type: ActionType, callback?: ActionCallback): void {\n    this._chartStore.unsubscribeAction(type, callback)\n  }\n\n  getConvertPictureUrl(includeOverlay?: boolean, type?: 'png' | 'jpeg' | 'bmp', backgroundColor?: string): string {\n    const { width, height } = this._chartBounding\n    const canvas = createDom('canvas', {\n      width: `${width}px`,\n      height: `${height}px`,\n      boxSizing: 'border-box'\n    })\n    const ctx = canvas.getContext('2d')!\n    const pixelRatio = getPixelRatio(canvas)\n    canvas.width = width * pixelRatio\n    canvas.height = height * pixelRatio\n    ctx.scale(pixelRatio, pixelRatio)\n\n    ctx.fillStyle = backgroundColor ?? '#FFFFFF'\n    ctx.fillRect(0, 0, width, height)\n    const overlayFlag = includeOverlay ?? false\n    this._drawPanes.forEach(pane => {\n      const separatorPane = this._separatorPanes.get(pane)\n      if (isValid(separatorPane)) {\n        const separatorBounding = separatorPane.getBounding()\n        ctx.drawImage(\n          separatorPane.getImage(overlayFlag),\n          separatorBounding.left, separatorBounding.top, separatorBounding.width, separatorBounding.height\n        )\n      }\n\n      const bounding = pane.getBounding()\n      ctx.drawImage(\n        pane.getImage(overlayFlag),\n        0, bounding.top, width, bounding.height\n      )\n    })\n    return canvas.toDataURL(`image/${type ?? 'jpeg'}`)\n  }\n\n  resize(): void {\n    this._cacheChartBounding()\n    this.layout({\n      measureHeight: true,\n      measureWidth: true,\n      update: true,\n      buildYAxisTick: true,\n      forceBuildYAxisTick: true\n\n    })\n  }\n\n  destroy(): void {\n    this._chartEvent.destroy()\n    this._drawPanes.forEach(pane => {\n      pane.destroy()\n    })\n    this._drawPanes = []\n    this._separatorPanes.clear()\n    this._chartStore.destroy()\n    this._container.removeChild(this._chartContainer)\n  }\n\n  applyNewData(data: KLineData[], more?: boolean): void {\n    this._chartStore.applyNewData(data, more)\n  }\n\n  applyMoreData(data: KLineData[], more?: boolean): void {\n    this._chartStore.applyMoreData(data, more)\n  }\n\n  updateData(data: KLineData): void {\n    this._chartStore.updateData(data)\n  }\n\n  setYScrolling(yScrolling: boolean): void {\n    this._chartStore.setYScrolling(yScrolling)\n  }\n\n  getYScrolling(): boolean {\n    return this._chartStore.getYScrolling()\n  }\n\n  loadMore(cb: (timestamp: Nullable<number>) => void): void {\n    this._chartStore.setDataLoader({\n      getBars: (params) => {\n        const timestamp = params.timestamp\n        cb(timestamp)\n      }\n    })\n  }\n\n  setPriceVolumePrecision(pricePrecision: number, volumePrecision: number): void {\n    this._chartStore.setSymbol({ pricePrecision, volumePrecision })\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type Nullable from './common/Nullable'\nimport { logError, logTag, logWarn } from './common/utils/logger'\nimport { isString, isValid } from './common/utils/typeChecks'\nimport type { Options } from './Options'\nimport ChartImp, { type Chart } from './Chart'\n\nconst charts = new Map<string, ChartImp>()\nlet chartBaseId = 1\n\n/**\n * Chart version\n * @return {string}\n */\nexport function version(): string {\n    return '__VERSION__'\n}\n\n/**\n * Init chart instance\n * @param ds\n * @param options\n * @returns {Chart}\n */\nexport function init(ds: HTMLElement | string, options?: Options): Nullable<Chart> {\n    logTag()\n    let dom: Nullable<HTMLElement> = null\n    if (isString(ds)) {\n        dom = document.getElementById(ds)\n    } else {\n        dom = ds\n    }\n    if (dom === null) {\n        logError('', '', 'The chart cannot be initialized correctly. Please check the parameters. The chart container cannot be null and child elements need to be added!!!')\n        return null\n    }\n    let chart = charts.get(dom.id)\n    if (isValid(chart)) {\n        logWarn('', '', 'The chart has been initialized on the dom！！！')\n        return chart\n    }\n    const id = `k_line_chart_${chartBaseId++}`\n    chart = new ChartImp(dom, options)\n    chart.id = id\n    dom.setAttribute('k-line-chart-id', id)\n    charts.set(id, chart)\n    return chart\n}\n\n/**\n * Destroy chart instance\n * @param dcs\n */\nexport function dispose(dcs: HTMLElement | Chart | string): void {\n    let id: Nullable<string> = null\n    if (dcs instanceof ChartImp) {\n        id = dcs.id\n    } else {\n        let dom: Nullable<HTMLElement> = null\n        if (isString(dcs)) {\n            dom = document.getElementById(dcs)\n        } else {\n            dom = dcs as HTMLElement\n        }\n        id = dom?.getAttribute('k-line-chart-id') ?? null\n    }\n    if (id !== null) {\n        charts.get(id)?.destroy()\n        charts.delete(id)\n    }\n}\n","export default class ChartMain { }\n","import { Coordinate, Bounding, LineAttrs, utils } from '../index';\nimport { Period } from '../types';\n\nexport function getRotateCoordinate(\n  coordinate: Coordinate,\n  targetCoordinate: Coordinate,\n  angle: number,\n): Coordinate {\n  const x =\n    (coordinate.x - targetCoordinate.x) * Math.cos(angle) -\n    (coordinate.y - targetCoordinate.y) * Math.sin(angle) +\n    targetCoordinate.x;\n  const y =\n    (coordinate.x - targetCoordinate.x) * Math.sin(angle) +\n    (coordinate.y - targetCoordinate.y) * Math.cos(angle) +\n    targetCoordinate.y;\n  return { x, y };\n}\n\nexport function getRayLine(\n  coordinates: Coordinate[],\n  bounding: Bounding,\n): LineAttrs | LineAttrs[] {\n  if (coordinates.length > 1) {\n    let coordinate: Coordinate;\n    if (\n      coordinates[0].x === coordinates[1].x &&\n      coordinates[0].y !== coordinates[1].y\n    ) {\n      if (coordinates[0].y < coordinates[1].y) {\n        coordinate = {\n          x: coordinates[0].x,\n          y: bounding.height,\n        };\n      } else {\n        coordinate = {\n          x: coordinates[0].x,\n          y: 0,\n        };\n      }\n    } else if (coordinates[0].x > coordinates[1].x) {\n      coordinate = {\n        x: 0,\n        y: utils.getLinearYFromCoordinates(coordinates[0], coordinates[1], {\n          x: 0,\n          y: coordinates[0].y,\n        }),\n      };\n    } else {\n      coordinate = {\n        x: bounding.width,\n        y: utils.getLinearYFromCoordinates(coordinates[0], coordinates[1], {\n          x: bounding.width,\n          y: coordinates[0].y,\n        }),\n      };\n    }\n    return { coordinates: [coordinates[0], coordinate] };\n  }\n  return [];\n}\n\nexport function getDistance(\n  coordinate1: Coordinate,\n  coordinate2: Coordinate,\n): number {\n  const xDis = Math.abs(coordinate1.x - coordinate2.x);\n  const yDis = Math.abs(coordinate1.y - coordinate2.y);\n  return Math.sqrt(xDis * xDis + yDis * yDis);\n}\n\nexport function getAngle(\n  coordinate1: Coordinate,\n  coordinate2: Coordinate,\n): number {\n  const dx = coordinate2.x - coordinate1.x;\n  const dy = coordinate2.y - coordinate1.y;\n  const radians = Math.atan2(dy, dx);\n  const degrees = radians * (180 / Math.PI);\n  return degrees;\n}\n\nexport function getMidpoint(\n  coordinate1: Coordinate,\n  coordinate2: Coordinate,\n): { x: number; y: number } {\n  const x = (coordinate1.x + coordinate2.x) / 2;\n  const y = (coordinate1.y + coordinate2.y) / 2;\n  return { x, y };\n}\n\nexport function formatThousands(value: string | number, sign: string): string {\n  const vl = `${value}`;\n  if (sign.length === 0) {\n    return vl;\n  }\n  if (vl.includes('.')) {\n    const arr = vl.split('.');\n    return `${arr[0].replace(/(\\d)(?=(\\d{3})+$)/g, ($1) => `${$1}${sign}`)}.${arr[1]}`;\n  }\n  return vl.replace(/(\\d)(?=(\\d{3})+$)/g, ($1) => `${$1}${sign}`);\n}\n\nexport function formatDate(timestamp: number): string {\n  const daysOfWeek = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n  const months = [\n    'Jan',\n    'Feb',\n    'Mar',\n    'Apr',\n    'May',\n    'Jun',\n    'Jul',\n    'Aug',\n    'Sep',\n    'Oct',\n    'Nov',\n    'Dec',\n  ];\n\n  const date = new Date(timestamp);\n\n  const dayOfWeek = daysOfWeek[date.getUTCDay()];\n  const day = date.getUTCDate();\n  const month = months[date.getUTCMonth()];\n  const year = date.getUTCFullYear();\n\n  return `${dayOfWeek} ${day} ${month}' ${year}`;\n}\n\nexport function addPeriodsToTimestamp(\n  period: Period,\n  timestamp: number,\n  multiplier: number,\n) {\n  let newTimestamp = timestamp;\n  switch (period.timespan) {\n    case 'minute': {\n      newTimestamp += multiplier * period.multiplier * 60 * 1000;\n      break;\n    }\n    case 'hour': {\n      newTimestamp += multiplier * period.multiplier * 60 * 60 * 1000;\n      break;\n    }\n    case 'day': {\n      newTimestamp += multiplier * period.multiplier * 24 * 60 * 60 * 1000;\n      break;\n    }\n    case 'week': {\n      newTimestamp += multiplier * period.multiplier * 7 * 24 * 60 * 60 * 1000;\n      break;\n    }\n    case 'month': {\n      const date = new Date(timestamp);\n      const currentMonth = date.getMonth();\n      const newMonth = currentMonth + multiplier * period.multiplier;\n      date.setMonth(newMonth);\n      newTimestamp = date.getTime();\n      break;\n    }\n    case 'year': {\n      const date = new Date(timestamp);\n      const currentYear = date.getFullYear();\n      const newYear = currentYear + multiplier * period.multiplier;\n      date.setFullYear(newYear);\n      newTimestamp = date.getTime();\n      break;\n    }\n    default:\n      throw new Error(`Unsupported timespan: ${period.timespan}`);\n  }\n  return newTimestamp;\n}\n","import { OverlayTemplate, utils } from '../index';\n\nimport { getRotateCoordinate } from './utils';\n\nconst arrow: OverlayTemplate = {\n  name: 'arrow',\n  totalStep: 3,\n  needDefaultPointFigure: true,\n  needDefaultXAxisFigure: true,\n  needDefaultYAxisFigure: true,\n  createPointFigures: ({ coordinates }) => {\n    if (coordinates.length > 1) {\n      const flag = coordinates[1].x > coordinates[0].x ? 0 : 1;\n      const kb = utils.getLinearSlopeIntercept(coordinates[0], coordinates[1]);\n      let offsetAngle;\n      if (kb) {\n        offsetAngle = Math.atan(kb[0]) + Math.PI * flag;\n      } else {\n        if (coordinates[1].y > coordinates[0].y) {\n          offsetAngle = Math.PI / 2;\n        } else {\n          offsetAngle = (Math.PI / 2) * 3;\n        }\n      }\n      const rotateCoordinate1 = getRotateCoordinate(\n        { x: coordinates[1].x - 8, y: coordinates[1].y + 4 },\n        coordinates[1],\n        offsetAngle,\n      );\n      const rotateCoordinate2 = getRotateCoordinate(\n        { x: coordinates[1].x - 8, y: coordinates[1].y - 4 },\n        coordinates[1],\n        offsetAngle,\n      );\n      return [\n        {\n          type: 'line',\n          attrs: { coordinates },\n        },\n        {\n          type: 'line',\n          ignoreEvent: true,\n          attrs: {\n            coordinates: [rotateCoordinate1, coordinates[1], rotateCoordinate2],\n          },\n        },\n      ];\n    }\n    return [];\n  },\n};\n\nexport default arrow;\n","import { OverlayTemplate } from '../index';\n\nimport { getDistance } from './utils';\n\nconst circle: OverlayTemplate = {\n  name: 'circle',\n  totalStep: 3,\n  needDefaultPointFigure: true,\n  needDefaultXAxisFigure: true,\n  needDefaultYAxisFigure: true,\n  styles: {\n    circle: {\n      color: 'rgba(22, 119, 255, 0.15)',\n    },\n  },\n  createPointFigures: ({ coordinates }) => {\n    if (coordinates.length > 1) {\n      const radius = getDistance(coordinates[0], coordinates[1]);\n      return {\n        type: 'circle',\n        attrs: {\n          ...coordinates[0],\n          r: radius,\n        },\n        styles: { style: 'stroke_fill' },\n      };\n    }\n    return [];\n  },\n};\n\nexport default circle;\n","import { OverlayTemplate } from '../index';\n\nconst rect: OverlayTemplate = {\n  name: 'rect',\n  totalStep: 3,\n  needDefaultPointFigure: true,\n  needDefaultXAxisFigure: true,\n  needDefaultYAxisFigure: true,\n  styles: {\n    polygon: {\n      color: 'rgba(22, 119, 255, 0.15)',\n    },\n  },\n  createPointFigures: ({ coordinates }) => {\n    if (coordinates.length > 1) {\n      return [\n        {\n          type: 'polygon',\n          attrs: {\n            coordinates: [\n              coordinates[0],\n              { x: coordinates[1].x, y: coordinates[0].y },\n              coordinates[1],\n              { x: coordinates[0].x, y: coordinates[1].y },\n            ],\n          },\n          styles: { style: 'stroke_fill' },\n        },\n      ];\n    }\n    return [];\n  },\n};\n\nexport default rect;\n","import { OverlayTemplate } from '../index';\n\nconst parallelogram: OverlayTemplate = {\n  name: 'parallelogram',\n  totalStep: 4,\n  needDefaultPointFigure: true,\n  needDefaultXAxisFigure: true,\n  needDefaultYAxisFigure: true,\n  styles: {\n    polygon: {\n      color: 'rgba(22, 119, 255, 0.15)',\n    },\n  },\n  createPointFigures: ({ coordinates }) => {\n    if (coordinates.length === 2) {\n      return [\n        {\n          type: 'line',\n          ignoreEvent: true,\n          attrs: { coordinates },\n        },\n      ];\n    }\n    if (coordinates.length === 3) {\n      const coordinate = {\n        x: coordinates[0].x + coordinates[2].x - coordinates[1].x,\n        y: coordinates[0].y + coordinates[2].y - coordinates[1].y,\n      };\n      return [\n        {\n          type: 'polygon',\n          attrs: {\n            coordinates: [\n              coordinates[0],\n              coordinates[1],\n              coordinates[2],\n              coordinate,\n            ],\n          },\n          styles: { style: 'stroke_fill' },\n        },\n      ];\n    }\n    return [];\n  },\n  performEventPressedMove: ({ points, performPointIndex, performPoint }) => {\n    if (performPointIndex < 2) {\n      // @ts-expect-error\n      points[0].price = performPoint.price;\n      // @ts-expect-error\n      points[1].price = performPoint.price;\n    }\n  },\n  performEventMoveForDrawing: ({ currentStep, points, performPoint }) => {\n    if (currentStep === 2) {\n      // @ts-expect-error\n      points[0].price = performPoint.price;\n    }\n  },\n};\n\nexport default parallelogram;\n","import { OverlayTemplate } from '../index';\n\nconst triangle: OverlayTemplate = {\n  name: 'triangle',\n  totalStep: 4,\n  needDefaultPointFigure: true,\n  needDefaultXAxisFigure: true,\n  needDefaultYAxisFigure: true,\n  styles: {\n    polygon: {\n      color: 'rgba(22, 119, 255, 0.15)',\n    },\n  },\n  createPointFigures: ({ coordinates }) => {\n    return [\n      {\n        type: 'polygon',\n        attrs: { coordinates },\n        styles: { style: 'stroke_fill' },\n      },\n    ];\n  },\n};\n\nexport default triangle;\n","import { OverlayTemplate, CircleAttrs, TextAttrs } from '../index';\n\nconst fibonacciCircle: OverlayTemplate = {\n  name: 'fibonacciCircle',\n  totalStep: 3,\n  needDefaultPointFigure: true,\n  needDefaultXAxisFigure: true,\n  needDefaultYAxisFigure: true,\n  createPointFigures: ({ coordinates }) => {\n    if (coordinates.length > 1) {\n      const xDis = Math.abs(coordinates[0].x - coordinates[1].x);\n      const yDis = Math.abs(coordinates[0].y - coordinates[1].y);\n      const radius = Math.sqrt(xDis * xDis + yDis * yDis);\n      const percents = [0.236, 0.382, 0.5, 0.618, 0.786, 1];\n      const circles: CircleAttrs[] = [];\n      const texts: TextAttrs[] = [];\n      percents.forEach((percent) => {\n        const r = radius * percent;\n        circles.push({ ...coordinates[0], r });\n        texts.push({\n          x: coordinates[0].x,\n          y: coordinates[0].y + r + 6,\n          text: `${(percent * 100).toFixed(1)}%`,\n        });\n      });\n      return [\n        {\n          type: 'circle',\n          attrs: circles,\n          styles: { style: 'stroke' },\n        },\n        {\n          type: 'text',\n          ignoreEvent: true,\n          attrs: texts,\n        },\n      ];\n    }\n    return [];\n  },\n};\n\nexport default fibonacciCircle;\n","import { OverlayTemplate, LineAttrs, TextAttrs } from '../index';\n\nconst fibonacciSegment: OverlayTemplate = {\n  name: 'fibonacciSegment',\n  totalStep: 3,\n  needDefaultPointFigure: true,\n  needDefaultXAxisFigure: true,\n  needDefaultYAxisFigure: true,\n  // @ts-ignore\n  createPointFigures: ({ coordinates, overlay, precision }) => {\n    const lines: LineAttrs[] = [];\n    const texts: TextAttrs[] = [];\n    if (coordinates.length > 1) {\n      const textX =\n        coordinates[1].x > coordinates[0].x\n          ? coordinates[0].x\n          : coordinates[1].x;\n      const percents = [1, 0.786, 0.618, 0.5, 0.382, 0.236, 0];\n      const yDif = coordinates[0].y - coordinates[1].y;\n      const points = overlay.points;\n      // @ts-expect-error\n      const valueDif = points[0].value - points[1].value;\n      percents.forEach((percent) => {\n        const y = coordinates[1].y + yDif * percent;\n        // @ts-expect-error\n        const price = (points[1].value + valueDif * percent).toFixed(\n          precision.price,\n        );\n        lines.push({\n          coordinates: [\n            { x: coordinates[0].x, y },\n            { x: coordinates[1].x, y },\n          ],\n        });\n        texts.push({\n          x: textX,\n          y,\n          text: `${price} (${(percent * 100).toFixed(1)}%)`,\n          baseline: 'bottom',\n        });\n      });\n    }\n    return [\n      {\n        type: 'line',\n        attrs: lines,\n      },\n      {\n        type: 'text',\n        ignoreEvent: true,\n        attrs: texts,\n      },\n    ];\n  },\n};\n\nexport default fibonacciSegment;\n","import { OverlayTemplate, utils } from '../index';\n\nimport { getDistance, getRotateCoordinate, getRayLine } from './utils';\n\nconst fibonacciSpiral: OverlayTemplate = {\n  name: 'fibonacciSpiral',\n  totalStep: 3,\n  needDefaultPointFigure: true,\n  needDefaultXAxisFigure: true,\n  needDefaultYAxisFigure: true,\n  createPointFigures: ({ coordinates, bounding }) => {\n    if (coordinates.length > 1) {\n      const startRadius =\n        getDistance(coordinates[0], coordinates[1]) / Math.sqrt(24);\n      const flag = coordinates[1].x > coordinates[0].x ? 0 : 1;\n      const kb = utils.getLinearSlopeIntercept(coordinates[0], coordinates[1]);\n      let offsetAngle;\n      if (kb) {\n        offsetAngle = Math.atan(kb[0]) + Math.PI * flag;\n      } else {\n        if (coordinates[1].y > coordinates[0].y) {\n          offsetAngle = Math.PI / 2;\n        } else {\n          offsetAngle = (Math.PI / 2) * 3;\n        }\n      }\n      const rotateCoordinate1 = getRotateCoordinate(\n        { x: coordinates[0].x - startRadius, y: coordinates[0].y },\n        coordinates[0],\n        offsetAngle,\n      );\n      const rotateCoordinate2 = getRotateCoordinate(\n        {\n          x: coordinates[0].x - startRadius,\n          y: coordinates[0].y - startRadius,\n        },\n        coordinates[0],\n        offsetAngle,\n      );\n      const arcs = [\n        {\n          ...rotateCoordinate1,\n          r: startRadius,\n          startAngle: offsetAngle,\n          endAngle: offsetAngle + Math.PI / 2,\n        },\n        {\n          ...rotateCoordinate2,\n          r: startRadius * 2,\n          startAngle: offsetAngle + Math.PI / 2,\n          endAngle: offsetAngle + Math.PI,\n        },\n      ];\n      let x = coordinates[0].x - startRadius;\n      let y = coordinates[0].y - startRadius;\n      for (let i = 2; i < 9; i++) {\n        const r = arcs[i - 2].r + arcs[i - 1].r;\n        let startAngle = 0;\n        switch (i % 4) {\n          case 0: {\n            startAngle = offsetAngle;\n            x -= arcs[i - 2].r;\n            break;\n          }\n          case 1: {\n            startAngle = offsetAngle + Math.PI / 2;\n            y -= arcs[i - 2].r;\n            break;\n          }\n          case 2: {\n            startAngle = offsetAngle + Math.PI;\n            x += arcs[i - 2].r;\n            break;\n          }\n          case 3: {\n            startAngle = offsetAngle + (Math.PI / 2) * 3;\n            y += arcs[i - 2].r;\n            break;\n          }\n        }\n        const endAngle = startAngle + Math.PI / 2;\n        const rotateCoordinate = getRotateCoordinate(\n          { x, y },\n          coordinates[0],\n          offsetAngle,\n        );\n        arcs.push({\n          ...rotateCoordinate,\n          r,\n          startAngle,\n          endAngle,\n        });\n      }\n      return [\n        {\n          type: 'arc',\n          attrs: arcs,\n        },\n        {\n          type: 'line',\n          attrs: getRayLine(coordinates, bounding),\n        },\n      ];\n    }\n    return [];\n  },\n};\n\nexport default fibonacciSpiral;\n","import { OverlayTemplate, LineAttrs, TextAttrs } from '../index';\n\nimport { getRayLine } from './utils';\n\nconst fibonacciSpeedResistanceFan: OverlayTemplate = {\n  name: 'fibonacciSpeedResistanceFan',\n  totalStep: 3,\n  needDefaultPointFigure: true,\n  needDefaultXAxisFigure: true,\n  needDefaultYAxisFigure: true,\n  createPointFigures: ({ coordinates, bounding }) => {\n    const lines1: LineAttrs[] = [];\n    let lines2: LineAttrs[] = [];\n    const texts: TextAttrs[] = [];\n    if (coordinates.length > 1) {\n      const xOffset = coordinates[1].x > coordinates[0].x ? -38 : 4;\n      const yOffset = coordinates[1].y > coordinates[0].y ? -2 : 20;\n      const xDistance = coordinates[1].x - coordinates[0].x;\n      const yDistance = coordinates[1].y - coordinates[0].y;\n      const percents = [1, 0.75, 0.618, 0.5, 0.382, 0.25, 0];\n      percents.forEach((percent) => {\n        const x = coordinates[1].x - xDistance * percent;\n        const y = coordinates[1].y - yDistance * percent;\n        lines1.push({\n          coordinates: [\n            { x, y: coordinates[0].y },\n            { x, y: coordinates[1].y },\n          ],\n        });\n        lines1.push({\n          coordinates: [\n            { x: coordinates[0].x, y },\n            { x: coordinates[1].x, y },\n          ],\n        });\n        lines2 = lines2.concat(\n          getRayLine([coordinates[0], { x, y: coordinates[1].y }], bounding),\n        );\n        lines2 = lines2.concat(\n          getRayLine([coordinates[0], { x: coordinates[1].x, y }], bounding),\n        );\n        texts.unshift({\n          x: coordinates[0].x + xOffset,\n          y: y + 10,\n          text: `${percent.toFixed(3)}`,\n        });\n        texts.unshift({\n          x: x - 18,\n          y: coordinates[0].y + yOffset,\n          text: `${percent.toFixed(3)}`,\n        });\n      });\n    }\n    return [\n      {\n        type: 'line',\n        attrs: lines1,\n      },\n      {\n        type: 'line',\n        attrs: lines2,\n      },\n      {\n        type: 'text',\n        ignoreEvent: true,\n        attrs: texts,\n      },\n    ];\n  },\n};\n\nexport default fibonacciSpeedResistanceFan;\n","import { OverlayTemplate, LineAttrs, TextAttrs } from '../index';\n\nconst fibonacciExtension: OverlayTemplate = {\n  name: 'fibonacciExtension',\n  totalStep: 4,\n  needDefaultPointFigure: true,\n  needDefaultXAxisFigure: true,\n  needDefaultYAxisFigure: true,\n  // @ts-ignore\n  createPointFigures: ({ coordinates, overlay, precision }) => {\n    const fbLines: LineAttrs[] = [];\n    const texts: TextAttrs[] = [];\n    if (coordinates.length > 2) {\n      const points = overlay.points;\n      // @ts-expect-error\n      const valueDif = points[1].value - points[0].value;\n      const yDif = coordinates[1].y - coordinates[0].y;\n      const percents = [0, 0.236, 0.382, 0.5, 0.618, 0.786, 1];\n      const textX =\n        coordinates[2].x > coordinates[1].x\n          ? coordinates[1].x\n          : coordinates[2].x;\n      percents.forEach((percent) => {\n        const y = coordinates[2].y + yDif * percent;\n        // @ts-expect-error\n        const price = (points[2].value + valueDif * percent).toFixed(\n          precision.price,\n        );\n        fbLines.push({\n          coordinates: [\n            { x: coordinates[1].x, y },\n            { x: coordinates[2].x, y },\n          ],\n        });\n        texts.push({\n          x: textX,\n          y,\n          text: `${price} (${(percent * 100).toFixed(1)}%)`,\n          baseline: 'bottom',\n        });\n      });\n    }\n    return [\n      {\n        type: 'line',\n        attrs: { coordinates },\n        styles: { style: 'dashed' },\n      },\n      {\n        type: 'line',\n        attrs: fbLines,\n      },\n      {\n        type: 'text',\n        ignoreEvent: true,\n        attrs: texts,\n      },\n    ];\n  },\n};\n\nexport default fibonacciExtension;\n","import { OverlayTemplate } from '../index';\n\nconst gannBox: OverlayTemplate = {\n  name: 'gannBox',\n  totalStep: 3,\n  needDefaultPointFigure: true,\n  needDefaultXAxisFigure: true,\n  needDefaultYAxisFigure: true,\n  styles: {\n    polygon: {\n      color: 'rgba(22, 119, 255, 0.15)',\n    },\n  },\n  createPointFigures: ({ coordinates }) => {\n    if (coordinates.length > 1) {\n      const quarterYDis = (coordinates[1].y - coordinates[0].y) / 4;\n      const xDis = coordinates[1].x - coordinates[0].x;\n      const dashedLines = [\n        {\n          coordinates: [\n            coordinates[0],\n            { x: coordinates[1].x, y: coordinates[1].y - quarterYDis },\n          ],\n        },\n        {\n          coordinates: [\n            coordinates[0],\n            { x: coordinates[1].x, y: coordinates[1].y - quarterYDis * 2 },\n          ],\n        },\n        {\n          coordinates: [\n            { x: coordinates[0].x, y: coordinates[1].y },\n            { x: coordinates[1].x, y: coordinates[0].y + quarterYDis },\n          ],\n        },\n        {\n          coordinates: [\n            { x: coordinates[0].x, y: coordinates[1].y },\n            { x: coordinates[1].x, y: coordinates[0].y + quarterYDis * 2 },\n          ],\n        },\n\n        {\n          coordinates: [\n            { ...coordinates[0] },\n            { x: coordinates[0].x + xDis * 0.236, y: coordinates[1].y },\n          ],\n        },\n        {\n          coordinates: [\n            { ...coordinates[0] },\n            { x: coordinates[0].x + xDis * 0.5, y: coordinates[1].y },\n          ],\n        },\n\n        {\n          coordinates: [\n            { x: coordinates[0].x, y: coordinates[1].y },\n            { x: coordinates[0].x + xDis * 0.236, y: coordinates[0].y },\n          ],\n        },\n        {\n          coordinates: [\n            { x: coordinates[0].x, y: coordinates[1].y },\n            { x: coordinates[0].x + xDis * 0.5, y: coordinates[0].y },\n          ],\n        },\n      ];\n      const solidLines = [\n        { coordinates: [coordinates[0], coordinates[1]] },\n        {\n          coordinates: [\n            { x: coordinates[0].x, y: coordinates[1].y },\n            { x: coordinates[1].x, y: coordinates[0].y },\n          ],\n        },\n      ];\n      return [\n        {\n          type: 'line',\n          attrs: [\n            {\n              coordinates: [\n                coordinates[0],\n                { x: coordinates[1].x, y: coordinates[0].y },\n              ],\n            },\n            {\n              coordinates: [\n                { x: coordinates[1].x, y: coordinates[0].y },\n                coordinates[1],\n              ],\n            },\n            {\n              coordinates: [\n                coordinates[1],\n                { x: coordinates[0].x, y: coordinates[1].y },\n              ],\n            },\n            {\n              coordinates: [\n                { x: coordinates[0].x, y: coordinates[1].y },\n                coordinates[0],\n              ],\n            },\n          ],\n        },\n        {\n          type: 'polygon',\n          ignoreEvent: true,\n          attrs: {\n            coordinates: [\n              coordinates[0],\n              { x: coordinates[1].x, y: coordinates[0].y },\n              coordinates[1],\n              { x: coordinates[0].x, y: coordinates[1].y },\n            ],\n          },\n          styles: { style: 'fill' },\n        },\n        {\n          type: 'line',\n          attrs: dashedLines,\n          styles: { style: 'dashed' },\n        },\n        {\n          type: 'line',\n          attrs: solidLines,\n        },\n      ];\n    }\n    return [];\n  },\n};\n\nexport default gannBox;\n","import { OverlayTemplate } from '../index';\n\nconst threeWaves: OverlayTemplate = {\n  name: 'threeWaves',\n  totalStep: 5,\n  needDefaultPointFigure: true,\n  needDefaultXAxisFigure: true,\n  needDefaultYAxisFigure: true,\n  createPointFigures: ({ coordinates }) => {\n    const texts = coordinates.map((coordinate, i) => ({\n      ...coordinate,\n      text: `(${i})`,\n      baseline: 'bottom',\n    }));\n    return [\n      {\n        type: 'line',\n        attrs: { coordinates },\n      },\n      {\n        type: 'text',\n        ignoreEvent: true,\n        attrs: texts,\n      },\n    ];\n  },\n};\n\nexport default threeWaves;\n","import { OverlayTemplate } from '../index';\n\nconst fiveWaves: OverlayTemplate = {\n  name: 'fiveWaves',\n  totalStep: 7,\n  needDefaultPointFigure: true,\n  needDefaultXAxisFigure: true,\n  needDefaultYAxisFigure: true,\n  createPointFigures: ({ coordinates }) => {\n    const texts = coordinates.map((coordinate, i) => ({\n      ...coordinate,\n      text: `(${i})`,\n      baseline: 'bottom',\n    }));\n    return [\n      {\n        type: 'line',\n        attrs: { coordinates },\n      },\n      {\n        type: 'text',\n        ignoreEvent: true,\n        attrs: texts,\n      },\n    ];\n  },\n};\n\nexport default fiveWaves;\n","import { OverlayTemplate } from '../index';\n\nconst eightWaves: OverlayTemplate = {\n  name: 'eightWaves',\n  totalStep: 10,\n  needDefaultPointFigure: true,\n  needDefaultXAxisFigure: true,\n  needDefaultYAxisFigure: true,\n  createPointFigures: ({ coordinates }) => {\n    const texts = coordinates.map((coordinate, i) => ({\n      ...coordinate,\n      text: `(${i})`,\n      baseline: 'bottom',\n    }));\n    return [\n      {\n        type: 'line',\n        attrs: { coordinates },\n      },\n      {\n        type: 'text',\n        ignoreEvent: true,\n        attrs: texts,\n      },\n    ];\n  },\n};\n\nexport default eightWaves;\n","import { OverlayTemplate } from '../index';\n\nconst anyWaves: OverlayTemplate = {\n  name: 'anyWaves',\n  totalStep: Number.MAX_SAFE_INTEGER,\n  needDefaultPointFigure: true,\n  needDefaultXAxisFigure: true,\n  needDefaultYAxisFigure: true,\n  createPointFigures: ({ coordinates }) => {\n    const texts = coordinates.map((coordinate, i) => ({\n      ...coordinate,\n      text: `(${i})`,\n      baseline: 'bottom',\n    }));\n    return [\n      {\n        type: 'line',\n        attrs: { coordinates },\n      },\n      {\n        type: 'text',\n        ignoreEvent: true,\n        attrs: texts,\n      },\n    ];\n  },\n};\n\nexport default anyWaves;\n","import { OverlayTemplate, Coordinate } from '../index';\n\nconst abcd: OverlayTemplate = {\n  name: 'abcd',\n  totalStep: 5,\n  needDefaultPointFigure: true,\n  needDefaultXAxisFigure: true,\n  needDefaultYAxisFigure: true,\n  createPointFigures: ({ coordinates }) => {\n    let acLineCoordinates: Coordinate[] = [];\n    let bdLineCoordinates: Coordinate[] = [];\n\n    const tags = ['A', 'B', 'C', 'D'];\n    const texts = coordinates.map((coordinate, i) => ({\n      ...coordinate,\n      baseline: 'bottom',\n      text: `(${tags[i]})`,\n    }));\n    if (coordinates.length > 2) {\n      acLineCoordinates = [coordinates[0], coordinates[2]];\n      if (coordinates.length > 3) {\n        bdLineCoordinates = [coordinates[1], coordinates[3]];\n      }\n    }\n    return [\n      {\n        type: 'line',\n        attrs: { coordinates },\n      },\n      {\n        type: 'line',\n        attrs: [\n          { coordinates: acLineCoordinates },\n          { coordinates: bdLineCoordinates },\n        ],\n        styles: { style: 'dashed' },\n      },\n      {\n        type: 'text',\n        ignoreEvent: true,\n        attrs: texts,\n      },\n    ];\n  },\n};\n\nexport default abcd;\n","import { OverlayTemplate, PolygonAttrs, LineAttrs } from '../index';\n\nconst xabcd: OverlayTemplate = {\n  name: 'xabcd',\n  totalStep: 6,\n  needDefaultPointFigure: true,\n  needDefaultXAxisFigure: true,\n  needDefaultYAxisFigure: true,\n  styles: {\n    polygon: {\n      color: 'rgba(22, 119, 255, 0.15)',\n    },\n  },\n  createPointFigures: ({ coordinates, overlay: _overlay }) => {\n    const dashedLines: LineAttrs[] = [];\n    const polygons: PolygonAttrs[] = [];\n    const tags = ['X', 'A', 'B', 'C', 'D'];\n    const texts = coordinates.map((coordinate, i) => ({\n      ...coordinate,\n      baseline: 'bottom',\n      text: `(${tags[i]})`,\n    }));\n    if (coordinates.length > 2) {\n      dashedLines.push({ coordinates: [coordinates[0], coordinates[2]] });\n      polygons.push({\n        coordinates: [coordinates[0], coordinates[1], coordinates[2]],\n      });\n      if (coordinates.length > 3) {\n        dashedLines.push({ coordinates: [coordinates[1], coordinates[3]] });\n        if (coordinates.length > 4) {\n          dashedLines.push({ coordinates: [coordinates[2], coordinates[4]] });\n          polygons.push({\n            coordinates: [coordinates[2], coordinates[3], coordinates[4]],\n          });\n        }\n      }\n    }\n    return [\n      {\n        type: 'line',\n        attrs: { coordinates },\n      },\n      {\n        type: 'line',\n        attrs: dashedLines,\n        styles: { style: 'dashed' },\n      },\n      {\n        type: 'polygon',\n        ignoreEvent: true,\n        attrs: polygons,\n      },\n      {\n        type: 'text',\n        ignoreEvent: true,\n        attrs: texts,\n      },\n    ];\n  },\n};\n\nexport default xabcd;\n","import { OverlayTemplate, Coordinate } from '../index';\n\nconst elliotTripleComboWaves: OverlayTemplate = {\n  name: 'elliotTripleComboWaves',\n  totalStep: 6,\n  needDefaultPointFigure: true,\n  needDefaultXAxisFigure: true,\n  needDefaultYAxisFigure: true,\n  createPointFigures: ({ coordinates }) => {\n    let acLineCoordinates: Coordinate[] = [];\n    let bdLineCoordinates: Coordinate[] = [];\n\n    const tags = ['(0)', '(W)', '(X)', '(Y)', '(Z)'];\n    const texts = coordinates.map((coordinate, i) => ({\n      ...coordinate,\n      baseline: 'bottom',\n      text: `(${tags[i]})`,\n    }));\n    return [\n      {\n        type: 'line',\n        attrs: { coordinates },\n      },\n      {\n        type: 'line',\n        attrs: [\n          { coordinates: acLineCoordinates },\n          { coordinates: bdLineCoordinates },\n        ],\n        styles: { style: 'dashed' },\n      },\n      {\n        type: 'text',\n        ignoreEvent: true,\n        attrs: texts,\n      },\n    ];\n  },\n};\n\nexport default elliotTripleComboWaves;\n","import { OverlayTemplate, PolygonAttrs, LineAttrs } from '../index';\n\nconst headAndShoulders: OverlayTemplate = {\n  name: 'headAndShoulders',\n  totalStep: 8,\n  needDefaultPointFigure: true,\n  needDefaultXAxisFigure: true,\n  needDefaultYAxisFigure: true,\n  styles: {\n    polygon: {\n      color: 'rgba(22, 119, 255, 0.15)',\n    },\n  },\n  createPointFigures: ({ coordinates }) => {\n    const dashedLines: LineAttrs[] = [];\n    const polygons: PolygonAttrs[] = [];\n    const tags = [\n      '1',\n      'Left Shoulder',\n      '2',\n      'Head',\n      '3',\n      'Right Shoulder',\n      '4',\n    ];\n    const texts = coordinates.map((coordinate, i) => ({\n      ...coordinate,\n      baseline: 'bottom',\n      text: `${tags[i]}`,\n    }));\n    if (coordinates.length > 2) {\n      dashedLines.push({ coordinates: [coordinates[0], coordinates[2]] });\n      polygons.push({\n        coordinates: [coordinates[0], coordinates[1], coordinates[2]],\n      });\n      if (coordinates.length > 4) {\n        dashedLines.push({ coordinates: [coordinates[2], coordinates[4]] });\n        polygons.push({\n          coordinates: [coordinates[2], coordinates[3], coordinates[4]],\n        });\n        if (coordinates.length > 6) {\n          dashedLines.push({ coordinates: [coordinates[4], coordinates[6]] });\n          polygons.push({\n            coordinates: [coordinates[4], coordinates[5], coordinates[6]],\n          });\n        }\n      }\n    }\n    return [\n      {\n        type: 'line',\n        attrs: { coordinates },\n      },\n      {\n        type: 'line',\n        attrs: dashedLines,\n        styles: { style: 'dashed' },\n      },\n      {\n        type: 'polygon',\n        ignoreEvent: true,\n        attrs: polygons,\n      },\n      {\n        type: 'text',\n        ignoreEvent: true,\n        attrs: texts,\n      },\n    ];\n  },\n};\n\nexport default headAndShoulders;\n","import { utils, type OverlayTemplate, type OverlayFigure } from '../index';\n\nconst measure: OverlayTemplate = {\n  name: 'measure',\n  totalStep: 3,\n  needDefaultPointFigure: true,\n  needDefaultXAxisFigure: true,\n  needDefaultYAxisFigure: true,\n  styles: {\n    backgroundColor: 'rgba(22, 119, 255, 0.25)',\n    tipBackgroundColor: '#1677FF',\n    lineColor: '#1677FF',\n  },\n  createPointFigures: ({ coordinates, overlay, bounding }) => {\n    if (coordinates.length > 1) {\n      const newPrice = overlay.points[1]?.value;\n      const oldPrice = overlay.points[0]?.value;\n      let percentage = 0;\n      let differencePrice = 0;\n      if (oldPrice !== undefined && newPrice !== undefined) {\n        percentage = ((newPrice - oldPrice) / oldPrice) * 100;\n        differencePrice = newPrice - oldPrice;\n      }\n      const leftToRight = coordinates[0]?.x < coordinates[1]?.x;\n      const topToBottom = coordinates[0]?.y < coordinates[1]?.y;\n      const centerCoordinate = {\n        x: Math.round((coordinates[0].x + coordinates[1].x) / 2),\n        y: Math.round((coordinates[0].y + coordinates[1].y) / 2),\n      };\n      const backgroundColor = overlay.styles?.backgroundColor;\n      const tipBackgroundColor = overlay.styles?.tipBackgroundColor;\n      const lineColor = overlay.styles?.lineColor;\n      const texts = [\n        `${differencePrice.toFixed(2)} (${percentage.toFixed(2)}%)`,\n      ];\n      const figures: OverlayFigure[] = [\n        {\n          type: 'polygon',\n          attrs: {\n            coordinates: [\n              coordinates[0],\n              { x: coordinates[1].x, y: coordinates[0].y },\n              coordinates[1],\n              { x: coordinates[0].x, y: coordinates[1].y },\n            ],\n          },\n          styles: {\n            color: backgroundColor,\n          },\n        },\n        {\n          type: 'line',\n          attrs: {\n            coordinates: [\n              { x: coordinates[0].x, y: centerCoordinate.y },\n              { x: coordinates[1].x, y: centerCoordinate.y },\n            ],\n          },\n          styles: {\n            color: lineColor,\n          },\n        },\n        {\n          type: 'line',\n          attrs: {\n            coordinates: [\n              { x: centerCoordinate.x, y: coordinates[0].y },\n              { x: centerCoordinate.x, y: coordinates[1].y },\n            ],\n          },\n          styles: {\n            color: lineColor,\n          },\n        },\n      ];\n\n      if (leftToRight) {\n        figures.push({\n          type: 'line',\n          attrs: {\n            coordinates: [\n              { x: coordinates[1].x - 6, y: centerCoordinate.y - 4 },\n              { x: coordinates[1].x, y: centerCoordinate.y },\n              { x: coordinates[1].x - 6, y: centerCoordinate.y + 4 },\n            ],\n          },\n        });\n      } else {\n        figures.push({\n          type: 'line',\n          attrs: {\n            coordinates: [\n              { x: coordinates[1].x + 6, y: centerCoordinate.y - 4 },\n              { x: coordinates[1].x, y: centerCoordinate.y },\n              { x: coordinates[1].x + 6, y: centerCoordinate.y + 4 },\n            ],\n          },\n        });\n      }\n\n      if (topToBottom) {\n        figures.push({\n          type: 'line',\n          attrs: {\n            coordinates: [\n              { x: centerCoordinate.x - 4, y: coordinates[1].y - 6 },\n              { x: centerCoordinate.x, y: coordinates[1].y },\n              { x: centerCoordinate.x + 4, y: coordinates[1].y - 6 },\n            ],\n          },\n          styles: {\n            color: lineColor,\n          },\n        });\n      } else {\n        figures.push({\n          type: 'line',\n          attrs: {\n            coordinates: [\n              { x: centerCoordinate.x - 4, y: coordinates[1].y + 6 },\n              { x: centerCoordinate.x, y: coordinates[1].y },\n              { x: centerCoordinate.x + 4, y: coordinates[1].y + 6 },\n            ],\n          },\n          styles: {\n            color: lineColor,\n          },\n        });\n      }\n      const length = texts.length;\n      if (length > 0) {\n        const tipGap = 8;\n        const textGap = 4;\n        const horizontalPadding = 12;\n        const verticalPadding = 8;\n        let y;\n        let width = 0;\n        const height =\n          length * 12 + (length - 1) * textGap + verticalPadding * 2;\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        texts.forEach((text) => {\n          width = Math.max(utils.calcTextWidth(text as string), width);\n        });\n        width += horizontalPadding * 2;\n        if (topToBottom) {\n          if (coordinates[1].y + tipGap + height > bounding.height) {\n            y = bounding.height - height;\n          } else {\n            y = coordinates[1].y + tipGap;\n          }\n        } else {\n          if (coordinates[1].y - tipGap - height < 0) {\n            y = 0;\n          } else {\n            y = coordinates[1].y - tipGap - height;\n          }\n        }\n\n        figures.push({\n          type: 'rect',\n          attrs: {\n            x: centerCoordinate.x - width / 2,\n            y,\n            width,\n            height,\n          },\n          styles: {\n            borderRadius: 4,\n            color: tipBackgroundColor,\n          },\n        });\n\n        let textY = y + verticalPadding;\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        texts.forEach((text) => {\n          figures.push({\n            type: 'text',\n            attrs: {\n              x: centerCoordinate.x,\n              y: textY,\n              text,\n              align: 'center',\n            },\n            styles: {\n              paddingLeft: 0,\n              paddingTop: 0,\n              paddingRight: 0,\n              paddingBottom: 0,\n              backgroundColor: 'none',\n              family: 'Space Grotesk, sans-serif',\n            },\n          });\n          textY += 12 + textGap;\n        });\n      }\n      return figures;\n    }\n    return [];\n  },\n};\n\nexport default measure;\n","import { OverlayTemplate } from '../index';\n\nconst crossLine: OverlayTemplate = {\n  name: 'crossLine',\n  totalStep: 2,\n  needDefaultPointFigure: true,\n  needDefaultXAxisFigure: true,\n  needDefaultYAxisFigure: true,\n  createPointFigures: ({ coordinates, bounding }) => {\n    return [\n      {\n        type: 'line',\n        attrs: {\n          coordinates: [\n            {\n              x: 0,\n              y: coordinates[0].y,\n            },\n            {\n              x: bounding.width,\n              y: coordinates[0].y,\n            },\n          ],\n        },\n      },\n      {\n        type: 'line',\n        attrs: {\n          coordinates: [\n            {\n              x: coordinates[0].x,\n              y: 0,\n            },\n            {\n              x: coordinates[0].x,\n              y: bounding.height,\n            },\n          ],\n        },\n      },\n    ];\n  },\n};\n\nexport default crossLine;\n","import { PolygonAttrs, LineAttrs, OverlayTemplate } from '../index';\n\nconst faltTopBottom: OverlayTemplate = {\n  name: 'faltTopBottom',\n  totalStep: 4,\n  needDefaultPointFigure: true,\n  needDefaultXAxisFigure: true,\n  needDefaultYAxisFigure: false,\n  styles: {\n    polygon: {\n      color: '#FCB9002b',\n    },\n    line: {\n      size: 2,\n      color: '#FCB900',\n    },\n  },\n  createPointFigures: ({ coordinates, overlay: _overlay }) => {\n    let mainLine: LineAttrs[] = [];\n    const dashedLines: LineAttrs[] = [];\n    const polygons: PolygonAttrs[] = [];\n\n    if (coordinates.length > 2) {\n      mainLine = [\n        {\n          coordinates: [\n            { x: coordinates[0].x, y: coordinates[2].y },\n            { x: coordinates[1].x, y: coordinates[2].y },\n          ],\n        },\n      ];\n      polygons.push({\n        coordinates: [\n          coordinates[0],\n          coordinates[1],\n          { x: coordinates[1].x, y: coordinates[2].y },\n          { x: coordinates[0].x, y: coordinates[2].y },\n        ],\n      });\n      dashedLines.push({ coordinates: [coordinates[0], coordinates[1]] });\n    } else {\n      mainLine = [{ coordinates: coordinates }];\n    }\n    return [\n      {\n        type: 'line',\n        attrs: mainLine,\n        size: 2,\n      },\n      {\n        type: 'polygon',\n        ignoreEvent: true,\n        attrs: polygons,\n      },\n      {\n        type: 'line',\n        attrs: dashedLines,\n        size: 2,\n      },\n    ];\n  },\n  performEventMoveForDrawing: ({ currentStep, points, performPoint }) => {\n    switch (currentStep) {\n      case 3:\n        points[1].timestamp = performPoint.timestamp;\n        points[1].dataIndex = performPoint.dataIndex;\n        break;\n    }\n  },\n  performEventPressedMove: ({ points, performPointIndex, performPoint }) => {\n    switch (performPointIndex) {\n      case 1:\n        points[2].timestamp = performPoint.timestamp;\n        points[2].dataIndex = performPoint.dataIndex;\n        break;\n      case 2:\n        points[1].timestamp = performPoint.timestamp;\n        points[1].dataIndex = performPoint.dataIndex;\n        break;\n      case 3:\n        points[1].timestamp = performPoint.timestamp;\n        break;\n    }\n  },\n};\n\nexport default faltTopBottom;\n","import {\n  OverlayTemplate,\n  LineAttrs,\n} from '../index';\n\nconst disJointChannel: OverlayTemplate = {\n  name: 'disJointChannel',\n  totalStep: 4,\n  needDefaultPointFigure: true,\n  needDefaultXAxisFigure: true,\n  needDefaultYAxisFigure: true,\n  styles: {\n    polygon: {\n      color: '#FCB9002b',\n    },\n    line: {\n      size: 2,\n      color: '#FCB900',\n    },\n  },\n  createPointFigures: ({ coordinates, bounding: _bounding }) => {\n    let mainLine: LineAttrs[] = [];\n    const dashedLines: LineAttrs[] = [];\n    // const polygons: PolygonAttrs[] = [];\n    let height = 0;\n    if (coordinates.length >= 2) {\n      height = Math.abs(coordinates[1].y - coordinates[0].y);\n    }\n    if (coordinates.length > 2) {\n      mainLine = [\n        {\n          coordinates: [\n            { x: coordinates[0].x, y: coordinates[0].y },\n            { x: coordinates[1].x, y: coordinates[1].y },\n          ],\n        },\n      ];\n      dashedLines.push({\n        coordinates: [\n          { x: coordinates[1].x, y: coordinates[2].y },\n          { x: coordinates[0].x, y: coordinates[2].y + height },\n        ],\n      });\n    } else {\n      mainLine = [{ coordinates: coordinates }];\n    }\n    return [\n      {\n        type: 'line',\n        ignoreEvent: false,\n        attrs: mainLine,\n      },\n      {\n        type: 'line',\n        ignoreEvent: false,\n        attrs: dashedLines,\n      },\n    ];\n  },\n  performEventMoveForDrawing: ({ currentStep, points, performPoint }) => {\n    switch (currentStep) {\n      case 3:\n        points[1].timestamp = performPoint.timestamp;\n        points[1].dataIndex = performPoint.dataIndex;\n        break;\n    }\n  },\n  performEventPressedMove: ({ points, performPointIndex, performPoint }) => {\n    switch (performPointIndex) {\n      case 1:\n        points[2].timestamp = performPoint.timestamp;\n        points[2].dataIndex = performPoint.dataIndex;\n        break;\n      case 2:\n        points[1].timestamp = performPoint.timestamp;\n        points[1].dataIndex = performPoint.dataIndex;\n        break;\n    }\n  },\n};\n\nexport default disJointChannel;\n","import { OverlayTemplate } from '../index';\n\nconst arc: OverlayTemplate = {\n  name: 'arc',\n  totalStep: 3,\n  needDefaultPointFigure: true,\n  needDefaultXAxisFigure: true,\n  needDefaultYAxisFigure: true,\n  styles: {\n    arc: {\n      color: 'rgba(22, 119, 255)',\n    },\n  },\n  createPointFigures: ({ coordinates }) => {\n    if (coordinates.length > 1) {\n      const midX = (coordinates[0].x + coordinates[1].x) / 2;\n      const midY = (coordinates[0].y + coordinates[1].y) / 2;\n      const radius =\n        Math.sqrt(\n          Math.pow(coordinates[1].x - coordinates[0].x, 2) +\n          Math.pow(coordinates[1].y - coordinates[0].y, 2),\n        ) / 2;\n      const startAngle = 0;\n      const endAngle = Math.PI;\n      return [\n        {\n          type: 'arc',\n          attrs: {\n            x: midX,\n            y: midY,\n            r: radius,\n            startAngle: startAngle,\n            endAngle: endAngle,\n          },\n          styles: { style: 'solid' },\n        },\n      ];\n    }\n\n    return [];\n  },\n};\n\nexport default arc;\n","import { OverlayTemplate } from '../index';\n\nconst tradingPlan: OverlayTemplate = {\n  name: 'tradingPlan',\n  totalStep: 5,\n  needDefaultPointFigure: true,\n  needDefaultXAxisFigure: false,\n  needDefaultYAxisFigure: true,\n  createPointFigures: ({ coordinates }) => {\n    const n = coordinates.length;\n    if (n >= 2) {\n      const line = { type: 'line', attrs: { coordinates } };\n      if (n == 2) {\n        return [line];\n      }\n\n      if (n >= 3) {\n        const bottomRect = {\n          type: 'polygon',\n          attrs: {\n            coordinates: [\n              coordinates[0], //\n              coordinates[1],\n              { x: coordinates[1].x, y: coordinates[2].y },\n              { x: coordinates[0].x, y: coordinates[2].y },\n            ],\n          },\n          styles: { style: 'fill', color: '#DE46464f' },\n        };\n        if (n == 3) {\n          return [bottomRect];\n        }\n\n        const topRect = {\n          type: 'polygon',\n          attrs: {\n            coordinates: [\n              coordinates[0], //\n              coordinates[1],\n              { x: coordinates[1].x, y: coordinates[3].y },\n              { x: coordinates[0].x, y: coordinates[3].y },\n            ],\n          },\n          styles: { style: 'fill', color: '#03ca9b2f' },\n        };\n        return [bottomRect, topRect];\n      }\n    }\n    return [];\n  },\n  performEventMoveForDrawing: ({ currentStep, points, performPoint }) => {\n    switch (currentStep) {\n      case 2:\n        points[0].value = performPoint.value;\n        break;\n      case 3:\n        points[1].timestamp = performPoint.timestamp;\n        points[1].dataIndex = performPoint.dataIndex;\n        break;\n      case 4:\n        points[1].timestamp = points[2].timestamp = performPoint.timestamp;\n        points[1].dataIndex = points[2].dataIndex = performPoint.dataIndex;\n        break;\n    }\n  },\n  performEventPressedMove: ({ points, performPointIndex, performPoint }) => {\n    switch (performPointIndex) {\n      case 0:\n        points[1].value = performPoint.value;\n        break;\n      case 1:\n        points[0].value = performPoint.value;\n        points[2].timestamp = points[3].timestamp = performPoint.timestamp;\n        points[2].dataIndex = points[3].dataIndex = performPoint.dataIndex;\n        break;\n      case 2:\n        points[1].timestamp = points[3].timestamp = performPoint.timestamp;\n        points[1].dataIndex = points[3].dataIndex = performPoint.dataIndex;\n        break;\n      case 3:\n        points[1].timestamp = points[2].timestamp = performPoint.timestamp;\n        points[1].dataIndex = points[2].dataIndex = performPoint.dataIndex;\n        break;\n    }\n  },\n};\n\nexport default tradingPlan;\n","import {\n  OverlayTemplate,\n  TextAttrs,\n  LineAttrs,\n} from '../index';\nimport { formatThousands } from './utils';\n\nconst fibonacciDiagonal: OverlayTemplate = {\n  name: 'fibonacciDiagonal',\n  totalStep: 3,\n  needDefaultPointFigure: true,\n  needDefaultXAxisFigure: true,\n  needDefaultYAxisFigure: true,\n  createPointFigures: ({\n    coordinates,\n    bounding: _bounding,\n    overlay,\n    precision,\n    thousandsSeparator,\n  }: any) => {\n    const points = overlay.points;\n    if (coordinates.length > 0) {\n      const lines: LineAttrs[] = [];\n      const texts: TextAttrs[] = [];\n      // const startX = 0\n      // const endX = bounding.width\n      const startX = coordinates[0].x;\n      const endX = coordinates[coordinates.length - 1].x;\n      if (\n        coordinates.length > 1 &&\n        points[0].value !== undefined &&\n        points[1].value !== undefined\n      ) {\n        const percents = [1, 0.786, 0.618, 0.5, 0.382, 0.236, 0];\n        const yDif = coordinates[0].y - coordinates[1].y;\n        const valueDif = points[0].value - points[1].value;\n        percents.forEach((percent) => {\n          const y = coordinates[1].y + yDif * percent;\n          const value = formatThousands(\n            ((points[1].value ?? 0) + valueDif * percent).toFixed(\n              precision.price,\n            ),\n            thousandsSeparator,\n          );\n          lines.push({\n            coordinates: [\n              { x: startX, y },\n              { x: endX, y },\n            ],\n          });\n          texts.push({\n            x: startX,\n            y,\n            text: `${value} (${(percent * 100).toFixed(1)}%)`,\n            baseline: 'bottom',\n          });\n        });\n        lines.push({\n          coordinates: [\n            { x: lines[0].coordinates[0].x, y: lines[0].coordinates[0].y },\n            {\n              x: lines[percents.length - 1].coordinates[1].x,\n              y: lines[percents.length - 1].coordinates[1].y,\n            },\n          ],\n        });\n      }\n      return [\n        {\n          type: 'line',\n          attrs: lines,\n        },\n        {\n          type: 'text',\n          isCheckEvent: false,\n          attrs: texts,\n        },\n      ];\n    }\n    return [];\n  },\n  onRightClick: (event): boolean => {\n    alert(`object ${event.overlay.name} was clicked`);\n    return true;\n  },\n};\n\nexport default fibonacciDiagonal;\n","import arrow from './arrow';\n\nimport circle from './circle';\nimport rect from './rect';\nimport parallelogram from './parallelogram';\nimport triangle from './triangle';\nimport fibonacciCircle from './fibonacciCircle';\nimport fibonacciSegment from './fibonacciSegment';\nimport fibonacciSpiral from './fibonacciSpiral';\nimport fibonacciSpeedResistanceFan from './fibonacciSpeedResistanceFan';\nimport fibonacciExtension from './fibonacciExtension';\nimport gannBox from './gannBox';\nimport threeWaves from './threeWaves';\nimport fiveWaves from './fiveWaves';\nimport eightWaves from './eightWaves';\nimport anyWaves from './anyWaves';\nimport abcd from './abcd';\nimport xabcd from './xabcd';\nimport elliotTripleComboWaves from './elliotTripleComboWaves';\nimport headAndShoulders from './headAndShoulders';\nimport measure from './measure';\nimport crossLine from './crossLine';\nimport faltTopBottom from './faltTopBottom';\nimport disJointChannel from './disJointChannel';\nimport arc from './arc';\nimport tradingPlan from './tradingPlan';\nimport fibonacciDiagonal from './fibonacciDiagonal';\n\nconst overlays = [\n  arrow,\n  circle,\n  rect,\n  triangle,\n  parallelogram,\n  fibonacciCircle,\n  fibonacciSegment,\n  fibonacciSpiral,\n  fibonacciSpeedResistanceFan,\n  fibonacciExtension,\n  gannBox,\n  threeWaves,\n  fiveWaves,\n  eightWaves,\n  anyWaves,\n  abcd,\n  xabcd,\n  elliotTripleComboWaves,\n  headAndShoulders,\n  measure,\n  crossLine,\n  faltTopBottom,\n  disJointChannel,\n  arc,\n  tradingPlan,\n  fibonacciDiagonal,\n];\n\nexport default overlays;\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CandleType, YAxisType } from './common/Styles'\nimport type {\n  LineType, PolygonType, TooltipShowRule, TooltipShowType, FeatureType, TooltipFeaturePosition,\n  CandleTooltipRectPosition, Styles\n} from './common/Styles'\nimport type { KLineData } from './common/Data'\nimport type { SymbolInfo } from './common/SymbolInfo'\nimport type { Period } from './common/Period'\n\ntype TViewData = KLineData\nexport { type TViewData }\n\nimport {\n  clone, merge, isString, isNumber, isValid, isObject, isArray, isFunction, isBoolean\n} from './common/utils/typeChecks'\nimport {\n  formatValue,\n  formatPrecision,\n  formatBigNumber,\n  formatThousands,\n  formatFoldDecimal,\n  formatTimestampByTemplate\n} from './common/utils/format'\nimport { calcTextWidth } from './common/utils/canvas'\nimport type { ActionType } from './common/Action'\nimport type { IndicatorSeries, Indicator } from './component/Indicator'\nimport type { OverlayMode } from './component/Overlay'\n\nimport type { FormatDateType, Options, ZoomAnchor } from './Options'\nimport type { PaneOptions } from './pane/types'\nimport type { Chart, DomPosition } from './Chart'\nimport type DeepPartial from './common/DeepPartial'\nimport type { OverlayTemplate, OverlayCreateFiguresCallbackParams, OverlayFigure, OverlayCreate } from './component/Overlay'\nimport type { LineAttrs } from './extension/figure/line'\nimport type { PolygonAttrs } from './extension/figure/polygon'\nimport type { CircleAttrs } from './extension/figure/circle'\nimport type { TextAttrs } from './extension/figure/text'\nimport type Coordinate from './common/Coordinate'\nimport type Bounding from './common/Bounding'\nimport type Nullable from './common/Nullable'\n\nimport { checkCoordinateOnArc } from './extension/figure/arc'\nimport { checkCoordinateOnCircle } from './extension/figure/circle'\nimport {\n  checkCoordinateOnLine,\n  getLinearYFromSlopeIntercept,\n  getLinearSlopeIntercept,\n  getLinearYFromCoordinates\n} from './extension/figure/line'\nimport { checkCoordinateOnPolygon } from './extension/figure/polygon'\nimport { checkCoordinateOnRect } from './extension/figure/rect'\nimport { checkCoordinateOnText } from './extension/figure/text'\n\nimport { registerFigure, getSupportedFigures, getFigureClass } from './extension/figure/index'\nimport { registerIndicator, getSupportedIndicators } from './extension/indicator/index'\nimport { registerLocale, getSupportedLocales } from './extension/i18n/index'\nimport { registerOverlay, getOverlayClass, getSupportedOverlays } from './extension/overlay/index'\nimport { registerStyles } from './extension/styles/index'\nimport { registerXAxis } from './extension/x-axis'\nimport { registerYAxis } from './extension/y-axis'\n\nimport { version, init, dispose } from './core'\n\nimport proOverlays from './pro/extension/index'\n\n// Register Pro overlays automatically\nproOverlays.forEach((o: any) => {\n  registerOverlay(o)\n})\n\nconst utils = {\n  clone,\n  merge,\n  isString,\n  isNumber,\n  isValid,\n  isObject,\n  isArray,\n  isFunction,\n  isBoolean,\n  formatValue,\n  formatPrecision,\n  formatBigNumber,\n  formatDate: formatTimestampByTemplate,\n  formatThousands,\n  formatFoldDecimal,\n  calcTextWidth,\n  getLinearSlopeIntercept,\n  getLinearYFromSlopeIntercept,\n  getLinearYFromCoordinates,\n  checkCoordinateOnArc,\n  checkCoordinateOnCircle,\n  checkCoordinateOnLine,\n  checkCoordinateOnPolygon,\n  checkCoordinateOnRect,\n  checkCoordinateOnText\n}\n\n// Pro module re-exports\nexport { default as ChartMain } from './pro/ChartMain'\nexport type { ChartMainOptions, ChartMainPeriod, ChartMainSymbol, Datafeed } from './pro/types'\nexport { proOverlays }\n\nexport {\n  version, init, dispose,\n  registerFigure, getSupportedFigures, getFigureClass,\n  registerIndicator, getSupportedIndicators,\n  registerOverlay, getSupportedOverlays, getOverlayClass,\n  registerLocale, getSupportedLocales,\n  registerStyles,\n  registerXAxis, registerYAxis,\n  utils,\n  type LineType, type PolygonType, type TooltipShowRule, type TooltipShowType, type FeatureType, type TooltipFeaturePosition, type CandleTooltipRectPosition,\n  type CandleType as CandleTypeType,\n  type FormatDateType, type ZoomAnchor,\n  type DomPosition, type ActionType, type IndicatorSeries, type OverlayMode,\n  type Chart, type Options, type DeepPartial, type PaneOptions, type Indicator,\n  type Styles, type SymbolInfo, type Period, type KLineData,\n  type OverlayTemplate, type LineAttrs, type PolygonAttrs, type Coordinate, type Bounding,\n  type OverlayCreateFiguresCallbackParams, type OverlayFigure, type OverlayCreate,\n  type CircleAttrs, type TextAttrs, type Nullable,\n  CandleType, YAxisType\n}\n"],"names":["formatThousands","getDistance","arc","circle","rect","extensions","getRayLine","rotatePoint","arrow","distance","triangle","parallelogram","fibonacciCircle","fibonacciSegment","fibonacciExtension","extendLine","fibonacciSpiral","fibonacciSpeedResistanceFan","fibonacciDiagonal","gannBox","threeWaves","fiveWaves","eightWaves","anyWaves","abcd","xabcd","elliotTripleComboWaves","headAndShoulders","measure","crossLine","disJointChannel","tradingPlan","overlays","normal","getExtensionStyles","CandleLastPriceLineView","ChartStore","proOverlays"],"mappings":"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"}